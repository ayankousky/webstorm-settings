<application>
  <component name="VimSettings">
    <state version="4" enabled="true" />
    <globalmarks />
    <filemarks>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/media/src/entities/networkManager/index.js" timestamp="1522625047506">
        <mark key="[" line="114" column="0" />
        <mark key="]" line="114" column="0" />
        <mark key="^" line="114" column="25" />
        <mark key="." line="114" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/iam/tmp/lambda_policy.json" timestamp="1524438495094">
        <mark key="[" line="15" column="6" />
        <mark key="]" line="16" column="5" />
        <mark key="^" line="16" column="5" />
        <mark key="." line="16" column="5" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/Dockerfile" timestamp="1520719857607">
        <mark key="[" line="3" column="16" />
        <mark key="]" line="3" column="20" />
        <mark key="." line="3" column="20" />
        <mark key="^" line="3" column="20" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/server/conf.prod.nginx" timestamp="1521490204762">
        <mark key="[" line="43" column="27" />
        <mark key="]" line="43" column="28" />
        <mark key="^" line="43" column="28" />
        <mark key="." line="43" column="28" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/media/src/services/db/rae_rules.js" timestamp="1522482884556">
        <mark key="[" line="61" column="3" />
        <mark key="]" line="61" column="2" />
        <mark key="^" line="61" column="2" />
        <mark key="." line="61" column="2" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/video/onVideoUploaded.json" timestamp="1523339616236">
        <mark key="[" line="29" column="41" />
        <mark key="]" line="29" column="43" />
        <mark key="." line="29" column="43" />
        <mark key="^" line="29" column="43" />
      </file>
      <file name="$USER_HOME$/Desktop/default 2.nginx" timestamp="1526129983842">
        <mark key="[" line="14" column="2" />
        <mark key="]" line="14" column="5" />
        <mark key="." line="14" column="5" />
        <mark key="^" line="14" column="5" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/helpers/request.js" timestamp="1524425874834">
        <mark key="[" line="42" column="22" />
        <mark key="]" line="42" column="22" />
        <mark key="." line="42" column="22" />
        <mark key="^" line="42" column="26" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/video/create.json" timestamp="1520601921299">
        <mark key="[" line="5" column="0" />
        <mark key="]" line="5" column="0" />
        <mark key="^" line="5" column="18" />
        <mark key="." line="5" column="0" />
      </file>
      <file name="$USER_HOME$/Desktop/nginx_conf/prod.nginx" timestamp="1528149631928">
        <mark key="[" line="15" column="15" />
        <mark key="]" line="15" column="29" />
        <mark key="." line="15" column="29" />
        <mark key="^" line="15" column="29" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/deep/deeper/docker-compose.yml" timestamp="1520720656459">
        <mark key="[" line="11" column="0" />
        <mark key="]" line="11" column="0" />
        <mark key="^" line="19" column="13" />
        <mark key="." line="11" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/services/reporter/reports/rae_daily.js" timestamp="1520974434663">
        <mark key="[" line="153" column="4" />
        <mark key="]" line="153" column="4" />
        <mark key="^" line="153" column="4" />
        <mark key="." line="153" column="4" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/configs/main.json" timestamp="1516142140705">
        <mark key="[" line="0" column="44" />
        <mark key="]" line="0" column="40" />
        <mark key="^" line="0" column="40" />
        <mark key="." line="0" column="40" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/src/helpers/index.js" timestamp="1518471101758">
        <mark key="[" line="3" column="36" />
        <mark key="]" line="5" column="24" />
        <mark key="^" line="5" column="24" />
        <mark key="." line="5" column="24" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/models/folder.js" timestamp="1525821231686">
        <mark key="[" line="507" column="49" />
        <mark key="]" line="507" column="48" />
        <mark key="." line="507" column="48" />
        <mark key="^" line="507" column="48" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/admin-panel/client/package.json" timestamp="1520785715373">
        <mark key="[" line="22" column="4" />
        <mark key="]" line="22" column="2" />
        <mark key="." line="22" column="2" />
        <mark key="^" line="22" column="2" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/services/mail/index.js" timestamp="1518038708899">
        <mark key="[" line="36" column="0" />
        <mark key="]" line="36" column="0" />
        <mark key="^" line="26" column="50" />
        <mark key="." line="36" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/nginx/app/index.html" timestamp="1526207186512">
        <mark key="[" line="7" column="4" />
        <mark key="]" line="7" column="4" />
        <mark key="^" line="7" column="4" />
        <mark key="." line="7" column="4" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/models/cloud_user.js" timestamp="1527415688417">
        <mark key="[" line="325" column="83" />
        <mark key="]" line="325" column="99" />
        <mark key="^" line="325" column="99" />
        <mark key="." line="325" column="99" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/admin-panel/Dockerfile" timestamp="1521134198148">
        <mark key="[" line="13" column="14" />
        <mark key="]" line="13" column="19" />
        <mark key="." line="13" column="19" />
        <mark key="^" line="13" column="19" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/services/reporter/providers/file.js" timestamp="1518038543659">
        <mark key="[" line="5" column="2" />
        <mark key="]" line="10" column="46" />
        <mark key="." line="10" column="46" />
        <mark key="^" line="10" column="46" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/src/services/db/network.js" timestamp="1514497707084">
        <mark key="[" line="5" column="7" />
        <mark key="]" line="5" column="5" />
        <mark key="^" line="5" column="5" />
        <mark key="." line="5" column="5" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/zoom.js" timestamp="1526882775087">
        <mark key="[" line="8" column="0" />
        <mark key="]" line="8" column="0" />
        <mark key="." line="8" column="0" />
        <mark key="^" line="22" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/vulcam-base/.gitignore" timestamp="1527630319221">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="0" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/nginx/conf.prod.nginx" timestamp="1520795531125">
        <mark key="[" line="28" column="3" />
        <mark key="]" line="32" column="2" />
        <mark key="^" line="32" column="2" />
        <mark key="." line="32" column="2" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/src/controllers/redirect_page.pug" timestamp="1518463353302">
        <mark key="[" line="4" column="20" />
        <mark key="]" line="4" column="20" />
        <mark key="." line="4" column="20" />
        <mark key="^" line="4" column="20" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/bin/_functions.sh" timestamp="1524441264851">
        <mark key="[" line="51" column="0" />
        <mark key="]" line="51" column="0" />
        <mark key="." line="51" column="0" />
        <mark key="^" line="51" column="3" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/video/rate.json" timestamp="1526967981799">
        <mark key="[" line="3" column="5" />
        <mark key="]" line="3" column="5" />
        <mark key="." line="3" column="5" />
        <mark key="^" line="3" column="5" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/entites/networks/types/billiger.js" timestamp="1520172696232">
        <mark key="[" line="358" column="0" />
        <mark key="]" line="358" column="0" />
        <mark key="^" line="381" column="6" />
        <mark key="." line="358" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/errors/apiStatusCodes.js" timestamp="1525804910602">
        <mark key="[" line="23" column="36" />
        <mark key="]" line="23" column="37" />
        <mark key="^" line="23" column="31" />
        <mark key="." line="23" column="37" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/asdf.js" timestamp="1518042917577">
        <mark key="[" line="15" column="15" />
        <mark key="]" line="15" column="34" />
        <mark key="." line="15" column="34" />
        <mark key="^" line="15" column="34" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/serverless.yml" timestamp="1527415884613">
        <mark key="'" line="450" column="13" />
        <mark key="[" line="409" column="18" />
        <mark key="]" line="409" column="23" />
        <mark key="^" line="409" column="23" />
        <mark key="." line="409" column="23" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/src/services/db/click_stat.js" timestamp="1518040315085">
        <mark key="[" line="60" column="0" />
        <mark key="]" line="60" column="0" />
        <mark key="^" line="58" column="30" />
        <mark key="." line="60" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/bin/init_s3.sh" timestamp="1527416255833">
        <mark key="[" line="45" column="0" />
        <mark key="]" line="45" column="0" />
        <mark key="^" line="43" column="26" />
        <mark key="." line="45" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/media/src/services/db/merchant.js" timestamp="1522627801715">
        <mark key="[" line="35" column="0" />
        <mark key="]" line="35" column="0" />
        <mark key="^" line="34" column="1" />
        <mark key="." line="35" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/nginx/config.nginx" timestamp="1526205400888">
        <mark key="[" line="6" column="51" />
        <mark key="]" line="6" column="55" />
        <mark key="^" line="6" column="55" />
        <mark key="." line="6" column="55" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/media/src/app.js" timestamp="1521151591109">
        <mark key="[" line="13" column="33" />
        <mark key="]" line="13" column="33" />
        <mark key="." line="13" column="33" />
        <mark key="^" line="13" column="33" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/swagger/index.js" timestamp="1526987556427">
        <mark key="[" line="18" column="70" />
        <mark key="]" line="19" column="31" />
        <mark key="." line="19" column="31" />
        <mark key="^" line="19" column="31" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/index.html" timestamp="1518239816325">
        <mark key="[" line="7" column="47" />
        <mark key="]" line="7" column="47" />
        <mark key="^" line="7" column="47" />
        <mark key="." line="7" column="47" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/services/vulcam_backend/index.js" timestamp="1527446992775">
        <mark key="[" line="143" column="0" />
        <mark key="]" line="143" column="0" />
        <mark key="^" line="144" column="37" />
        <mark key="." line="143" column="0" />
      </file>
      <file name="$USER_HOME$/Desktop/207758_part001.json" timestamp="1519161783339">
        <mark key="[" line="0" column="1850" />
        <mark key="]" line="0" column="1848" />
        <mark key="." line="0" column="1848" />
        <mark key="^" line="0" column="1848" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/video/updateVideo.json" timestamp="1520602821736">
        <mark key="[" line="5" column="0" />
        <mark key="]" line="5" column="0" />
        <mark key="." line="5" column="0" />
        <mark key="^" line="2" column="17" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/user/login.json" timestamp="1526888365572">
        <mark key="[" line="57" column="5" />
        <mark key="]" line="57" column="5" />
        <mark key="." line="57" column="5" />
        <mark key="^" line="57" column="5" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/src/services/db/rae_rules.js" timestamp="1520795724733">
        <mark key="[" line="65" column="0" />
        <mark key="]" line="65" column="0" />
        <mark key="^" line="51" column="18" />
        <mark key="." line="65" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/client/admin-panel/src/app/app-routing.module.ts" timestamp="1514533680921">
        <mark key="[" line="29" column="0" />
        <mark key="]" line="29" column="0" />
        <mark key="^" line="34" column="51" />
        <mark key="." line="29" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/helpers/index.js" timestamp="1517984754441">
        <mark key="[" line="3" column="36" />
        <mark key="]" line="3" column="37" />
        <mark key="^" line="3" column="36" />
        <mark key="." line="3" column="37" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/mock/index.js" timestamp="1525214831300">
        <mark key="[" line="45" column="0" />
        <mark key="]" line="45" column="0" />
        <mark key="^" line="51" column="15" />
        <mark key="." line="45" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/controllers/event.js" timestamp="1526969893573">
        <mark key="[" line="141" column="0" />
        <mark key="]" line="141" column="0" />
        <mark key="." line="141" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/sharings/save.json" timestamp="1526507357943">
        <mark key="[" line="29" column="6" />
        <mark key="]" line="29" column="6" />
        <mark key="." line="29" column="6" />
        <mark key="^" line="29" column="6" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/website/.env" timestamp="1521489820080">
        <mark key="[" line="0" column="15" />
        <mark key="]" line="1" column="34" />
        <mark key="^" line="1" column="34" />
        <mark key="." line="1" column="34" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/playback-server/vulcam-base/base/playback-server/controllers/video.js" timestamp="1526989096718">
        <mark key="[" line="70" column="0" />
        <mark key="]" line="70" column="0" />
        <mark key="^" line="70" column="18" />
        <mark key="." line="70" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/video/update_folder.json" timestamp="1520516185653">
        <mark key="[" line="3" column="27" />
        <mark key="]" line="3" column="27" />
        <mark key="^" line="3" column="27" />
        <mark key="." line="3" column="27" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/user/update.json" timestamp="1521499787236">
        <mark key="[" line="8" column="0" />
        <mark key="]" line="8" column="441" />
        <mark key="." line="60" column="80" />
        <mark key="^" line="60" column="80" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" timestamp="1527447352490">
        <mark key="'" line="4689" column="0" />
        <mark key="[" line="21" column="0" />
        <mark key="]" line="21" column="29" />
        <mark key="^" line="192" column="8" />
        <mark key="." line="21" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/services/db/index.js" timestamp="1520462062710">
        <mark key="[" line="24" column="27" />
        <mark key="]" line="24" column="27" />
        <mark key="^" line="24" column="27" />
        <mark key="." line="24" column="27" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/stacks-map.js" timestamp="1524410447790">
        <mark key="[" line="5" column="12" />
        <mark key="]" line="5" column="53" />
        <mark key="." line="5" column="12" />
        <mark key="^" line="5" column="11" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/video/onNewLike.json" timestamp="1526968929017">
        <mark key="[" line="21" column="12" />
        <mark key="]" line="24" column="12" />
        <mark key="." line="21" column="12" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/sharings/delete.json" timestamp="1523570811118">
        <mark key="[" line="12" column="6" />
        <mark key="]" line="12" column="6" />
        <mark key="." line="12" column="6" />
        <mark key="^" line="12" column="6" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/video/rmRate.json" timestamp="1526982434400">
        <mark key="[" line="2" column="0" />
        <mark key="]" line="2" column="0" />
        <mark key="." line="2" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/video/onRmRate.json" timestamp="1526982850621">
        <mark key="[" line="23" column="18" />
        <mark key="]" line="23" column="19" />
        <mark key="." line="23" column="19" />
        <mark key="^" line="23" column="19" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/channel/get_folders.json" timestamp="1520517296862">
        <mark key="[" line="31" column="0" />
        <mark key="]" line="31" column="0" />
        <mark key="." line="31" column="0" />
        <mark key="^" line="33" column="19" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/playback-server/vulcam-base/base/playback-server/config/env/prod.json" timestamp="1526989261915">
        <mark key="[" line="1" column="75" />
        <mark key="]" line="1" column="75" />
        <mark key="^" line="1" column="79" />
        <mark key="." line="1" column="75" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/video/onDislike.json" timestamp="1526968911133">
        <mark key="[" line="47" column="12" />
        <mark key="]" line="47" column="12" />
        <mark key="^" line="47" column="11" />
        <mark key="." line="47" column="12" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/services/translator/index.js" timestamp="1519682515418">
        <mark key="[" line="26" column="0" />
        <mark key="]" line="26" column="0" />
        <mark key="^" line="25" column="5" />
        <mark key="." line="26" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/services/offersImporter/index.js" timestamp="1519486177470">
        <mark key="[" line="27" column="172" />
        <mark key="]" line="27" column="170" />
        <mark key="." line="27" column="170" />
        <mark key="^" line="27" column="170" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/admin-panel/Dockerfile" timestamp="1520784497111">
        <mark key="[" line="6" column="0" />
        <mark key="]" line="6" column="0" />
        <mark key="." line="6" column="0" />
        <mark key="^" line="6" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/README.md" timestamp="1521055485064">
        <mark key="[" line="17" column="2" />
        <mark key="]" line="17" column="3" />
        <mark key="^" line="17" column="3" />
        <mark key="." line="17" column="3" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/services/offersImporter/index.js" timestamp="1525646376186">
        <mark key="[" line="47" column="70" />
        <mark key="]" line="48" column="20" />
        <mark key="." line="48" column="20" />
        <mark key="^" line="48" column="20" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/services/mail/templates/registration_success_with_password.pug" timestamp="1521665383774">
        <mark key="[" line="42" column="102" />
        <mark key="]" line="42" column="107" />
        <mark key="^" line="42" column="107" />
        <mark key="." line="42" column="107" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/folder/update_folder.json" timestamp="1520602735246">
        <mark key="[" line="2" column="28" />
        <mark key="]" line="2" column="36" />
        <mark key="^" line="2" column="36" />
        <mark key="." line="2" column="36" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/media/src/services/db/index.js" timestamp="1521151964395">
        <mark key="[" line="27" column="11" />
        <mark key="]" line="27" column="18" />
        <mark key="." line="27" column="18" />
        <mark key="^" line="27" column="18" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/connexity.js" timestamp="1527102615445">
        <mark key="[" line="107" column="0" />
        <mark key="]" line="107" column="0" />
        <mark key="." line="107" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/src/services/analytics/index.js" timestamp="1514499505386">
        <mark key="[" line="20" column="27" />
        <mark key="]" line="20" column="27" />
        <mark key="^" line="20" column="27" />
        <mark key="." line="20" column="27" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/deep/deeper/docker-compose.dev.yml" timestamp="1520718916168">
        <mark key="[" line="4" column="20" />
        <mark key="]" line="4" column="20" />
        <mark key="^" line="2" column="9" />
        <mark key="." line="4" column="20" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/services/db/index.js" timestamp="1521137334234">
        <mark key="[" line="27" column="11" />
        <mark key="]" line="27" column="18" />
        <mark key="." line="27" column="18" />
        <mark key="^" line="27" column="18" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/admin-panel/src/auth/auth.routes.js" timestamp="1520786943404">
        <mark key="[" line="4" column="0" />
        <mark key="]" line="4" column="0" />
        <mark key="^" line="4" column="23" />
        <mark key="." line="4" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/models/video.js" timestamp="1528268476578">
        <mark key="[" line="362" column="0" />
        <mark key="]" line="362" column="0" />
        <mark key="." line="362" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/admin-panel/src/offer/offer.routes.js" timestamp="1520787050374">
        <mark key="[" line="6" column="16" />
        <mark key="]" line="6" column="16" />
        <mark key="." line="6" column="16" />
        <mark key="^" line="6" column="16" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/admin-panel/index.js" timestamp="1527197683582">
        <mark key="[" line="2" column="0" />
        <mark key="]" line="2" column="58" />
        <mark key="." line="2" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/server/.gitignore" timestamp="1521134455711">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="4" />
        <mark key="^" line="0" column="4" />
        <mark key="." line="0" column="4" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/services/reporter/providers/base.js" timestamp="1517979329471">
        <mark key="[" line="6" column="1" />
        <mark key="]" line="8" column="29" />
        <mark key="^" line="8" column="29" />
        <mark key="." line="8" column="29" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/services/mail/templates/verify_registration.pug" timestamp="1521667811445">
        <mark key="[" line="44" column="48" />
        <mark key="]" line="44" column="48" />
        <mark key="." line="44" column="48" />
        <mark key="^" line="44" column="48" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/test/dev_tests.js" timestamp="1517877773072">
        <mark key="[" line="2" column="20" />
        <mark key="]" line="2" column="21" />
        <mark key="." line="2" column="21" />
        <mark key="^" line="2" column="21" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/ii.js" timestamp="1514490683374">
        <mark key="[" line="9" column="0" />
        <mark key="]" line="9" column="0" />
        <mark key="^" line="7" column="49" />
        <mark key="." line="9" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/user/updatePassword.json" timestamp="1524418264738">
        <mark key="[" line="63" column="30" />
        <mark key="]" line="63" column="30" />
        <mark key="^" line="61" column="28" />
        <mark key="." line="63" column="30" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/helpers/aws/s3.js" timestamp="1527420182010">
        <mark key="[" line="145" column="39" />
        <mark key="]" line="145" column="39" />
        <mark key="^" line="145" column="39" />
        <mark key="." line="145" column="39" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/services/db/category.js" timestamp="1525554485447">
        <mark key="[" line="90" column="24" />
        <mark key="]" line="90" column="28" />
        <mark key="." line="90" column="28" />
        <mark key="^" line="90" column="28" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/test_ecr/docker-compose.test.yml" timestamp="1520717803766">
        <mark key="[" line="4" column="70" />
        <mark key="]" line="9" column="24" />
        <mark key="^" line="9" column="24" />
        <mark key="." line="9" column="24" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/services/db/click_stat.js" timestamp="1518040191357">
        <mark key="[" line="51" column="26" />
        <mark key="]" line="52" column="28" />
        <mark key="^" line="52" column="28" />
        <mark key="." line="52" column="28" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/_functions.js" timestamp="1525207447363">
        <mark key="[" line="20" column="4" />
        <mark key="]" line="174" column="6" />
        <mark key="^" line="20" column="61" />
        <mark key="." line="20" column="64" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/entities/elasticsearch/videos/video.js" timestamp="1526987114423">
        <mark key="[" line="62" column="19" />
        <mark key="]" line="62" column="22" />
        <mark key="^" line="62" column="22" />
        <mark key="." line="62" column="22" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/entities/elasticsearch/index.js" timestamp="1517171769244">
        <mark key="[" line="9" column="12" />
        <mark key="]" line="9" column="22" />
        <mark key="." line="9" column="22" />
        <mark key="^" line="9" column="22" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/nodemon.json" timestamp="1518731872518">
        <mark key="[" line="10" column="66" />
        <mark key="]" line="10" column="64" />
        <mark key="." line="10" column="64" />
        <mark key="^" line="10" column="64" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/package.json" timestamp="1525680394494">
        <mark key="[" line="29" column="24" />
        <mark key="]" line="29" column="22" />
        <mark key="." line="29" column="22" />
        <mark key="^" line="29" column="22" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/services/reporter/providers/local.js" timestamp="1517979131291">
        <mark key="[" line="14" column="17" />
        <mark key="]" line="14" column="20" />
        <mark key="^" line="14" column="20" />
        <mark key="." line="14" column="20" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/iam/s3/distribution_config.json" timestamp="1527415328326">
        <mark key="[" line="151" column="6" />
        <mark key="]" line="9" column="0" />
        <mark key="." line="9" column="0" />
        <mark key="^" line="70" column="25" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/server/conf.test.nginx" timestamp="1523372998307">
        <mark key="[" line="122" column="0" />
        <mark key="]" line="122" column="0" />
        <mark key="^" line="121" column="20" />
        <mark key="." line="122" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/src/controllers/redirect.js" timestamp="1518463342653">
        <mark key="[" line="1" column="0" />
        <mark key="]" line="1" column="0" />
        <mark key="^" line="0" column="1" />
        <mark key="." line="1" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/server/conf.dev.nginx" timestamp="1521490143673">
        <mark key="[" line="130" column="24" />
        <mark key="]" line="130" column="30" />
        <mark key="." line="130" column="30" />
        <mark key="^" line="130" column="30" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/kd.js" timestamp="1518039614021">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="12" />
        <mark key="^" line="0" column="12" />
        <mark key="." line="0" column="12" />
      </file>
      <file name="$USER_HOME$/Desktop/nginx_conf/conf.nginx" timestamp="1528060908517">
        <mark key="[" line="32" column="0" />
        <mark key="]" line="32" column="0" />
        <mark key="^" line="29" column="5" />
        <mark key="." line="32" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/docker-compose.test.yml" timestamp="1523373159006">
        <mark key="[" line="62" column="20" />
        <mark key="]" line="62" column="20" />
        <mark key="^" line="62" column="20" />
        <mark key="." line="62" column="20" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/errors/index.js" timestamp="1519946559220">
        <mark key="[" line="43" column="19" />
        <mark key="]" line="43" column="33" />
        <mark key="." line="43" column="33" />
        <mark key="^" line="43" column="33" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/services/db/merchant.js" timestamp="1519334287321">
        <mark key="[" line="51" column="0" />
        <mark key="]" line="51" column="0" />
        <mark key="." line="51" column="0" />
        <mark key="^" line="50" column="8" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/client/admin-panel/src/app/videos-table/videos-table.component.ts" timestamp="1520372139332">
        <mark key="[" line="68" column="21" />
        <mark key="]" line="68" column="25" />
        <mark key="^" line="68" column="25" />
        <mark key="." line="68" column="25" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/channel/get_channels.json" timestamp="1527415864068">
        <mark key="[" line="13" column="6" />
        <mark key="]" line="13" column="7" />
        <mark key="." line="13" column="7" />
        <mark key="^" line="13" column="7" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/client/admin-panel/src/app/app.component.html" timestamp="1515365797773">
        <mark key="[" line="11" column="36" />
        <mark key="]" line="11" column="44" />
        <mark key="." line="11" column="44" />
        <mark key="^" line="11" column="44" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/index.js" timestamp="1528230205845">
        <mark key="[" line="31" column="4" />
        <mark key="]" line="31" column="4" />
        <mark key="." line="31" column="4" />
        <mark key="^" line="31" column="4" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/services/db/network.js" timestamp="1519691214492">
        <mark key="[" line="117" column="6" />
        <mark key="]" line="117" column="14" />
        <mark key="." line="117" column="14" />
        <mark key="^" line="117" column="14" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/helpers/aws/dynamodb.js" timestamp="1518642831898">
        <mark key="[" line="65" column="0" />
        <mark key="]" line="65" column="0" />
        <mark key="." line="65" column="0" />
        <mark key="^" line="64" column="34" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/helpers/common.js" timestamp="1526053457783">
        <mark key="[" line="27" column="16" />
        <mark key="]" line="27" column="25" />
        <mark key="^" line="27" column="25" />
        <mark key="." line="27" column="25" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/entites/networks/types/base.js" timestamp="1517865529054">
        <mark key="[" line="13" column="1" />
        <mark key="]" line="16" column="24" />
        <mark key="^" line="16" column="24" />
        <mark key="." line="16" column="24" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/cleanAfter.js" timestamp="1527447187509">
        <mark key="[" line="64" column="0" />
        <mark key="]" line="64" column="0" />
        <mark key="." line="64" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/iam/s3/multipart_upload_role_trust.json" timestamp="1521502084822">
        <mark key="[" line="13" column="16" />
        <mark key="]" line="13" column="57" />
        <mark key="^" line="13" column="57" />
        <mark key="." line="13" column="57" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/client/admin-panel/src/app/app.component.ts" timestamp="1515364711445">
        <mark key="[" line="11" column="46" />
        <mark key="]" line="11" column="48" />
        <mark key="^" line="11" column="48" />
        <mark key="." line="11" column="48" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/services/translator/locales/en.json" timestamp="1524418173006">
        <mark key="[" line="49" column="37" />
        <mark key="]" line="49" column="37" />
        <mark key="." line="49" column="37" />
        <mark key="^" line="49" column="52" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" timestamp="1527105174078">
        <mark key="[" line="169" column="125" />
        <mark key="]" line="170" column="33" />
        <mark key="^" line="170" column="33" />
        <mark key="." line="170" column="33" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/src/entities/networkManager/index.js" timestamp="1520436335838">
        <mark key="[" line="128" column="20" />
        <mark key="]" line="128" column="25" />
        <mark key="^" line="128" column="25" />
        <mark key="." line="128" column="25" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/video/videoGet.json" timestamp="1526985372058">
        <mark key="[" line="32" column="23" />
        <mark key="]" line="33" column="16" />
        <mark key="." line="33" column="16" />
        <mark key="^" line="33" column="16" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/folder/delete.json" timestamp="1520630371131">
        <mark key="[" line="35" column="19" />
        <mark key="]" line="35" column="20" />
        <mark key="." line="35" column="20" />
        <mark key="^" line="35" column="19" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/entities/elasticsearch/video.js" timestamp="1522882275464">
        <mark key="[" line="86" column="30" />
        <mark key="]" line="86" column="38" />
        <mark key="." line="86" column="38" />
        <mark key="^" line="86" column="38" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/eslinter/.eslintrc.json" timestamp="1526735185807">
        <mark key="[" line="15" column="0" />
        <mark key="]" line="15" column="0" />
        <mark key="." line="15" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/src/entities/networkManager/zoom.js" timestamp="1519692610970">
        <mark key="[" line="12" column="40" />
        <mark key="]" line="12" column="40" />
        <mark key="^" line="12" column="40" />
        <mark key="." line="12" column="40" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/admin-panel/src/config/mongoose.js" timestamp="1527198046028">
        <mark key="[" line="3" column="58" />
        <mark key="]" line="3" column="62" />
        <mark key="^" line="3" column="62" />
        <mark key="." line="3" column="62" />
      </file>
      <file name="$USER_HOME$/Desktop/index.html" timestamp="1521659886559">
        <mark key="[" line="5" column="4" />
        <mark key="]" line="5" column="62" />
        <mark key="^" line="5" column="62" />
        <mark key="." line="5" column="62" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/client/admin-panel/src/app/videos-table/videos-table.component.html" timestamp="1520370466670">
        <mark key="[" line="123" column="12" />
        <mark key="]" line="123" column="21" />
        <mark key="." line="123" column="21" />
        <mark key="^" line="123" column="21" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/admin-panel/package.json" timestamp="1520773785716">
        <mark key="[" line="14" column="15" />
        <mark key="]" line="14" column="22" />
        <mark key="." line="14" column="22" />
        <mark key="^" line="14" column="22" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/docker-compose.yml" timestamp="1521489418712">
        <mark key="[" line="13" column="31" />
        <mark key="]" line="14" column="22" />
        <mark key="." line="14" column="22" />
        <mark key="^" line="14" column="22" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/client/admin-panel/src/app/app.component.css" timestamp="1515372378259">
        <mark key="[" line="2" column="0" />
        <mark key="]" line="2" column="0" />
        <mark key="." line="2" column="0" />
        <mark key="^" line="2" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/node_modules/serverless-plugin-warmup/src/index.js" timestamp="1524773303534">
        <mark key="[" line="51" column="330" />
        <mark key="]" line="51" column="330" />
        <mark key="." line="51" column="330" />
        <mark key="^" line="53" column="38" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/models/channel.js" timestamp="1527415719291">
        <mark key="[" line="248" column="92" />
        <mark key="]" line="248" column="108" />
        <mark key="^" line="248" column="108" />
        <mark key="." line="248" column="108" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/zip_files/router/index.js" timestamp="1516954791805">
        <mark key="[" line="40" column="0" />
        <mark key="]" line="40" column="0" />
        <mark key="^" line="40" column="28" />
        <mark key="." line="40" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/services/reporter/index.js" timestamp="1520463372822">
        <mark key="[" line="17" column="26" />
        <mark key="]" line="17" column="35" />
        <mark key="." line="17" column="35" />
        <mark key="^" line="17" column="35" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/website/Dockerfile" timestamp="1521488966217">
        <mark key="[" line="8" column="14" />
        <mark key="]" line="8" column="18" />
        <mark key="^" line="8" column="18" />
        <mark key="." line="8" column="18" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/users/user_api.js" timestamp="1528235492501" />
      <file name="$USER_HOME$/Desktop/бардик/index.js" timestamp="1526053980373">
        <mark key="[" line="106" column="5" />
        <mark key="]" line="106" column="4" />
        <mark key="^" line="106" column="4" />
        <mark key="." line="106" column="4" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/src/services/analytics/google_analytics.js" timestamp="1514534776349">
        <mark key="[" line="4" column="9" />
        <mark key="]" line="4" column="10" />
        <mark key="^" line="4" column="12" />
        <mark key="." line="4" column="10" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/controllers/channel.js" timestamp="1528235644932">
        <mark key="[" line="565" column="0" />
        <mark key="]" line="565" column="0" />
        <mark key="^" line="0" column="0" />
        <mark key="." line="565" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/configs/main.yml" timestamp="1526967346509">
        <mark key="[" line="28" column="0" />
        <mark key="]" line="28" column="0" />
        <mark key="^" line="30" column="111" />
        <mark key="." line="28" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/video/onLike.json" timestamp="1526968923346">
        <mark key="[" line="44" column="12" />
        <mark key="]" line="47" column="12" />
        <mark key="." line="44" column="12" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/channel_video.js" timestamp="1528268394165">
        <mark key="'" line="571" column="29" />
        <mark key="[" line="347" column="0" />
        <mark key="]" line="347" column="0" />
        <mark key="." line="347" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/shared_video.js" timestamp="1527447345462">
        <mark key="[" line="18" column="0" />
        <mark key="]" line="18" column="29" />
        <mark key="." line="18" column="28" />
        <mark key="^" line="18" column="28" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/src/services/db/clicks_counter.js" timestamp="1520967010024">
        <mark key="[" line="56" column="0" />
        <mark key="]" line="56" column="0" />
        <mark key="." line="56" column="0" />
        <mark key="^" line="113" column="82" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/controllers/account.js" timestamp="1526888647460">
        <mark key="[" line="371" column="43" />
        <mark key="]" line="371" column="43" />
        <mark key="." line="371" column="43" />
        <mark key="^" line="371" column="43" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/models/index.js" timestamp="1526964413777">
        <mark key="[" line="10" column="11" />
        <mark key="]" line="10" column="15" />
        <mark key="." line="10" column="15" />
        <mark key="^" line="10" column="15" />
      </file>
      <file name="/Dummy.txt" timestamp="1527446982018">
        <mark key="[" line="0" column="0" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/admin-panel/package.json" timestamp="1521134185152">
        <mark key="[" line="16" column="5" />
        <mark key="]" line="16" column="10" />
        <mark key="^" line="16" column="10" />
        <mark key="." line="16" column="10" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/media/src/helpers/common.js" timestamp="1521156095276">
        <mark key="[" line="6" column="25" />
        <mark key="]" line="6" column="27" />
        <mark key="." line="6" column="27" />
        <mark key="^" line="6" column="27" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/services/reporter/reports/subid_cost.js" timestamp="1520462943432">
        <mark key="[" line="44" column="68" />
        <mark key="]" line="44" column="96" />
        <mark key="^" line="44" column="96" />
        <mark key="." line="44" column="96" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/user/picture_upload.json" timestamp="1521502110701">
        <mark key="[" line="30" column="14" />
        <mark key="]" line="30" column="17" />
        <mark key="." line="30" column="17" />
        <mark key="^" line="30" column="17" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/entities/elasticsearch/videos/internal.js" timestamp="1526987123925">
        <mark key="[" line="93" column="19" />
        <mark key="]" line="93" column="22" />
        <mark key="^" line="93" column="22" />
        <mark key="." line="93" column="22" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/tmp/split_video/ffmpeg_run.sh" timestamp="1515624101929">
        <mark key="[" line="7" column="18" />
        <mark key="]" line="7" column="21" />
        <mark key="." line="7" column="21" />
        <mark key="^" line="7" column="21" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/services/mail/index.js" timestamp="1525027199737">
        <mark key="[" line="62" column="22" />
        <mark key="]" line="63" column="44" />
        <mark key="^" line="63" column="44" />
        <mark key="." line="63" column="44" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev/user/create.json" timestamp="1525106400198">
        <mark key="[" line="60" column="23" />
        <mark key="]" line="60" column="26" />
        <mark key="^" line="60" column="26" />
        <mark key="." line="60" column="26" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/modules/offers-importer/src/services/reporter/reports/base.js" timestamp="1518032033019">
        <mark key="[" line="2" column="17" />
        <mark key="]" line="3" column="1" />
        <mark key="^" line="3" column="1" />
        <mark key="." line="3" column="1" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/src/services/logger/index.js" timestamp="1516396638118">
        <mark key="[" line="11" column="14" />
        <mark key="]" line="11" column="18" />
        <mark key="." line="11" column="18" />
        <mark key="^" line="11" column="18" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/VulcanVision/gaia/bin/s3/_functions.sh" timestamp="1527420106452">
        <mark key="[" line="15" column="67" />
        <mark key="]" line="15" column="93" />
        <mark key="." line="15" column="93" />
        <mark key="^" line="15" column="93" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/Kalad/project/media/src/services/geolocation/index.js" timestamp="1516396340555">
        <mark key="[" line="28" column="30" />
        <mark key="]" line="28" column="34" />
        <mark key="." line="28" column="34" />
        <mark key="^" line="28" column="34" />
      </file>
    </filemarks>
    <jumps>
      <jump line="2584" column="21" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="2644" column="23" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="2716" column="21" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="2752" column="21" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="2809" column="21" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="2813" column="21" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="2904" column="18" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3100" column="18" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3157" column="18" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3161" column="18" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3364" column="19" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3392" column="19" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3452" column="21" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3525" column="19" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3562" column="19" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3619" column="19" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3623" column="19" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="414" column="18" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="523" column="19" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="551" column="19" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="595" column="22" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="655" column="21" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="682" column="17" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="752" column="19" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="780" column="19" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="840" column="21" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="1269" column="19" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="1297" column="19" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="1357" column="21" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="1878" column="21" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3078" column="16" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3064" column="18" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="2992" column="20" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="2932" column="18" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="536" column="17" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev_tests.js" />
      <jump line="0" column="490" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/req.sh" />
      <jump line="2604" column="6" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="628" column="24" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/controllers/sharing.js" />
      <jump line="242" column="0" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/models/sharing.js" />
      <jump line="3988" column="0" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="4536" column="0" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="4572" column="0" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="2828" column="59" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3082" column="59" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3165" column="52" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3435" column="59" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3617" column="56" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3632" column="55" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3845" column="57" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3950" column="52" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3966" column="55" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="4163" column="57" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="2765" column="55" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="2803" column="57" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="3962" column="0" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="195" column="17" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="65" column="2" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="268" column="29" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="255" column="20" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="234" column="12" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="227" column="12" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="157" column="12" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="252" column="0" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="148" column="8" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="163" column="12" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="223" column="15" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="226" column="12" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="233" column="12" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="249" column="12" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="253" column="23" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/entites/networks/types/billiger.js" />
      <jump line="1655" column="3" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="4464" column="0" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="66" column="13" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="553" column="17" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="4507" column="17" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="441" column="13" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/serverless.yml" />
      <jump line="1030" column="30" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/models/video.js" />
      <jump line="812" column="6" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/dev_tests.js" />
      <jump line="197" column="6" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/models/video.js" />
      <jump line="61" column="5" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/models/likes.js" />
      <jump line="228" column="2" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/models/video.js" />
      <jump line="0" column="0" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/models/video.js" />
      <jump line="1406" column="36" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/controllers/video.js" />
      <jump line="608" column="10" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/models/video.js" />
      <jump line="643" column="0" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/models/video.js" />
      <jump line="165" column="6" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/models/likes.js" />
      <jump line="22" column="0" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/controllers/video.js" />
      <jump line="0" column="0" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/controllers/video.js" />
      <jump line="816" column="3" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/lib/controllers/video.js" />
      <jump line="41" column="35" filename="$USER_HOME$/Documents/Projects/Kalad/project/base/modules/offers-importer/src/app.js" />
      <jump line="1" column="0" filename="$USER_HOME$/Desktop/distribution_config 2.json" />
      <jump line="0" column="0" filename="$USER_HOME$/Desktop/distribution_config 2.json" />
      <jump line="619" column="22" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="898" column="57" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="56" column="28" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/users/user_api.js" />
      <jump line="4689" column="0" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/backup_video.js" />
      <jump line="182" column="35" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/users/user_api.js" />
      <jump line="37" column="12" filename="$USER_HOME$/Desktop/nginx_conf/conf.nginx" />
      <jump line="243" column="34" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/channel_video.js" />
      <jump line="1601" column="29" filename="$USER_HOME$/Documents/Projects/VulcanVision/gaia/test/integration/videos/channel_video.js" />
    </jumps>
    <registers>
      <register name="&quot;" type="2">
        <text encoding="base64">ICAgICAgICAgIHZpZGVvLmlzQ3AgPSB2aWRlby5wZXJtaXNzaW9ucyA9PT0gMTsgLy8gKioqVG9EbyoqKjogaGFyZGNvZGVkIHdoaWxlIHdlIGhhdmUgb25seSBvbmUgcGVybWlzc2lvbnMgZm9yIHZpZGVvCg==</text>
      </register>
      <register name="l" type="4">
        <keys>
          <key char="108" code="0" mods="0" />
          <key char="108" code="0" mods="0" />
          <key char="108" code="0" mods="0" />
          <key char="108" code="0" mods="0" />
          <key char="118" code="0" mods="0" />
          <key char="108" code="0" mods="0" />
          <key char="108" code="0" mods="0" />
          <key char="65535" code="27" mods="0" />
        </keys>
      </register>
      <register name="-" type="4">
        <text>greater</text>
      </register>
      <register name="/" type="4">
        <text encoding="base64">XDxyb290XD4=</text>
      </register>
      <register name="0" type="2">
        <text encoding="base64">ICAgICAgICAgIHZpZGVvLmlzQ3AgPSB2aWRlby5wZXJtaXNzaW9ucyA9PT0gMTsgLy8gKioqVG9EbyoqKjogaGFyZGNvZGVkIHdoaWxlIHdlIGhhdmUgb25seSBvbmUgcGVybWlzc2lvbnMgZm9yIHZpZGVvCg==</text>
      </register>
      <register name="1" type="2">
        <text encoding="base64">ICAgICAgICAgIHZpZGVvLmlzQ3AgPSB2aWRlby5wZXJtaXNzaW9ucyA9PT0gMTsgLy8gKioqVG9EbyoqKjogaGFyZGNvZGVkIHdoaWxlIHdlIGhhdmUgb25seSBvbmUgcGVybWlzc2lvbnMgZm9yIHZpZGVvCg==</text>
      </register>
      <register name="q" type="4">
        <text />
      </register>
      <register name="2" type="2">
        <text encoding="base64">ICAgIC8vICAgLy8gaXQoJ1B1YmxpLyAgIC8vIH0pCg==</text>
      </register>
      <register name="3" type="4">
        <text encoding="base64">YycsIGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgIC8vICAgLy8gICBsZXQgZmllbGRzID0gbW9ja3MudmlkZW8uZ2V0RmllbGRzKGZpcnN0VmlkZW9Qcm9wcyk7CiAgICAvLyAgIC8vICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgLnBvc3QoJy92aWRlb3MnKQogICAgLy8gICAvLyAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAuc2VuZChmaWVsZHMpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICByZXN1bHQuYm9keS5zdWNjZXNzLnNob3VsZC5iZS5lcSh0cnVlKTsKICAgIC8vICAgLy8gICBmaXJzdFZpZGVvID0gcmVzdWx0LmJvZHkudmlkZW87CiAgICAvLyAgIC8vICAgZmlyc3RWaWRlby5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICBmaXJzdFZpZGVvLmlkLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgIGZpcnN0VmlkZW8uaXNQdWJsaWMuc2hvdWxkLmJlLmVxKGZhbHNlKTsKICAgIC8vICAgLy8gICBmaXJzdFZpZGVvLnRpdGxlLnNob3VsZC5iZS5lcShmaWVsZHMudGl0bGUpOwogICAgLy8gICAvLyAgIGZpcnN0VmlkZW8uZGVzY3JpcHRpb24uc2hvdWxkLmJlLmVxKGZpZWxkcy5kZXNjcmlwdGlvbik7CiAgICAvLyAgIC8vICAgZmlyc3RWaWRlby50eXBlLnNob3VsZC5iZS5lcSgnYmFja3VwJyk7CiAgICAvLyAgIC8vICAgZmlyc3RWaWRlby5mb2xkZXJJZC5zaG91bGQuYmUubm90Lm51bGw7CiAgICAvLyAgIC8vICAgZmlyc3RWaWRlby5jb21tZW50c0Rpc2FibGVkLnNob3VsZC5iZS5lcSh0cnVlKTsKICAgIC8vICAgLy8gICBmaXJzdFZpZGVvLmNyZWF0aW9uRGF0ZS5zaG91bGQuYmUubm90Lm51bGw7CiAgICAvLyAgIC8vICAgZmlyc3RWaWRlby5jcmVhdGlvbkRhdGUuc2hvdWxkLmJlLm5vdC5udWxsOwogICAgLy8gICAvLyAgIGZpcnN0VmlkZW8uY2hhbm5lbElkLnNob3VsZC5iZS5lcShtYWluVXNlckJhY2t1cHNDaGFubmVsLmlkKTsKICAgIC8vICAgLy8gfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vIGl0KCdTZWNvbmQnLCBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAvLyAgIC8vICAgbGV0IGZpZWxkcyA9IG1vY2tzLnZpZGVvLmdldEZpZWxkcyhzZWNvbmRWaWRlb1Byb3BzKTsKICAgIC8vICAgLy8gICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAucG9zdCgnL3ZpZGVvcycpCiAgICAvLyAgIC8vICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgLy8gICAgIC5zZW5kKGZpZWxkcykpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgIHNlY29uZFZpZGVvID0gcmVzdWx0LmJvZHkudmlkZW87CiAgICAvLyAgIC8vICAgc2Vjb25kVmlkZW8uc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgc2Vjb25kVmlkZW8uaWQuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgc2Vjb25kVmlkZW8uaXNQdWJsaWMuc2hvdWxkLmJlLmVxKGZhbHNlKTsKICAgIC8vICAgLy8gICBzZWNvbmRWaWRlby50aXRsZS5zaG91bGQuYmUuZXEoZmllbGRzLnRpdGxlKTsKICAgIC8vICAgLy8gICBzZWNvbmRWaWRlby5kZXNjcmlwdGlvbi5zaG91bGQuYmUuZXEoZmllbGRzLmRlc2NyaXB0aW9uKTsKICAgIC8vICAgLy8gICBzZWNvbmRWaWRlby50eXBlLnNob3VsZC5iZS5lcSgnYmFja3VwJyk7CiAgICAvLyAgIC8vICAgc2Vjb25kVmlkZW8uZm9sZGVySWQuc2hvdWxkLmJlLm5vdC5udWxsOwogICAgLy8gICAvLyAgIHNlY29uZFZpZGVvLmNvbW1lbnRzRGlzYWJsZWQuc2hvdWxkLmJlLmVxKHRydWUpOwogICAgLy8gICAvLyAgIHNlY29uZFZpZGVvLmNyZWF0aW9uRGF0ZS5zaG91bGQuYmUubm90Lm51bGw7CiAgICAvLyAgIC8vICAgc2Vjb25kVmlkZW8uY3JlYXRpb25EYXRlLnNob3VsZC5iZS5ub3QubnVsbDsKICAgIC8vICAgLy8gICBzZWNvbmRWaWRlby5jaGFubmVsSWQuc2hvdWxkLmJlLmVxKG1haW5Vc2VyQmFja3Vwc0NoYW5uZWwuaWQpOwogICAgLy8gICAvLyB9KQogICAgLy8gICAvLwogICAgLy8gICAvLwogICAgLy8gICAvLyBkZXNjcmliZSgnRm9sZGVycyBjcmVhdGUvZ2V0L3VwZGF0ZSBhcGknLCBmdW5jdGlvbigpewogICAgLy8gICAvLyAgIGxldCB0ZXN0Rm9sZGVyUGF0aCA9ICcvUm9vdC9zb21ld2hlcmUvc29td2hlcmUgYWdhaW4nCiAgICAvLyAgIC8vICAgICAsIHRlc3RGb2xkZXI7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgaXQoJ0ZvbGRlcnMgc2hvdWxkIGJlIGNyZWF0ZWQnLCBhc3luYyBmdW5jdGlvbigpewogICAgLy8gICAvLyAgICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgIC5nZXQoJy9jaGFubmVscy9mb2xkZXJzJykKICAgIC8vICAgLy8gICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgLy8gICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBsZXQgZm9sZGVycyA9IHJlc3VsdC5ib2R5LmZvbGRlcnM7CiAgICAvLyAgIC8vICAgICBmb2xkZXJzLmxlbmd0aC5zaG91bGQuYmUuZXEoMik7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBmaXJzdFZpZGVvRm9sZGVyID0gZm9sZGVycy5maW5kKGY9PmYubG9jYWxQYXRoID09PSBmaXJzdFZpZGVvUHJvcHMubG9jYWxQYXRoKTsKICAgIC8vICAgLy8gICAgIGZpcnN0VmlkZW9Gb2xkZXIuc2hvdWxkLm5vdC5iZS5udWxsOwogICAgLy8gICAvLyAgICAgZmlyc3RWaWRlb0ZvbGRlci5pZC5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIGZpcnN0VmlkZW9Gb2xkZXIuY3JlYXRpb25EYXRlLnNob3VsZC5ub3QuYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgZmlyc3RWaWRlb0ZvbGRlci5sYXN0VXBkYXRlRGF0ZS5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIHNlY29uZFZpZGVvRm9sZGVyID0gZm9sZGVycy5maW5kKGY9PmYubG9jYWxQYXRoID09PSBzZWNvbmRWaWRlb1Byb3BzLmxvY2FsUGF0aCk7CiAgICAvLyAgIC8vICAgICBzZWNvbmRWaWRlb0ZvbGRlci5zaG91bGQubm90LmJlLm51bGw7CiAgICAvLyAgIC8vICAgICBzZWNvbmRWaWRlb0ZvbGRlci5pZC5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIHNlY29uZFZpZGVvRm9sZGVyLmNyZWF0aW9uRGF0ZS5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIHNlY29uZFZpZGVvRm9sZGVyLmxhc3RVcGRhdGVEYXRlLnNob3VsZC5ub3QuYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgcGFyZW50Rm9sZGVyID0gZm9sZGVycy5maW5kKGY9PmYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoKTsKICAgIC8vICAgLy8gICAgIHBhcmVudEZvbGRlci5zaG91bGQubm90LmJlLm51bGw7CiAgICAvLyAgIC8vICAgICBwYXJlbnRGb2xkZXIuaWQuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICBwYXJlbnRGb2xkZXIuY3JlYXRpb25EYXRlLnNob3VsZC5ub3QuYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgcGFyZW50Rm9sZGVyLmxhc3RVcGRhdGVEYXRlLnNob3VsZC5ub3QuYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgIGl0KCdTaG91bGQgYmUgYWJsZSB0byBnZXQgZm9sZGVyIGJ5IElEJywgYXN5bmMgZnVuY3Rpb24oKXsKICAgIC8vICAgLy8gICAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAuZ2V0KGAvdmlkZW9zL2ZvbGRlcnM/Zm9sZGVySWQ9JHtmaXJzdFZpZGVvRm9sZGVyLmlkfWApCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgcmVzdWx0LmJvZHkuZm9sZGVyLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgcmVzdWx0LmJvZHkuZm9sZGVyLmlkLnNob3VsZC5iZS5lcShmaXJzdFZpZGVvRm9sZGVyLmlkKTsKICAgIC8vICAgLy8gICAgIHJlc3VsdC5ib2R5LmZvbGRlci5jaGFubmVsSWQuc2hvdWxkLmJlLmVxKGZpcnN0VmlkZW9Gb2xkZXIuY2hhbm5lbElkKTsKICAgIC8vICAgLy8gICAgIHJlc3VsdC5ib2R5LmZvbGRlci5sb2NhbFBhdGguc2hvdWxkLmJlLmVxKGZpcnN0VmlkZW9Gb2xkZXIubG9jYWxQYXRoKTsKICAgIC8vICAgLy8gICAgIHJlc3VsdC5ib2R5LmZvbGRlci5jcmVhdGlvbkRhdGUuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICByZXN1bHQuYm9keS5mb2xkZXIubGFzdFVwZGF0ZURhdGUuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgaXQoJ1Nob3VsZCBiZSBhYmxlIHRvIGdldCBmb2xkZXIgYnkgbG9jYWxQYXRoJywgYXN5bmMgZnVuY3Rpb24oKXsKICAgIC8vICAgLy8gICAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAuZ2V0KGAvdmlkZW9zL2ZvbGRlcnM/bG9jYWxQYXRoPSR7Zmlyc3RWaWRlb0ZvbGRlci5sb2NhbFBhdGh9YCkKICAgIC8vICAgLy8gICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgLy8gICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICByZXN1bHQuYm9keS5mb2xkZXIuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICByZXN1bHQuYm9keS5mb2xkZXIuaWQuc2hvdWxkLmJlLmVxKGZpcnN0VmlkZW9Gb2xkZXIuaWQpOwogICAgLy8gICAvLyAgICAgcmVzdWx0LmJvZHkuZm9sZGVyLmNoYW5uZWxJZC5zaG91bGQuYmUuZXEoZmlyc3RWaWRlb0ZvbGRlci5jaGFubmVsSWQpOwogICAgLy8gICAvLyAgICAgcmVzdWx0LmJvZHkuZm9sZGVyLmxvY2FsUGF0aC5zaG91bGQuYmUuZXEoZmlyc3RWaWRlb0ZvbGRlci5sb2NhbFBhdGgpOwogICAgLy8gICAvLyAgICAgcmVzdWx0LmJvZHkuZm9sZGVyLmNyZWF0aW9uRGF0ZS5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIHJlc3VsdC5ib2R5LmZvbGRlci5sYXN0VXBkYXRlRGF0ZS5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICBpdCgnU2hvdWxkIGJlIGFibGUgdG8gZ2V0IGNvbnRlbnQgb2YgZm9sZGVyIGNvcnJlY3RseScsIGFzeW5jIGZ1bmN0aW9uKCl7CiAgICAvLyAgIC8vICAgICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgLmdldChgL2NoYW5uZWxzL2ZvbGRlcnMvY29udGVudD9sb2NhbFBhdGg9JHtmaXJzdFZpZGVvRm9sZGVyLmxvY2FsUGF0aH1gKQogICAgLy8gICAvLyAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAvLyAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGxldCBmb2xkZXJzLCB2aWRlb3M7CiAgICAvLyAgIC8vICAgICBmb2xkZXJzID0gcmVzdWx0LmJvZHkuZm9sZGVyczsKICAgIC8vICAgLy8gICAgIHZpZGVvcyAgPSByZXN1bHQuYm9keS52aWRlb3M7CiAgICAvLyAgIC8vICAgICBmb2xkZXJzLmxlbmd0aC5zaG91bGQuYmUuZXEoMCk7CiAgICAvLyAgIC8vICAgICB2aWRlb3MubGVuZ3RoLnNob3VsZC5iZS5lcSgxKTsKICAgIC8vICAgLy8gICAgIHZpZGVvc1swXS5pZC5zaG91bGQuYmUuZXEoZmlyc3RWaWRlby5pZCk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAuZ2V0KGAvY2hhbm5lbHMvZm9sZGVycy9jb250ZW50P2xvY2FsUGF0aD0ke3NlY29uZFZpZGVvRm9sZGVyLmxvY2FsUGF0aH1gKQogICAgLy8gICAvLyAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAvLyAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGZvbGRlcnMgPSByZXN1bHQuYm9keS5mb2xkZXJzOwogICAgLy8gICAvLyAgICAgdmlkZW9zICA9IHJlc3VsdC5ib2R5LnZpZGVvczsKICAgIC8vICAgLy8gICAgIGZvbGRlcnMubGVuZ3RoLnNob3VsZC5iZS5lcSgxKTsKICAgIC8vICAgLy8gICAgIHZpZGVvcy5sZW5ndGguc2hvdWxkLmJlLmVxKDEpOwogICAgLy8gICAvLyAgICAgZm9sZGVyc1swXS5pZC5zaG91bGQuYmUuZXEoZmlyc3RWaWRlb0ZvbGRlci5pZCk7CiAgICAvLyAgIC8vICAgICB2aWRlb3NbMF0uaWQuc2hvdWxkLmJlLmVxKHNlY29uZFZpZGVvLmlkKTsKICAgIC8vICAgLy8gICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICBpdCgnU2hvdWxkIGJlIGFibGUgdG8gdXBkYXRlIGZvbGRlciBuYW1lJywgYXN5bmMgZnVuY3Rpb24oKXsKICAgIC8vICAgLy8gICAgIGxldCBuZXdMb2NhbFBhdGggPSBwYXJlbnRGb2xkZXJQYXRoICsgJy9uZXdGb2xkZXIva2VrJzsKICAgIC8vICAgLy8gICAgIGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgIC5wYXRjaChgL3ZpZGVvcy9mb2xkZXJzYCkKICAgIC8vICAgLy8gICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgLy8gICAgICAgLnNlbmQoewogICAgLy8gICAvLyAgICAgICAgICJuZXdMb2NhbFBhdGgiOiBuZXdMb2NhbFBhdGgsCiAgICAvLyAgIC8vICAgICAgICAgIm9sZExvY2FsUGF0aCI6IGZpcnN0VmlkZW9Gb2xkZXIubG9jYWxQYXRoCiAgICAvLyAgIC8vICAgICAgIH0pKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAuZ2V0KCcvY2hhbm5lbHMvZm9sZGVycycpCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgbGV0IGZvbGRlcnMgPSByZXN1bHQuYm9keS5mb2xkZXJzCiAgICAvLyAgIC8vICAgICAgICwgdXBkYXRlZEZvbGRlciA9IGZvbGRlcnMuZmluZChmID0+IGYuaWQgPT09IGZpcnN0VmlkZW9Gb2xkZXIuaWQpCiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICB1cGRhdGVkRm9sZGVyLmlkLnNob3VsZC5iZS5lcShmaXJzdFZpZGVvLmZvbGRlcklkKTsKICAgIC8vICAgLy8gICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICBpdCgnU2hvdWxkIGJlIGFibGUgY3JlYXRlIGZvbGRlciB1c2luZyBsb2NhbFBhdGgnLCBhc3luYyBmdW5jdGlvbigpewogICAgLy8gICAvLyAgICAgbGV0IGZvbGRlclBhcmFtcyA9IHsKICAgIC8vICAgLy8gICAgICAgbG9jYWxQYXRoOiB0ZXN0Rm9sZGVyUGF0aAogICAgLy8gICAvLyAgICAgfTsKICAgIC8vICAgLy8gICAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAucG9zdCgnL3ZpZGVvcy9mb2xkZXJzJykKICAgIC8vICAgLy8gICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgLy8gICAgICAgLnNlbmQoZm9sZGVyUGFyYW1zKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICByZXN1bHQuc3RhdHVzQ29kZS5zaG91bGQuYmUuZXEoMjAwKTsKICAgIC8vICAgLy8gICAgIHJlc3VsdC5ib2R5LnN1Y2Nlc3Muc2hvdWxkLmJlLmVxKHRydWUpOwogICAgLy8gICAvLyAgICAgcmVzdWx0LmJvZHkuZm9sZGVyLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgdGVzdEZvbGRlciA9IHJlc3VsdC5ib2R5LmZvbGRlcjsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIHRlc3RGb2xkZXIuaWQuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICB0ZXN0Rm9sZGVyLmNyZWF0aW9uRGF0ZS5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIHRlc3RGb2xkZXIubGFzdFVwZGF0ZURhdGUuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICB0ZXN0Rm9sZGVyLmxvY2FsUGF0aC5zaG91bGQuYmUuZXEoZm9sZGVyUGFyYW1zLmxvY2FsUGF0aCk7CiAgICAvLyAgIC8vICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgaXQoJ0NyZWF0aW9uIGZvbGRlciB3aXRoIGV4aXN0aW5nIHBhdGggd2lsbCByZXR1cm4gZXhpc3RpbmcgZm9sZGVyJywgYXN5bmMgZnVuY3Rpb24oKXsKICAgIC8vICAgLy8gICAgIGxldCBmb2xkZXJQYXJhbXMgPSB7CiAgICAvLyAgIC8vICAgICAgIGxvY2FsUGF0aDogdGVzdEZvbGRlclBhdGgKICAgIC8vICAgLy8gICAgIH07CiAgICAvLyAgIC8vICAgICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgLnBvc3QoJy92aWRlb3MvZm9sZGVycycpCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAgIC5zZW5kKGZvbGRlclBhcmFtcykpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgcmVzdWx0LnN0YXR1c0NvZGUuc2hvdWxkLmJlLmVxKDIwMCk7CiAgICAvLyAgIC8vICAgICByZXN1bHQuYm9keS5zdWNjZXNzLnNob3VsZC5iZS5lcSh0cnVlKTsKICAgIC8vICAgLy8gICAgIHJlc3VsdC5ib2R5LmZvbGRlci5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGxldCBleGlzdGluZ0ZvbGRlciA9IHJlc3VsdC5ib2R5LmZvbGRlcjsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGV4aXN0aW5nRm9sZGVyLmlkLnNob3VsZC5iZS5lcSh0ZXN0Rm9sZGVyLmlkKTsKICAgIC8vICAgLy8gICAgIGV4aXN0aW5nRm9sZGVyLmNyZWF0aW9uRGF0ZS5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIGV4aXN0aW5nRm9sZGVyLmxhc3RVcGRhdGVEYXRlLnNob3VsZC5ub3QuYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgZXhpc3RpbmdGb2xkZXIubG9jYWxQYXRoLnNob3VsZC5iZS5lcShmb2xkZXJQYXJhbXMubG9jYWxQYXRoKTsKICAgIC8vICAgLy8gICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICBkZXNjcmliZSgnVGVzdCBpbm5lciBmb2xkZXJzJywgZnVuY3Rpb24oKXsKICAgIC8vICAgLy8gICAgIGxldCBpbm5lckZvbGRlclBhdGgxID0gJy9pbm5lcjEnCiAgICAvLyAgIC8vICAgICAgICwgaW5uZXJGb2xkZXJQYXRoMiA9ICcvaW5uZXIyJwogICAgLy8gICAvLyAgICAgICAsIGlubmVyRm9sZGVyUGF0aDMgPSAnL2lubmVyMycKICAgIC8vICAgLy8gICAgICAgLCB0YXJnZXRGb2xkZXJQYXRoID0gJy9pbm5lclZpZGVvcycKICAgIC8vICAgLy8gICAgICAgLCBpbm5lckZvbGRlcjEKICAgIC8vICAgLy8gICAgICAgLCBpbm5lckZvbGRlcjIKICAgIC8vICAgLy8gICAgICAgLCBpbm5lckZvbGRlcjMKICAgIC8vICAgLy8gICAgICAgLCB0YXJnZXRGb2xkZXIKICAgIC8vICAgLy8gICAgIGxldCBmaWVsZHMgPSB7CiAgICAvLyAgIC8vICAgICAgIHRpdGxlICAgICAgOiAiSW5uZXIgdmlkZW8iLAogICAgLy8gICAvLyAgICAgICBkZXNjcmlwdGlvbjogIklubmVyIHZpZGVvIiwKICAgIC8vICAgLy8gICAgICAgaXNQdWJsaWMgICA6IGZhbHNlLAogICAgLy8gICAvLyAgICAgICB0eXBlICAgICAgIDogImJhY2t1cCIsCiAgICAvLyAgIC8vICAgICAgIGxvY2FsUGF0aCAgOiBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSArIGlubmVyRm9sZGVyUGF0aDIgKyBpbm5lckZvbGRlclBhdGgzICsgdGFyZ2V0Rm9sZGVyUGF0aAogICAgLy8gICAvLyAgICAgfTsKICAgIC8vICAgLy8gICAgIGJlZm9yZShhc3luYyBmdW5jdGlvbigpewogICAgLy8gICAvLyAgICAgICBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLnBvc3QoJy92aWRlb3MnKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgLy8gICAgICAgICAuc2VuZChmaWVsZHMpKTsKICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgaXQoJ1Nob3VsZCBhdXRvbWF0aWNhbGx5IGNyZWF0ZSBpbm5lciBmb2xkZXJzJywgYXN5bmMgZnVuY3Rpb24oKXsKICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAuZ2V0KCcvY2hhbm5lbHMvZm9sZGVycycpCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAvLyAgICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBsZXQgZm9sZGVycyA9IHJlc3VsdC5ib2R5LmZvbGRlcnM7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMSA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSk7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMS5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIyID0gZm9sZGVycy5maW5kKGYgPT4gZi5sb2NhbFBhdGggPT09IHBhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxICsgaW5uZXJGb2xkZXJQYXRoMik7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMi5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIzID0gZm9sZGVycy5maW5kKGYgPT4gZi5sb2NhbFBhdGggPT09IHBhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxICsgaW5uZXJGb2xkZXJQYXRoMiArIGlubmVyRm9sZGVyUGF0aDMpOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjMuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIHRhcmdldEZvbGRlciA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSArIGlubmVyRm9sZGVyUGF0aDIgKyBpbm5lckZvbGRlclBhdGgzICsgdGFyZ2V0Rm9sZGVyUGF0aCk7CiAgICAvLyAgIC8vICAgICAgIHRhcmdldEZvbGRlci5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgaXQoJ0lmIGZvbGRlciBjaGFuZ2VzIG5hbWUgLSBhbGwgaW5uZXIgZm9sZGVyIHdpbGwgY2hhbmdlIHRoZWlyIG5hbWVzIGFzIHdlbGwnLCBhc3luYyBmdW5jdGlvbigpewogICAgLy8gICAvLyAgICAgICBsZXQgbmV3SW5uZXJGb2xkZXJQYXRoMSA9ICcvaW5uZXJSZW5hbWVkJwogICAgLy8gICAvLyAgICAgICAgICwgbmV3TG9jYWxQYXRoID0gcGFyZW50Rm9sZGVyUGF0aCArIG5ld0lubmVyRm9sZGVyUGF0aDEKICAgIC8vICAgLy8gICAgICAgICAsIG9sZExvY2FsUGF0aCA9IHBhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLnBhdGNoKGAvdmlkZW9zL2ZvbGRlcnNgKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgLy8gICAgICAgICAuc2VuZCh7CiAgICAvLyAgIC8vICAgICAgICAgICAibmV3TG9jYWxQYXRoIjogbmV3TG9jYWxQYXRoLAogICAgLy8gICAvLyAgICAgICAgICAgIm9sZExvY2FsUGF0aCI6IG9sZExvY2FsUGF0aAogICAgLy8gICAvLyAgICAgICAgIH0pKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAuZ2V0KCcvY2hhbm5lbHMvZm9sZGVycycpCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAvLyAgICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBsZXQgZm9sZGVycyA9IHJlc3VsdC5ib2R5LmZvbGRlcnM7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMSA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSk7CiAgICAvLyAgIC8vICAgICAgIGV4cGVjdChpbm5lckZvbGRlcjEpLnRvLmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIyID0gZm9sZGVycy5maW5kKGYgPT4gZi5sb2NhbFBhdGggPT09IHBhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxICsgaW5uZXJGb2xkZXJQYXRoMik7CiAgICAvLyAgIC8vICAgICAgIGV4cGVjdChpbm5lckZvbGRlcjIpLnRvLmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIzID0gZm9sZGVycy5maW5kKGYgPT4gZi5sb2NhbFBhdGggPT09IHBhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxICsgaW5uZXJGb2xkZXJQYXRoMiArIGlubmVyRm9sZGVyUGF0aDMpOwogICAgLy8gICAvLyAgICAgICBleHBlY3QoaW5uZXJGb2xkZXIzKS50by5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIHRhcmdldEZvbGRlciA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSArIGlubmVyRm9sZGVyUGF0aDIgKyBpbm5lckZvbGRlclBhdGgzICsgdGFyZ2V0Rm9sZGVyUGF0aCk7CiAgICAvLyAgIC8vICAgICAgIGV4cGVjdCh0YXJnZXRGb2xkZXIpLnRvLmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8KICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXJQYXRoMSA9IG5ld0lubmVyRm9sZGVyUGF0aDE7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMSA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSk7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMS5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIyID0gZm9sZGVycy5maW5kKGYgPT4gZi5sb2NhbFBhdGggPT09IHBhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxICsgaW5uZXJGb2xkZXJQYXRoMik7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMi5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIzID0gZm9sZGVycy5maW5kKGYgPT4gZi5sb2NhbFBhdGggPT09IHBhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxICsgaW5uZXJGb2xkZXJQYXRoMiArIGlubmVyRm9sZGVyUGF0aDMpOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjMuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIHRhcmdldEZvbGRlciA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSArIGlubmVyRm9sZGVyUGF0aDIgKyBpbm5lckZvbGRlclBhdGgzICsgdGFyZ2V0Rm9sZGVyUGF0aCk7CiAgICAvLyAgIC8vICAgICAgIHRhcmdldEZvbGRlci5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIH0pCiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyBkZXNjcmliZSgnVXBsb2FkJywgYXN5bmMgZnVuY3Rpb24gKCkgewogICAgLy8gICAvLyAgIGRlc2NyaWJlKCdTaWduZWQgdXJsJywgYXN5bmMgKCkgPT4gewogICAgLy8gICAvLyAgICAgbGV0IHVwbG9hZGluZ1VybDsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGl0KCdTaG91bGQgZ2V0IGEgdXBsb2FkaW5nIGxpbmsgZmlyc3QnLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLnB1dChgL3ZpZGVvcy8ke2ZpcnN0VmlkZW8uaWR9L3VwbG9hZGApCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIHJlc3VsdC5ib2R5LnVwbG9hZGluZ1VybC5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgdXBsb2FkaW5nVXJsID0gcmVzdWx0LmJvZHkudXBsb2FkaW5nVXJsOwogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBpdCgnVXBsb2FkIGZpbGUnLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICAgIGxldCBib2R5ID0gZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vbW9jay92aWRlb3MvYmFja3VwX3ZpZGVvLmZ2cCcpOwogICAgLy8gICAvLyAgICAgICBhd2FpdChycCh7CiAgICAvLyAgIC8vICAgICAgICAgbWV0aG9kOiAiUFVUIiwKICAgIC8vICAgLy8gICAgICAgICB1cmw6IHVwbG9hZGluZ1VybCwKICAgIC8vICAgLy8gICAgICAgICAvLyBib2R5OiBuZXcgQnVmZmVyKGZpcnN0VmlkZW9CdWZmZXJTdHJpbmcpLAogICAgLy8gICAvLyAgICAgICAgIGJvZHk6IGJvZHksCiAgICAvLyAgIC8vICAgICAgIH0pKTsKICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgaXQoJ2lzVXBsb2FkZWQgZmxhZyBzaG91bGQgYmUgc2V0IHRvICJ0cnVlIicsIGFzeW5jICgpID0+IHsKICAgIC8vICAgLy8gICAgICAgLy8gd2FpdCBzMyB0cmlnZ2VyCiAgICAvLyAgIC8vICAgICAgIGF3YWl0KG1vY2tzLmhlbHBlci53YWl0QXN5bmMoNzAwMCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAgIC5nZXQoYC92aWRlb3MvJHtmaXJzdFZpZGVvLmlkfT9zaGFyZUxpbms9dHJ1ZWApCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIGV4cGVjdChyZXN1bHQuYm9keS5zaGFyZUxpbmspLm5vdC50by5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIGV4cGVjdChyZXN1bHQuYm9keS52aWRlbykubm90LnRvLmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgcmVzdWx0LmJvZHkudmlkZW8udnVsY2FtSWQuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIGV4cGVjdChyZXN1bHQuYm9keS52aWRlby5pc1VwbG9hZGVkKS50by5iZS50cnVlOwogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBpdCgnU2hvdWxkIGJlIGFibGUgdG8gdXBsb2FkIGZpbGUgb25seSBvbmNlJywgYXN5bmMgKCkgPT4gewogICAgLy8gICAvLyAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgY2hhaQogICAgLy8gICAvLyAgICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAgIC5wdXQoYC92aWRlb3MvJHtmaXJzdFZpZGVvLmlkfS91cGxvYWRgKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZW5kKCk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIHJlc3VsdC5ib2R5LnN0YXR1c0NvZGUgPSA0MDA7Ly91cGxvYWRpbmdVcmwuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGl0KCdTaG91bGQgYXBwZWFyIGluIHZpZGVvIHNlYXJjaCcsIGFzeW5jICgpID0+IHsKICAgIC8vICAgLy8gICAgICAgLy8gd2FpdCBzMyB0cmlnZ2VyCiAgICAvLyAgIC8vICAgICAgIGF3YWl0KG1vY2tzLmhlbHBlci53YWl0QXN5bmMoMzAwMCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAgIC5nZXQoYC92aWRlb3Mvc2VhcmNoP3NlYXJjaFR5cGU9aW50ZXJuYWwmY2xvdWRJZD0ke2ZpcnN0VmlkZW8uaWR9Jm9yZGVyWzBdW2NvbHVtbl09MCZvcmRlclswXVtkaXJdPWRlc2Mmc3RhcnQ9MCZsZW5ndGg9MTAmY29sdW1uc1swXVtkYXRhXT1pZGApCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdC5ib2R5KQogICAgLy8gICAvLyAgICAgICBleHBlY3QocmVzdWx0LmJvZHkudmlkZW9zKS5ub3QudG8uYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICByZXN1bHQuYm9keS52aWRlb3Muc2hvdWxkLmJlLmFuLmluc3RhbmNlT2YoQXJyYXkpOwogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgZGVzY3JpYmUoJ011bHRpcGFydCB1cGxvYWQnLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICBsZXQgbXBVOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgaXQoJ1Nob3VsZCBnZXQgYSBtdWx0aXBhcnQgdXBsb2FkIGNyZWRlbnRpYWxzIGZpcnN0JywgYXN5bmMgKCkgPT4gewogICAgLy8gICAvLyAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAgIC5wdXQoYC92aWRlb3MvJHtzZWNvbmRWaWRlby5pZH0vdXBsb2FkP211bHRpcGFydD10cnVlYCkKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgcmVzdWx0LmJvZHkubXVsdGlwYXJ0VXBsb2FkLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICByZXN1bHQuYm9keS5tdWx0aXBhcnRVcGxvYWQuY3JlZGVudGlhbHMuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIHJlc3VsdC5ib2R5Lm11bHRpcGFydFVwbG9hZC5zMy5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgbXBVID0gcmVzdWx0LmJvZHkubXVsdGlwYXJ0VXBsb2FkOwogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBpdCgnVXBsb2FkIGZpbGUnLCBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAvLyAgIC8vICAgICAgIGxldCBidWZmZXIgPSBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9tb2NrL3ZpZGVvcy9iYWNrdXBfdmlkZW8uZnZwJyk7CiAgICAvLyAgIC8vICAgICAgIGF3YWl0KHVwbG9hZE11bHRpcGFydChtcFUuY3JlZGVudGlhbHMsIG1wVS5zMywgYnVmZmVyKSk7CiAgICAvLyAgIC8vICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGl0KCdpc1VwbG9hZGVkIGZsYWcgc2hvdWxkIGJlIHNldCB0byAidHJ1ZSInLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICAgIC8vIHdhaXQgczMgdHJpZ2dlcgogICAgLy8gICAvLyAgICAgICBhd2FpdChtb2Nrcy5oZWxwZXIud2FpdEFzeW5jKDcwMDApKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAuZ2V0KGAvdmlkZW9zLyR7c2Vjb25kVmlkZW8uaWR9P3NoYXJlTGluaz10cnVlYCkKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgZXhwZWN0KHJlc3VsdC5ib2R5LnNoYXJlTGluaykubm90LnRvLmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgZXhwZWN0KHJlc3VsdC5ib2R5LnZpZGVvKS5ub3QudG8uYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICByZXN1bHQuYm9keS52aWRlby52dWxjYW1JZC5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgZXhwZWN0KHJlc3VsdC5ib2R5LnZpZGVvLmlzVXBsb2FkZWQpLnRvLmJlLnRydWU7CiAgICAvLyAgIC8vICAgICB9KTsKICAgIC8vICAgLy8gICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vIGRlc2NyaWJlKCdEb3dubG9hZCcsIGZ1bmN0aW9uKCkgewogICAgLy8gICAvLyAgIGRlc2NyaWJlKCdVcGxvYWRlZCB1c2luZyBzaWduZWQgdXJsJywgYXN5bmMgKCk9PnsKICAgIC8vICAgLy8gICAgIGxldCBzaGFyZUxpbmssIGNsb3VkRnJvbnRVcmw7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBiZWZvcmUoYXN5bmMgKCk9PnsKICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAuZ2V0KGAvdmlkZW9zLyR7Zmlyc3RWaWRlby5pZH0/c2hhcmVMaW5rPXRydWVgKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZW5kKCk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIHNoYXJlTGluayA9IHJlc3VsdC5ib2R5LnNoYXJlTGluazsKICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgaXQoJ0dldCBodG1sIHBhZ2UgZm9yIGRvd25sb2FkaW5nJywgYXN5bmMgKCk9PnsKICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdAogICAgLy8gICAvLyAgICAgICAgICwgcmVxT3B0aW9ucwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICByZXFPcHRpb25zID0gewogICAgLy8gICAvLyAgICAgICAgIHVyaTogc2hhcmVMaW5rLAogICAgLy8gICAvLyAgICAgICAgIGZvbGxvd1JlZGlyZWN0OiBmYWxzZSwKICAgIC8vICAgLy8gICAgICAgICByZXNvbHZlV2l0aEZ1bGxSZXNwb25zZTogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICBqc29uOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgIGVuY29kaW5nOiBudWxsLAogICAgLy8gICAvLyAgICAgICB9OwogICAgLy8gICAvLyAgICAgICB0cnkgewogICAgLy8gICAvLyAgICAgICAgIHJlc3VsdCA9IGF3YWl0KHJwKHJlcU9wdGlvbnMpKTsKICAgIC8vICAgLy8gICAgICAgfSBjYXRjaCAoZSkgewogICAgLy8gICAvLyAgICAgICAgIHJlc3VsdCA9IGU7CiAgICAvLyAgIC8vICAgICAgIH0KICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgcmVzdWx0LnN0YXR1c0NvZGUuc2hvdWxkLmJlLmVxKDIwMCk7CiAgICAvLyAgIC8vICAgICAgIHJlc3VsdC5oZWFkZXJzLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICByZXN1bHQuaGVhZGVyc1snY29udGVudC10eXBlJ10uc2hvdWxkLmJlLmVxKCd0ZXh0L2h0bWwnKTsKICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgZGVzY3JpYmUoJ1Nob3VsZCBiZSBhYmxlIHRvIGRvd25sb2FkIHZpZGVvIGZpbGVzJywgZnVuY3Rpb24gKCkgewogICAgLy8gICAvLyAgICAgICB0aGlzLnRpbWVvdXQoMjAwMDApOwogICAgLy8gICAvLyAgICAgICBsZXQgaGxzLCBjcmVkZW50aWFscywgbWV0YWRhdGE7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIGl0KCdTaG91bGQgYmUgYWJsZSB0byBkb3dubG9hZCB2aWRlbycsIGFzeW5jICgpID0+IHsKICAgIC8vICAgLy8gICAgICAgICBsZXQgcmVzdWx0CiAgICAvLyAgIC8vICAgICAgICAgICAsIHJlcU9wdGlvbnMKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgICAvLyBkb3dubG9hZCB2aWRlbwogICAgLy8gICAvLyAgICAgICAgIHJlcU9wdGlvbnMgPSB7CiAgICAvLyAgIC8vICAgICAgICAgICB1cmkgICAgICAgICAgICAgICAgICAgIDogbW9ja3MuZ2V0U2VydmVyVXJsKCkgKyBgL3ZpZGVvcy8ke2ZpcnN0VmlkZW8uaWR9L2Rvd25sb2FkYCwKICAgIC8vICAgLy8gICAgICAgICAgIGZvbGxvd1JlZGlyZWN0ICAgICAgICAgOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAgcmVzb2x2ZVdpdGhGdWxsUmVzcG9uc2U6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICBqc29uICAgICAgICAgICAgICAgICAgIDogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgIGVuY29kaW5nICAgICAgICAgICAgICAgOiBudWxsLAogICAgLy8gICAvLyAgICAgICAgICAgaGVhZGVycyAgICAgICAgICAgICAgICA6IHsKICAgIC8vICAgLy8gICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBtYWluVXNlclRva2VuCiAgICAvLyAgIC8vICAgICAgICAgICB9CiAgICAvLyAgIC8vICAgICAgICAgfTsKICAgIC8vICAgLy8gICAgICAgICB0cnkgewogICAgLy8gICAvLyAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgcnAocmVxT3B0aW9ucyk7CiAgICAvLyAgIC8vICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgLy8gICAvLyAgICAgICAgICAgcmVzdWx0ID0gZTsKICAgIC8vICAgLy8gICAgICAgICB9CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXNDb2RlID09PSAzMDcpIHsgLy9hbWF6b24gbWFrZXMgaW50ZXJuYWwgcmVkaXJlY3QgaXQgb2NjdXJzIHVucHJlZGljdGFibHkKICAgIC8vICAgLy8gICAgICAgICAgIGNvbnNvbGUubG9nKCczMDcgcmVkaXJlY3Qgb24gInNpZ25lZCB1cmwiIGRvd25sb2FkJykKICAgIC8vICAgLy8gICAgICAgICB9IGVsc2UgewogICAgLy8gICAvLyAgICAgICAgICAgcmVzdWx0LmhlYWRlcnNbJ2NvbnRlbnQtZGlzcG9zaXRpb24nXS5zaG91bGQuYmUuZXEoYGF0dGFjaG1lbnQ7IGZpbGVuYW1lPSR7Zmlyc3RWaWRlby50aXRsZX0uZnZwYCk7CiAgICAvLyAgIC8vICAgICAgICAgICAocmVzdWx0LmhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gLSAwKS5zaG91bGQuYmUuZ3RlKDEpOwogICAgLy8gICAvLyAgICAgICAgIH0KICAgIC8vICAgLy8gICAgICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIGl0KCdTaG91bGQgYmUgYWJsZSB0byBkb3dubG9hZCB0aHVtYm5haWwgKGl0IGlzIGF1dG9tYXRpY2FsbHkgcmV0cmlldmVkKScsIGFzeW5jICgpID0+IHsKICAgIC8vICAgLy8gICAgICAgICBsZXQgcmVxUmVzdWx0CiAgICAvLyAgIC8vICAgICAgICAgICAsIHJlcU9wdGlvbnMKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgICByZXFPcHRpb25zID0gewogICAgLy8gICAvLyAgICAgICAgICAgdXJpICAgICAgICAgICAgICAgICAgICA6IG1vY2tzLmdldFNlcnZlclVybCgpICsgYC92aWRlb3MvJHtmaXJzdFZpZGVvLmlkfS9kb3dubG9hZD90aHVtYm5haWw9dHJ1ZWAsCiAgICAvLyAgIC8vICAgICAgICAgICBmb2xsb3dSZWRpcmVjdCAgICAgICAgIDogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgIHJlc29sdmVXaXRoRnVsbFJlc3BvbnNlOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAganNvbiAgICAgICAgICAgICAgICAgICA6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICBlbmNvZGluZyAgICAgICAgICAgICAgIDogbnVsbCwKICAgIC8vICAgLy8gICAgICAgICAgIGhlYWRlcnMgICAgICAgICAgICAgICAgOiB7CiAgICAvLyAgIC8vICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogbWFpblVzZXJUb2tlbgogICAgLy8gICAvLyAgICAgICAgICAgfQogICAgLy8gICAvLyAgICAgICAgIH07CiAgICAvLyAgIC8vICAgICAgICAgdHJ5IHsKICAgIC8vICAgLy8gICAgICAgICAgIHJlcVJlc3VsdCA9IGF3YWl0IHJwKHJlcU9wdGlvbnMpOwogICAgLy8gICAvLyAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgIC8vICAgLy8gICAgICAgICAgIHJlcVJlc3VsdCA9IGU7CiAgICAvLyAgIC8vICAgICAgICAgfQogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICAgIGlmIChyZXFSZXN1bHQuc3RhdHVzQ29kZSA9PT0gMzA3KSB7IC8vYW1hem9uIG1ha2VzIGludGVybmFsIHJlZGlyZWN0IGl0IG9jY3VycyB1bnByZWRpY3RhYmx5CiAgICAvLyAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZygnMzA3IHJlZGlyZWN0IG9uICJzaWduZWQgdXJsIiBkb3dubG9hZCcpCiAgICAvLyAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgLy8gICAgICAgICAgIChyZXFSZXN1bHQuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSAtIDApLnNob3VsZC5iZS5lcSg1NjE4MzkpOwogICAgLy8gICAvLyAgICAgICAgIH0KICAgIC8vICAgLy8gICAgICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIC8vIGl0KCdTaG91bGQgYmUgYWJsZSB0byB1cGRhdGUgYSBuZXcgdGh1bWJuYWlsIGltYWdlJywgYXN5bmMgKCkgPT4gewogICAgLy8gICAvLyAgICAgICAvLyAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgIC8vICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgLy8gICAgIC5wdXQoYC92aWRlb3MvJHtmaXJzdFZpZGVvLmlkfS91cGxvYWQ/dGh1bWJuYWlsPXRydWVgKQogICAgLy8gICAvLyAgICAgICAvLyAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgIC8vICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8gICAgICAgLy8KICAgIC8vICAgLy8gICAgICAgLy8gICByZXN1bHQuYm9keS51cGxvYWRpbmdVcmwuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIC8vICAgbGV0IHVwbG9hZGluZ1VybCA9IHJlc3VsdC5ib2R5LnVwbG9hZGluZ1VybDsKICAgIC8vICAgLy8gICAgICAgLy8gICBsZXQgYm9keSA9IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL21vY2svaW1hZ2VzLzdLYi5qcGcnKTsKICAgIC8vICAgLy8gICAgICAgLy8gICBhd2FpdChycCh7CiAgICAvLyAgIC8vICAgICAgIC8vICAgICBtZXRob2Q6ICJQVVQiLAogICAgLy8gICAvLyAgICAgICAvLyAgICAgdXJsOiB1cGxvYWRpbmdVcmwsCiAgICAvLyAgIC8vICAgICAgIC8vICAgICBib2R5OiBib2R5LAogICAgLy8gICAvLyAgICAgICAvLyAgIH0pKTsKICAgIC8vICAgLy8gICAgICAgLy8KICAgIC8vICAgLy8gICAgICAgLy8gICBsZXQgcmVxUmVzdWx0CiAgICAvLyAgIC8vICAgICAgIC8vICAgICAsIHJlcU9wdGlvbnMKICAgIC8vICAgLy8gICAgICAgLy8KICAgIC8vICAgLy8gICAgICAgLy8gICByZXFPcHRpb25zID0gewogICAgLy8gICAvLyAgICAgICAvLyAgICAgdXJpICAgICAgICAgICAgICAgICAgICA6IG1vY2tzLmdldFNlcnZlclVybCgpICsgYC92aWRlb3MvJHtmaXJzdFZpZGVvLmlkfS9kb3dubG9hZD90aHVtYm5haWw9dHJ1ZWAsCiAgICAvLyAgIC8vICAgICAgIC8vICAgICBmb2xsb3dSZWRpcmVjdCAgICAgICAgIDogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgLy8gICAgIHJlc29sdmVXaXRoRnVsbFJlc3BvbnNlOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAvLyAgICAganNvbiAgICAgICAgICAgICAgICAgICA6IHRydWUsCiAgICAvLyAgIC8vICAgICAgIC8vICAgICBlbmNvZGluZyAgICAgICAgICAgICAgIDogbnVsbCwKICAgIC8vICAgLy8gICAgICAgLy8gICAgIGhlYWRlcnMgICAgICAgICAgICAgICAgOiB7CiAgICAvLyAgIC8vICAgICAgIC8vICAgICAgICdBdXRob3JpemF0aW9uJzogbWFpblVzZXJUb2tlbgogICAgLy8gICAvLyAgICAgICAvLyAgICAgfQogICAgLy8gICAvLyAgICAgICAvLyAgIH07CiAgICAvLyAgIC8vICAgICAgIC8vICAgdHJ5IHsKICAgIC8vICAgLy8gICAgICAgLy8gICAgIHJlcVJlc3VsdCA9IGF3YWl0IHJwKHJlcU9wdGlvbnMpOwogICAgLy8gICAvLyAgICAgICAvLyAgIH0gY2F0Y2ggKGUpIHsKICAgIC8vICAgLy8gICAgICAgLy8gICAgIHJlcVJlc3VsdCA9IGU7CiAgICAvLyAgIC8vICAgICAgIC8vICAgfQogICAgLy8gICAvLyAgICAgICAvLwogICAgLy8gICAvLyAgICAgICAvLwogICAgLy8gICAvLyAgICAgICAvLwogICAgLy8gICAvLyAgICAgICAvLyAgIGlmIChyZXFSZXN1bHQuc3RhdHVzQ29kZSA9PT0gMzA3KSB7IC8vYW1hem9uIG1ha2VzIGludGVybmFsIHJlZGlyZWN0IGl0IG9jY3VycyB1bnByZWRpY3RhYmx5CiAgICAvLyAgIC8vICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnMzA3IHJlZGlyZWN0IG9uICJzaWduZWQgdXJsIiBkb3dubG9hZCcpCiAgICAvLyAgIC8vICAgICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgLy8gICAgICAgLy8gICAgIChyZXFSZXN1bHQuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSAtIDApLnNob3VsZC5iZS5lcSg1NjE4MzkpOwogICAgLy8gICAvLyAgICAgICAvLyAgIH0KICAgIC8vICAgLy8gICAgICAgLy8gfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIGl0KCdTaG91bGQgYmUgYWJsZSB0byBnZXQgaGxzIHByb3BlcnRpZXMnLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICAgICAgbGV0IHJlcVJlc3VsdAogICAgLy8gICAvLyAgICAgICAgICAgLCByZXFPcHRpb25zCiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICAgcmVxT3B0aW9ucyA9IHsKICAgIC8vICAgLy8gICAgICAgICAgIHVyaSAgICAgICAgICAgICAgICAgICAgOiBtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSArIGAvcGxheS8ke2ZpcnN0VmlkZW8uaWR9YCwKICAgIC8vICAgLy8gICAgICAgICAgIGZvbGxvd1JlZGlyZWN0ICAgICAgICAgOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAgcmVzb2x2ZVdpdGhGdWxsUmVzcG9uc2U6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICBqc29uICAgICAgICAgICAgICAgICAgIDogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgIGVuY29kaW5nICAgICAgICAgICAgICAgOiBudWxsLAogICAgLy8gICAvLyAgICAgICAgICAgaGVhZGVycyAgICAgICAgICAgICAgICA6IHsKICAgIC8vICAgLy8gICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBtYWluVXNlclRva2VuCiAgICAvLyAgIC8vICAgICAgICAgICB9CiAgICAvLyAgIC8vICAgICAgICAgfTsKICAgIC8vICAgLy8gICAgICAgICB0cnkgewogICAgLy8gICAvLyAgICAgICAgICAgcmVxUmVzdWx0ID0gYXdhaXQgcnAocmVxT3B0aW9ucyk7CiAgICAvLyAgIC8vICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgLy8gICAvLyAgICAgICAgICAgcmVxUmVzdWx0ID0gZTsKICAgIC8vICAgLy8gICAgICAgICB9CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICAgZXhwZWN0KHJlcVJlc3VsdC5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdtZXRhZGF0YScpOwogICAgLy8gICAvLyAgICAgICAgIGV4cGVjdChyZXFSZXN1bHQuYm9keSkudG8uaGF2ZS5wcm9wZXJ0eSgnaGxzJyk7CiAgICAvLyAgIC8vICAgICAgICAgZXhwZWN0KHJlcVJlc3VsdC5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdjcmVkZW50aWFscycpOwogICAgLy8gICAvLyAgICAgICAgIG1ldGFkYXRhICAgID0gcmVxUmVzdWx0LmJvZHkubWV0YWRhdGE7CiAgICAvLyAgIC8vICAgICAgICAgaGxzICAgICAgICAgPSByZXFSZXN1bHQuYm9keS5obHM7CiAgICAvLyAgIC8vICAgICAgICAgY3JlZGVudGlhbHMgPSByZXFSZXN1bHQuYm9keS5jcmVkZW50aWFsczsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgICBtZXRhZGF0YS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnY2FtZXJhcycpOwogICAgLy8gICAvLyAgICAgICAgIE9iamVjdC5rZXlzKG1ldGFkYXRhLmNhbWVyYXMpLm1hcChuID0+IHsKICAgIC8vICAgLy8gICAgICAgICAgIGhsc1tuXS5zaG91bGQuYmUubm90Lm51bGw7CiAgICAvLyAgIC8vICAgICAgICAgfSk7CiAgICAvLyAgIC8vICAgICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBpdCgnU2hvdWxkIGJlIGFibGUgdG8gcGxheSBobHMgZnJvbSBDRE4nLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICAgICAgbGV0IHJlcVJlc3VsdAogICAgLy8gICAvLyAgICAgICAgICAgLCByZXFPcHRpb25zCiAgICAvLyAgIC8vICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMoaGxzKS5tYXAoYXN5bmMgbiA9PiB7CiAgICAvLyAgIC8vICAgICAgICAgICBsZXQgY29va2llID0gJyc7CiAgICAvLyAgIC8vICAgICAgICAgICBPYmplY3Qua2V5cyhjcmVkZW50aWFscy5jb29raWVzKS5mb3JFYWNoKGtleSA9PiB7CiAgICAvLyAgIC8vICAgICAgICAgICAgIGNvb2tpZSArPSBgJHtrZXl9PSR7Y3JlZGVudGlhbHMuY29va2llc1trZXldfTtgCiAgICAvLyAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgLy8gICAgICAgICAgIHJlcU9wdGlvbnMgPSB7CiAgICAvLyAgIC8vICAgICAgICAgICAgIHVyaSAgICAgICAgICAgICAgICAgICAgOiBobHNbbl0sCiAgICAvLyAgIC8vICAgICAgICAgICAgIGZvbGxvd1JlZGlyZWN0ICAgICAgICAgOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAgICByZXNvbHZlV2l0aEZ1bGxSZXNwb25zZTogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgICAganNvbiAgICAgICAgICAgICAgICAgICA6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICAgIGVuY29kaW5nICAgICAgICAgICAgICAgOiBudWxsLAogICAgLy8gICAvLyAgICAgICAgICAgICBoZWFkZXJzICAgICAgICAgICAgICAgIDogewogICAgLy8gICAvLyAgICAgICAgICAgICAgICdDb29raWUnICAgICAgIDogY29va2llLAogICAgLy8gICAvLyAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogbWFpblVzZXJUb2tlbgogICAgLy8gICAvLyAgICAgICAgICAgICB9CiAgICAvLyAgIC8vICAgICAgICAgICB9OwogICAgLy8gICAvLyAgICAgICAgICAgcmVxUmVzdWx0ICA9IGF3YWl0IHJwKHJlcU9wdGlvbnMpOwogICAgLy8gICAvLyAgICAgICAgICAgaWYgKHJlcVJlc3VsdC5zdGF0dXNDb2RlID09PSAzMDcpIHsgLy9hbWF6b24gbWFrZXMgaW50ZXJuYWwgcmVkaXJlY3QgaXQgb2NjdXJzIHVucHJlZGljdGFibHkKICAgIC8vICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coJzMwNyByZWRpcmVjdCBvbiAic2lnbmVkIHVybCIgZG93bmxvYWQnKQogICAgLy8gICAvLyAgICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgLy8gICAgICAgICAgICAgKHJlcVJlc3VsdC5oZWFkZXJzWydjb250ZW50LWxlbmd0aCddIC0gMCkuc2hvdWxkLmJlLmd0ZSgxKTsKICAgIC8vICAgLy8gICAgICAgICAgIH0KICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgICB9KSk7CiAgICAvLyAgIC8vICAgICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBpdCgnRG93bmxvYWQgZmlsZSBmcm9tIHByaXZhdGUgbGluayBzaGFyaW5nIHBhZ2UgKHdpdGhvdXQgYW55IGF1dGhlbnRpY2F0aW9uKScsIGFzeW5jICgpID0+IHsKICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdAogICAgLy8gICAvLyAgICAgICAgICwgcmVxT3B0aW9ucwogICAgLy8gICAvLyAgICAgICAgICwgZG93bmxvYWRMaW5rID0gc2hhcmVMaW5rICsgJz9kaXJlY3Q9dHJ1ZSc7CiAgICAvLyAgIC8vICAgICAgIHJlcU9wdGlvbnMgPSB7CiAgICAvLyAgIC8vICAgICAgICAgdXJpOiBkb3dubG9hZExpbmssCiAgICAvLyAgIC8vICAgICAgICAgZm9sbG93UmVkaXJlY3Q6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgcmVzb2x2ZVdpdGhGdWxsUmVzcG9uc2U6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAganNvbjogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICBlbmNvZGluZzogbnVsbCwKICAgIC8vICAgLy8gICAgICAgfTsKICAgIC8vICAgLy8gICAgICAgdHJ5IHsKICAgIC8vICAgLy8gICAgICAgICByZXN1bHQgPSBhd2FpdChycChyZXFPcHRpb25zKSk7CiAgICAvLyAgIC8vICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgIC8vICAgLy8gICAgICAgICByZXN1bHQgPSBlOwogICAgLy8gICAvLyAgICAgICB9CiAgICAvLyAgIC8vICAgICAgIGlmIChyZXN1bHQuc3RhdHVzQ29kZSA9PT0gMzA3KSB7IC8vYW1hem9uIG1ha2VzIGludGVybmFsIHJlZGlyZWN0IGl0IG9jY3VycyB1bnByZWRpY3RhYmx5CiAgICAvLyAgIC8vICAgICAgICAgY29uc29sZS5sb2coJzMwNyByZWRpcmVjdCBvbiAic2lnbmVkIHVybCIgZG93bmxvYWQnKQogICAgLy8gICAvLyAgICAgICB9IGVsc2UgewogICAgLy8gICAvLyAgICAgICAgIHJlc3VsdC5oZWFkZXJzWydjb250ZW50LWRpc3Bvc2l0aW9uJ10uc2hvdWxkLmJlLmVxKGBhdHRhY2htZW50OyBmaWxlbmFtZT0ke2ZpcnN0VmlkZW8udGl0bGV9LmZ2cGApOwogICAgLy8gICAvLyAgICAgICAgIChyZXN1bHQuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSAtIDApLnNob3VsZC5iZS5ndGUoMSk7CiAgICAvLyAgIC8vICAgICAgIH0KICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLyAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLwogICAgLy8gICAvLyAgIGRlc2NyaWJlKCdVcGxvYWRlZCB1c2luZyBtdWx0aXBhcnQgdXBsb2FkJywgKCk9PnsKICAgIC8vICAgLy8gICAgIGxldCBzaGFyZUxpbms7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBiZWZvcmUoYXN5bmMgKCk9PnsKICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAuZ2V0KGAvdmlkZW9zLyR7c2Vjb25kVmlkZW8uaWR9P3NoYXJlTGluaz10cnVlYCkKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgc2hhcmVMaW5rID0gcmVzdWx0LmJvZHkuc2hhcmVMaW5rOwogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBpdCgnR2V0IGh0bWwgcGFnZSBmb3IgZG93bmxvYWRpbmcnLCBhc3luYyAoKT0+ewogICAgLy8gICAvLyAgICAgICBsZXQgcmVzdWx0CiAgICAvLyAgIC8vICAgICAgICAgLCByZXFPcHRpb25zCiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIHJlcU9wdGlvbnMgPSB7CiAgICAvLyAgIC8vICAgICAgICAgdXJpOiBzaGFyZUxpbmssCiAgICAvLyAgIC8vICAgICAgICAgZm9sbG93UmVkaXJlY3Q6IGZhbHNlLAogICAgLy8gICAvLyAgICAgICAgIHJlc29sdmVXaXRoRnVsbFJlc3BvbnNlOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgIGpzb246IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgZW5jb2Rpbmc6IG51bGwsCiAgICAvLyAgIC8vICAgICAgIH07CiAgICAvLyAgIC8vICAgICAgIHRyeSB7CiAgICAvLyAgIC8vICAgICAgICAgcmVzdWx0ID0gYXdhaXQocnAocmVxT3B0aW9ucykpOwogICAgLy8gICAvLyAgICAgICB9IGNhdGNoIChlKSB7CiAgICAvLyAgIC8vICAgICAgICAgcmVzdWx0ID0gZTsKICAgIC8vICAgLy8gICAgICAgfQogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICByZXN1bHQuc3RhdHVzQ29kZS5zaG91bGQuYmUuZXEoMjAwKTsKICAgIC8vICAgLy8gICAgICAgcmVzdWx0LmhlYWRlcnMuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIHJlc3VsdC5oZWFkZXJzWydjb250ZW50LXR5cGUnXS5zaG91bGQuYmUuZXEoJ3RleHQvaHRtbCcpOwogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBkZXNjcmliZSgnU2hvdWxkIGJlIGFibGUgdG8gZG93bmxvYWQgdmlkZW8gZmlsZXMnLCBmdW5jdGlvbiAoKSB7CiAgICAvLyAgIC8vICAgICAgIHRoaXMudGltZW91dCgyMDAwMCk7CiAgICAvLyAgIC8vICAgICAgIGxldCBobHMsIGNyZWRlbnRpYWxzLCBtZXRhZGF0YTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgaXQoJ1Nob3VsZCBiZSBhYmxlIHRvIGRvd25sb2FkIHZpZGVvJywgYXN5bmMgKCkgPT4gewogICAgLy8gICAvLyAgICAgICAgIGxldCByZXN1bHQKICAgIC8vICAgLy8gICAgICAgICAgICwgcmVxT3B0aW9ucwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICAgIC8vIGRvd25sb2FkIHZpZGVvCiAgICAvLyAgIC8vICAgICAgICAgcmVxT3B0aW9ucyA9IHsKICAgIC8vICAgLy8gICAgICAgICAgIHVyaSAgICAgICAgICAgICAgICAgICAgOiBtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSArIGAvdmlkZW9zLyR7c2Vjb25kVmlkZW8uaWR9L2Rvd25sb2FkYCwKICAgIC8vICAgLy8gICAgICAgICAgIGZvbGxvd1JlZGlyZWN0ICAgICAgICAgOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAgcmVzb2x2ZVdpdGhGdWxsUmVzcG9uc2U6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICBqc29uICAgICAgICAgICAgICAgICAgIDogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgIGVuY29kaW5nICAgICAgICAgICAgICAgOiBudWxsLAogICAgLy8gICAvLyAgICAgICAgICAgaGVhZGVycyAgICAgICAgICAgICAgICA6IHsKICAgIC8vICAgLy8gICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBtYWluVXNlclRva2VuCiAgICAvLyAgIC8vICAgICAgICAgICB9CiAgICAvLyAgIC8vICAgICAgICAgfTsKICAgIC8vICAgLy8gICAgICAgICB0cnkgewogICAgLy8gICAvLyAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgcnAocmVxT3B0aW9ucyk7CiAgICAvLyAgIC8vICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgLy8gICAvLyAgICAgICAgICAgcmVzdWx0ID0gZTsKICAgIC8vICAgLy8gICAgICAgICB9CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXNDb2RlID09PSAzMDcpIHsgLy9hbWF6b24gbWFrZXMgaW50ZXJuYWwgcmVkaXJlY3QgaXQgb2NjdXJzIHVucHJlZGljdGFibHkKICAgIC8vICAgLy8gICAgICAgICAgIGNvbnNvbGUubG9nKCczMDcgcmVkaXJlY3Qgb24gInNpZ25lZCB1cmwiIGRvd25sb2FkJykKICAgIC8vICAgLy8gICAgICAgICB9IGVsc2UgewogICAgLy8gICAvLyAgICAgICAgICAgcmVzdWx0LmhlYWRlcnNbJ2NvbnRlbnQtZGlzcG9zaXRpb24nXS5zaG91bGQuYmUuZXEoYGF0dGFjaG1lbnQ7IGZpbGVuYW1lPSR7c2Vjb25kVmlkZW8udGl0bGV9LmZ2cGApOwogICAgLy8gICAvLyAgICAgICAgICAgKHJlc3VsdC5oZWFkZXJzWydjb250ZW50LWxlbmd0aCddIC0gMCkuc2hvdWxkLmJlLmd0ZSgxKTsKICAgIC8vICAgLy8gICAgICAgICB9CiAgICAvLyAgIC8vICAgICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBpdCgnU2hvdWxkIGJlIGFibGUgdG8gZG93bmxvYWQgdGh1bWJuYWlsIChpdCBpcyBhdXRvbWF0aWNhbGx5IHJldHJpZXZlZCknLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICAgICAgbGV0IHJlcVJlc3VsdAogICAgLy8gICAvLyAgICAgICAgICAgLCByZXFPcHRpb25zCiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICAgcmVxT3B0aW9ucyA9IHsKICAgIC8vICAgLy8gICAgICAgICAgIHVyaSAgICAgICAgICAgICAgICAgICAgOiBtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSArIGAvdmlkZW9zLyR7c2Vjb25kVmlkZW8uaWR9L2Rvd25sb2FkP3RodW1ibmFpbD10cnVlYCwKICAgIC8vICAgLy8gICAgICAgICAgIGZvbGxvd1JlZGlyZWN0ICAgICAgICAgOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAgcmVzb2x2ZVdpdGhGdWxsUmVzcG9uc2U6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICBqc29uICAgICAgICAgICAgICAgICAgIDogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgIGVuY29kaW5nICAgICAgICAgICAgICAgOiBudWxsLAogICAgLy8gICAvLyAgICAgICAgICAgaGVhZGVycyAgICAgICAgICAgICAgICA6IHsKICAgIC8vICAgLy8gICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBtYWluVXNlclRva2VuCiAgICAvLyAgIC8vICAgICAgICAgICB9CiAgICAvLyAgIC8vICAgICAgICAgfTsKICAgIC8vICAgLy8gICAgICAgICB0cnkgewogICAgLy8gICAvLyAgICAgICAgICAgcmVxUmVzdWx0ID0gYXdhaXQgcnAocmVxT3B0aW9ucyk7CiAgICAvLyAgIC8vICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgLy8gICAvLyAgICAgICAgICAgcmVxUmVzdWx0ID0gZTsKICAgIC8vICAgLy8gICAgICAgICB9CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICAgaWYgKHJlcVJlc3VsdC5zdGF0dXNDb2RlID09PSAzMDcpIHsgLy9hbWF6b24gbWFrZXMgaW50ZXJuYWwgcmVkaXJlY3QgaXQgb2NjdXJzIHVucHJlZGljdGFibHkKICAgIC8vICAgLy8gICAgICAgICAgIGNvbnNvbGUubG9nKCczMDcgcmVkaXJlY3Qgb24gInNpZ25lZCB1cmwiIGRvd25sb2FkJykKICAgIC8vICAgLy8gICAgICAgICB9IGVsc2UgewogICAgLy8gICAvLyAgICAgICAgICAgKHJlcVJlc3VsdC5oZWFkZXJzWydjb250ZW50LWxlbmd0aCddIC0gMCkuc2hvdWxkLmJlLmVxKDU2MTgzOSk7CiAgICAvLyAgIC8vICAgICAgICAgfQogICAgLy8gICAvLyAgICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgaXQoJ1Nob3VsZCBiZSBhYmxlIHRvIGdldCBobHMgcHJvcGVydGllcycsIGFzeW5jICgpID0+IHsKICAgIC8vICAgLy8gICAgICAgICBsZXQgcmVxUmVzdWx0CiAgICAvLyAgIC8vICAgICAgICAgICAsIHJlcU9wdGlvbnMKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgICByZXFPcHRpb25zID0gewogICAgLy8gICAvLyAgICAgICAgICAgdXJpICAgICAgICAgICAgICAgICAgICA6IG1vY2tzLmdldFNlcnZlclVybCgpICsgYC9wbGF5LyR7c2Vjb25kVmlkZW8uaWR9YCwKICAgIC8vICAgLy8gICAgICAgICAgIGZvbGxvd1JlZGlyZWN0ICAgICAgICAgOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAgcmVzb2x2ZVdpdGhGdWxsUmVzcG9uc2U6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICBqc29uICAgICAgICAgICAgICAgICAgIDogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgIGVuY29kaW5nICAgICAgICAgICAgICAgOiBudWxsLAogICAgLy8gICAvLyAgICAgICAgICAgaGVhZGVycyAgICAgICAgICAgICAgICA6IHsKICAgIC8vICAgLy8gICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBtYWluVXNlclRva2VuCiAgICAvLyAgIC8vICAgICAgICAgICB9CiAgICAvLyAgIC8vICAgICAgICAgfTsKICAgIC8vICAgLy8gICAgICAgICB0cnkgewogICAgLy8gICAvLyAgICAgICAgICAgcmVxUmVzdWx0ID0gYXdhaXQgcnAocmVxT3B0aW9ucyk7CiAgICAvLyAgIC8vICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgLy8gICAvLyAgICAgICAgICAgcmVxUmVzdWx0ID0gZTsKICAgIC8vICAgLy8gICAgICAgICB9CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICAgZXhwZWN0KHJlcVJlc3VsdC5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdtZXRhZGF0YScpOwogICAgLy8gICAvLyAgICAgICAgIGV4cGVjdChyZXFSZXN1bHQuYm9keSkudG8uaGF2ZS5wcm9wZXJ0eSgnaGxzJyk7CiAgICAvLyAgIC8vICAgICAgICAgZXhwZWN0KHJlcVJlc3VsdC5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdjcmVkZW50aWFscycpOwogICAgLy8gICAvLyAgICAgICAgIG1ldGFkYXRhICAgID0gcmVxUmVzdWx0LmJvZHkubWV0YWRhdGE7CiAgICAvLyAgIC8vICAgICAgICAgaGxzICAgICAgICAgPSByZXFSZXN1bHQuYm9keS5obHM7CiAgICAvLyAgIC8vICAgICAgICAgY3JlZGVudGlhbHMgPSByZXFSZXN1bHQuYm9keS5jcmVkZW50aWFsczsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgICBtZXRhZGF0YS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnY2FtZXJhcycpOwogICAgLy8gICAvLyAgICAgICAgIE9iamVjdC5rZXlzKG1ldGFkYXRhLmNhbWVyYXMpLm1hcChuID0+IHsKICAgIC8vICAgLy8gICAgICAgICAgIGhsc1tuXS5zaG91bGQuYmUubm90Lm51bGw7CiAgICAvLyAgIC8vICAgICAgICAgfSk7CiAgICAvLyAgIC8vICAgICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBpdCgnU2hvdWxkIGJlIGFibGUgdG8gcGxheSBobHMgZnJvbSBDRE4nLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICAgICAgbGV0IHJlcVJlc3VsdAogICAgLy8gICAvLyAgICAgICAgICAgLCByZXFPcHRpb25zCiAgICAvLyAgIC8vICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMoaGxzKS5tYXAoYXN5bmMgbiA9PiB7CiAgICAvLyAgIC8vICAgICAgICAgICBsZXQgY29va2llID0gJyc7CiAgICAvLyAgIC8vICAgICAgICAgICBPYmplY3Qua2V5cyhjcmVkZW50aWFscy5jb29raWVzKS5mb3JFYWNoKGtleSA9PiB7CiAgICAvLyAgIC8vICAgICAgICAgICAgIGNvb2tpZSArPSBgJHtrZXl9PSR7Y3JlZGVudGlhbHMuY29va2llc1trZXldfTtgCiAgICAvLyAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgLy8gICAgICAgICAgIHJlcU9wdGlvbnMgPSB7CiAgICAvLyAgIC8vICAgICAgICAgICAgIHVyaSAgICAgICAgICAgICAgICAgICAgOiBobHNbbl0sCiAgICAvLyAgIC8vICAgICAgICAgICAgIGZvbGxvd1JlZGlyZWN0ICAgICAgICAgOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAgICByZXNvbHZlV2l0aEZ1bGxSZXNwb25zZTogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgICAganNvbiAgICAgICAgICAgICAgICAgICA6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICAgIGVuY29kaW5nICAgICAgICAgICAgICAgOiBudWxsLAogICAgLy8gICAvLyAgICAgICAgICAgICBoZWFkZXJzICAgICAgICAgICAgICAgIDogewogICAgLy8gICAvLyAgICAgICAgICAgICAgICdDb29raWUnICAgICAgIDogY29va2llLAogICAgLy8gICAvLyAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogbWFpblVzZXJUb2tlbgogICAgLy8gICAvLyAgICAgICAgICAgICB9CiAgICAvLyAgIC8vICAgICAgICAgICB9OwogICAgLy8gICAvLyAgICAgICAgICAgcmVxUmVzdWx0ICA9IGF3YWl0IHJwKHJlcU9wdGlvbnMpOwogICAgLy8gICAvLyAgICAgICAgICAgaWYgKHJlcVJlc3VsdC5zdGF0dXNDb2RlID09PSAzMDcpIHsgLy9hbWF6b24gbWFrZXMgaW50ZXJuYWwgcmVkaXJlY3QgaXQgb2NjdXJzIHVucHJlZGljdGFibHkKICAgIC8vICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coJzMwNyByZWRpcmVjdCBvbiAic2lnbmVkIHVybCIgZG93bmxvYWQnKQogICAgLy8gICAvLyAgICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgLy8gICAgICAgICAgICAgKHJlcVJlc3VsdC5oZWFkZXJzWydjb250ZW50LWxlbmd0aCddIC0gMCkuc2hvdWxkLmJlLmd0ZSgxKTsKICAgIC8vICAgLy8gICAgICAgICAgIH0KICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgICB9KSk7CiAgICAvLyAgIC8vICAgICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgaXQoJ093bmVyIGNhbiBnZXQgbGFzdCB0d28gY3JlYXRlZCB2aWRlb3MnLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgLmdldChgL3ZpZGVvcz9jaGFubmVsSWQ9JHttYWluVXNlckJhY2t1cHNDaGFubmVsLmlkfSZmdWxmaWxsRm9sZGVycz10cnVlJmxpbWl0PTEwYCkKICAgIC8vICAgLy8gICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgbGV0IHZpZGVvcyA9IHJlc3VsdC5ib2R5LnZpZGVvczsKICAgIC8vICAgLy8gICAgIHZpZGVvcy5maW5kKHY9PnYuaWQgPT09IGZpcnN0VmlkZW8uaWQpLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgdmlkZW9zLmZpbmQodj0+di5pZCA9PT0gc2Vjb25kVmlkZW8uaWQpLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgIH0pOwogICAgLy8gICAvLyB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gZGVzY3JpYmUoJ0RlbGV0ZScsIGFzeW5jICgpPT57CiAgICAvLyAgIC8vICAgaXQoJ1Nob3VsZCBiZSBhYmxlIHRvIGRlbGV0ZSB2aWRlbycsIGFzeW5jICgpPT57CiAgICAvLyAgIC8vICAgICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgLmRlbGV0ZShgL3ZpZGVvcy8ke2ZpcnN0VmlkZW8uaWR9YCkKICAgIC8vICAgLy8gICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgcmVzdWx0LmJvZHkuc3VjY2Vzcy5zaG91bGQuYmUuZXEodHJ1ZSk7CiAgICAvLyAgIC8vICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgaXQoJ05vdCBwZXJtaXR0ZWQgdXNlciBzaG91bGQgTk9UIGJlIGFibGUgdG8gZGVsZXRlIHZpZGVvJywgYXN5bmMgKCk9PnsKICAgIC8vICAgLy8gICAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAuZGVsZXRlKGAvdmlkZW9zLyR7c2Vjb25kVmlkZW8uaWR9YCkKICAgIC8vICAgLy8gICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIHNlY29uZFVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICByZXN1bHQuYm9keS5zdWNjZXNzLnNob3VsZC5iZS5lcShmYWxzZSk7CiAgICAvLyAgIC8vICAgICByZXN1bHQuYm9keS5lcnJvci5jb2RlLnNob3VsZC5iZS5lcSg0MDMpOwogICAgLy8gICAvLyAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgIGRlc2NyaWJlKCdTaG91bGQgZ2V0dGluZyBlcnJvcnMgd2hlbiB0cnlpbmcgdG8gYWNjZXNzJywgKCk9PnsKICAgIC8vICAgLy8gICAgIGxldCBzaGFyZUxpbms7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBiZWZvcmUoYXN5bmMgKCk9PnsKICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAuZ2V0KGAvdmlkZW9zLyR7c2Vjb25kVmlkZW8uaWR9P3NoYXJlTGluaz10cnVlYCkKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8gICAgICAgKCEhcmVzdWx0LmJvZHkuZXJyb3IpLnNob3VsZC5iZS5lcShmYWxzZSk7CiAgICAvLyAgIC8vICAgICAgICghIXJlc3VsdC5ib2R5LnZpZGVvKS5zaG91bGQuYmUuZXEodHJ1ZSk7CiAgICAvLyAgIC8vICAgICAgIHNoYXJlTGluayA9IHJlc3VsdC5ib2R5LnNoYXJlTGluazsKICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgaXQoJ0dldCBlcnJvciBvbiBHRVQgdmlkZW8gcmVxdWVzdCcsIGFzeW5jICgpPT57CiAgICAvLyAgIC8vICAgICAgIGF3YWl0KGNoYWkgLy8gZGVsZXRlIHZpZGVvCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLmRlbGV0ZShgL3ZpZGVvcy8ke3NlY29uZFZpZGVvLmlkfWApCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIGxldCByZXN1bHQgPSB7fQogICAgLy8gICAvLyAgICAgICB0cnkgewogICAgLy8gICAvLyAgICAgICAgIHJlc3VsdCA9IGF3YWl0KGNoYWkgLy9nZXQgdmlkZW8KICAgIC8vICAgLy8gICAgICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAgICAgLmdldChgL3ZpZGVvcy8ke2ZpcnN0VmlkZW8uaWR9P3NoYXJlTGluaz10cnVlYCkKICAgIC8vICAgLy8gICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vICAgICAgIH0gY2F0Y2goZSl7CiAgICAvLyAgIC8vICAgICAgICAgcmVzdWx0LmJvZHkgPSBlLnJlc3BvbnNlLmJvZHk7CiAgICAvLyAgIC8vICAgICAgIH0KICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgKCEhcmVzdWx0LmJvZHkuZXJyb3IpLnNob3VsZC5iZS5lcSh0cnVlKTsKICAgIC8vICAgLy8gICAgICAgKCEhcmVzdWx0LmJvZHkudmlkZW8pLnNob3VsZC5iZS5lcShmYWxzZSk7CiAgICAvLyAgIC8vICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGl0KCdHZXQgZXJyb3IgaW5zdGVhZCBvZiBwYWdlIGZvciBkb3dubG9hZGluZycsIGFzeW5jICgpPT57CiAgICAvLyAgIC8vICAgICAgIC8vIGdldCByZWRpcmVjdCB1cmwgdG8gdmlkZW8KICAgIC8vICAgLy8gICAgICAgbGV0IHJlcU9wdGlvbnMgPSB7CiAgICAvLyAgIC8vICAgICAgICAgdXJpOiBzaGFyZUxpbmssCiAgICAvLyAgIC8vICAgICAgICAgZm9sbG93UmVkaXJlY3Q6IGZhbHNlLAogICAgLy8gICAvLyAgICAgICAgIHJlc29sdmVXaXRoRnVsbFJlc3BvbnNlOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgIGpzb246IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgZW5jb2Rpbmc6IG51bGwsCiAgICAvLyAgIC8vICAgICAgIH07CiAgICAvLyAgIC8vICAgICAgIGxldCByZXN1bHQ7CiAgICAvLyAgIC8vICAgICAgIHRyeSB7CiAgICAvLyAgIC8vICAgICAgICAgcmVzdWx0ID0gYXdhaXQocnAocmVxT3B0aW9ucykpOwogICAgLy8gICAvLyAgICAgICB9IGNhdGNoIChlKSB7CiAgICAvLyAgIC8vICAgICAgICAgcmVzdWx0ID0gZTsKICAgIC8vICAgLy8gICAgICAgfQogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICByZXN1bHQuaGVhZGVyc1snY29udGVudC10eXBlJ10uc2hvdWxkLmJlLmVxKCdhcHBsaWNhdGlvbi9qc29uJyk7CiAgICAvLyAgIC8vICAgICAgIHJlc3VsdC5ib2R5LmVycm9yLmNvZGUuc2hvdWxkLmJlLmVxKDYxMyk7CiAgICAvLyAgIC8vICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGl0KCdHZXQgZXJyb3IgaW5zdGVhZCBvZiByZWRpcmVjdCB0byBjbG91ZGZyb250JywgYXN5bmMgKCk9PnsKICAgIC8vICAgLy8gICAgICAgLy8gZ2V0IHJlZGlyZWN0IHVybCB0byB2aWRlbwogICAgLy8gICAvLyAgICAgICBsZXQgcmVxT3B0aW9ucyA9IHsKICAgIC8vICAgLy8gICAgICAgICB1cmk6IHNoYXJlTGluayArICc/ZGlyZWN0PXRydWUnLAogICAgLy8gICAvLyAgICAgICAgIGZvbGxvd1JlZGlyZWN0OiBmYWxzZSwKICAgIC8vICAgLy8gICAgICAgICByZXNvbHZlV2l0aEZ1bGxSZXNwb25zZTogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICBqc29uOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgIGVuY29kaW5nOiBudWxsLAogICAgLy8gICAvLyAgICAgICB9OwogICAgLy8gICAvLyAgICAgICBsZXQgcmVzdWx0OwogICAgLy8gICAvLyAgICAgICB0cnkgewogICAgLy8gICAvLyAgICAgICAgIHJlc3VsdCA9IGF3YWl0KHJwKHJlcU9wdGlvbnMpKTsKICAgIC8vICAgLy8gICAgICAgfSBjYXRjaCAoZSkgewogICAgLy8gICAvLyAgICAgICAgIHJlc3VsdCA9IGU7CiAgICAvLyAgIC8vICAgICAgIH0KICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgcmVzdWx0LnN0YXR1c0NvZGUuc2hvdWxkLmJlLm5vdC5lcSgzMDIpOwogICAgLy8gICAvLyAgICAgICByZXN1bHQuYm9keS5lcnJvci5jb2RlLnNob3VsZC5iZS5lcSg2MTMpOwogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgZGVzY3JpYmUoJ1Rlc3QgaW5uZXIgZm9sZGVycycsIGZ1bmN0aW9uKCl7CiAgICAvLyAgIC8vICAgICBsZXQgaW5uZXJGb2xkZXJQYXRoMSA9ICcvaW5uZXIxJwogICAgLy8gICAvLyAgICAgICAsIGlubmVyRm9sZGVyUGF0aDIgPSAnL2lubmVyMicKICAgIC8vICAgLy8gICAgICAgLCBpbm5lckZvbGRlclBhdGgzID0gJy9pbm5lcjMnCiAgICAvLyAgIC8vICAgICAgICwgdGFyZ2V0Rm9sZGVyUGF0aCA9ICcvaW5uZXJWaWRlb3MnCiAgICAvLyAgIC8vICAgICAgICwgaW5uZXJGb2xkZXIxCiAgICAvLyAgIC8vICAgICAgICwgaW5uZXJGb2xkZXIyCiAgICAvLyAgIC8vICAgICAgICwgaW5uZXJGb2xkZXIzCiAgICAvLyAgIC8vICAgICAgICwgdGFyZ2V0Rm9sZGVyCiAgICAvLyAgIC8vICAgICAgICwgaW5uZXJWaWRlbwogICAgLy8gICAvLyAgICAgbGV0IGZpZWxkcyA9IHsKICAgIC8vICAgLy8gICAgICAgdGl0bGUgICAgICA6ICJJbm5lciB2aWRlbyIsCiAgICAvLyAgIC8vICAgICAgIGRlc2NyaXB0aW9uOiAiSW5uZXIgdmlkZW8iLAogICAgLy8gICAvLyAgICAgICBpc1B1YmxpYyAgIDogZmFsc2UsCiAgICAvLyAgIC8vICAgICAgIHR5cGUgICAgICAgOiAiYmFja3VwIiwKICAgIC8vICAgLy8gICAgICAgbG9jYWxQYXRoICA6IHBhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxICsgaW5uZXJGb2xkZXJQYXRoMiArIGlubmVyRm9sZGVyUGF0aDMgKyB0YXJnZXRGb2xkZXJQYXRoCiAgICAvLyAgIC8vICAgICB9OwogICAgLy8gICAvLyAgICAgYmVmb3JlKGFzeW5jIGZ1bmN0aW9uKCl7CiAgICAvLyAgIC8vICAgICAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLnBvc3QoJy92aWRlb3MnKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgLy8gICAgICAgICAuc2VuZChmaWVsZHMpKTsKICAgIC8vICAgLy8gICAgICAgaW5uZXJWaWRlbyA9IHJlc3VsdC5ib2R5LnZpZGVvOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLnB1dChgL3ZpZGVvcy8ke2lubmVyVmlkZW8uaWR9L3VwbG9hZGApCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vICAgICAgIGxldCB1cGxvYWRpbmdVcmwgPSByZXN1bHQuYm9keS51cGxvYWRpbmdVcmw7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIGxldCBib2R5ID0gZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vbW9jay92aWRlb3MvYmFja3VwX3ZpZGVvLmZ2cCcpOwogICAgLy8gICAvLyAgICAgICBhd2FpdChycCh7CiAgICAvLyAgIC8vICAgICAgICAgbWV0aG9kOiAiUFVUIiwKICAgIC8vICAgLy8gICAgICAgICB1cmw6IHVwbG9hZGluZ1VybCwKICAgIC8vICAgLy8gICAgICAgICBib2R5OiBib2R5LAogICAgLy8gICAvLyAgICAgICB9KSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIC8vIGF3YWl0KG1vY2tzLmhlbHBlci53YWl0QXN5bmMoMTAwMCkpOyAvLyBsZXQgZHluYW1vZGIgdHJpZ2dlciBldmVudHMKICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgaXQoJ1Nob3VsZCBhdXRvbWF0aWNhbGx5IHJlbW92ZSBpbm5lciBmb2xkZXJzIGFuZCB2aWRlb3MnLCBhc3luYyBmdW5jdGlvbigpewogICAgLy8gICAvLyAgICAgICBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLmdldCgnL2NoYW5uZWxzL2ZvbGRlcnMnKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgLy8gICAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAuZ2V0KGAvdmlkZW9zLyR7aW5uZXJWaWRlby5pZH0/c2hhcmVMaW5rPXRydWVgKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZW5kKCk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIHJlc3VsdC5ib2R5LnZpZGVvLmlkLnNob3VsZC5iZS5lcShpbm5lclZpZGVvLmlkKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAgIC5nZXQoJy9jaGFubmVscy9mb2xkZXJzJykKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vICAgICAgIGxldCBmb2xkZXJzID0gcmVzdWx0LmJvZHkuZm9sZGVyczsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIxID0gZm9sZGVycy5maW5kKGYgPT4gZi5sb2NhbFBhdGggPT09IHBhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxKTsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIxLnNob3VsZC5ub3QuYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjIgPSBmb2xkZXJzLmZpbmQoZiA9PiBmLmxvY2FsUGF0aCA9PT0gcGFyZW50Rm9sZGVyUGF0aCArIGlubmVyRm9sZGVyUGF0aDEgKyBpbm5lckZvbGRlclBhdGgyKTsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIyLnNob3VsZC5ub3QuYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjMgPSBmb2xkZXJzLmZpbmQoZiA9PiBmLmxvY2FsUGF0aCA9PT0gcGFyZW50Rm9sZGVyUGF0aCArIGlubmVyRm9sZGVyUGF0aDEgKyBpbm5lckZvbGRlclBhdGgyICsgaW5uZXJGb2xkZXJQYXRoMyk7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMy5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgdGFyZ2V0Rm9sZGVyID0gZm9sZGVycy5maW5kKGYgPT4gZi5sb2NhbFBhdGggPT09IHBhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxICsgaW5uZXJGb2xkZXJQYXRoMiArIGlubmVyRm9sZGVyUGF0aDMgKyB0YXJnZXRGb2xkZXJQYXRoKTsKICAgIC8vICAgLy8gICAgICAgdGFyZ2V0Rm9sZGVyLnNob3VsZC5ub3QuYmUudW5kZWZpbmVkOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICAvLyBkZWxldGUgZm9sZGVyCiAgICAvLyAgIC8vICAgICAgIGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAuZGVsZXRlKGAvdmlkZW9zL2ZvbGRlcnMvMC8/bG9jYWxQYXRoPSR7cGFyZW50Rm9sZGVyUGF0aCArIGlubmVyRm9sZGVyUGF0aDEgKyBpbm5lckZvbGRlclBhdGgyfWApCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAvLyAgICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBhd2FpdChtb2Nrcy5oZWxwZXIud2FpdEFzeW5jKDMwMDApKTsgLy8gbGV0IGR5bmFtb2RiIHRyaWdnZXIgZXZlbnRzCiAgICAvLyAgIC8vICAgICAgIC8vIHNob3VsZCBub3QgcmV0dXJuIGRlbGV0ZWQgZm9sZGVyIGFuZCBpdHMgY2hpbGRyZW4KICAgIC8vICAgLy8gICAgICAgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAgIC5nZXQoJy9jaGFubmVscy9mb2xkZXJzJykKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vICAgICAgIGZvbGRlcnMgPSByZXN1bHQuYm9keS5mb2xkZXJzOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjEgPSBmb2xkZXJzLmZpbmQoZiA9PiBmLmxvY2FsUGF0aCA9PT0gcGFyZW50Rm9sZGVyUGF0aCArIGlubmVyRm9sZGVyUGF0aDEpOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjEuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMiA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSArIGlubmVyRm9sZGVyUGF0aDIpOwogICAgLy8gICAvLyAgICAgICBleHBlY3QoaW5uZXJGb2xkZXIyKS50by5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMyA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSArIGlubmVyRm9sZGVyUGF0aDIgKyBpbm5lckZvbGRlclBhdGgzKTsKICAgIC8vICAgLy8gICAgICAgZXhwZWN0KGlubmVyRm9sZGVyMykudG8uYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICB0YXJnZXRGb2xkZXIgPSBmb2xkZXJzLmZpbmQoZiA9PiBmLmxvY2FsUGF0aCA9PT0gcGFyZW50Rm9sZGVyUGF0aCArIGlubmVyRm9sZGVyUGF0aDEgKyBpbm5lckZvbGRlclBhdGgyICsgaW5uZXJGb2xkZXJQYXRoMyArIHRhcmdldEZvbGRlclBhdGgpOwogICAgLy8gICAvLyAgICAgICBleHBlY3QodGFyZ2V0Rm9sZGVyKS50by5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIC8vIHNob3VsZCBub3QgaGF2ZSBhY2Nlc3MgdG8gdmlkZW9zIGluc2lkZSB0aGUgZm9sZGVyCiAgICAvLyAgIC8vICAgICAgIHJlc3VsdCA9IGF3YWl0IGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAuZ2V0KGAvdmlkZW9zLyR7aW5uZXJWaWRlby5pZH0/c2hhcmVMaW5rPXRydWVgKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZW5kKCk7CiAgICAvLyAgIC8vICAgICAgIHJlc3VsdC5zdGF0dXNDb2RlLnNob3VsZC5iZS5lcSg0MDApOwogICAgLy8gICAvLyAgICAgICByZXN1bHQuYm9keS5lcnJvci5jb2RlLnNob3VsZC5iZS5lcSg2MTApCiAgICAvLyAgIC8vICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICB9KQogICAgLw==</text>
      </register>
      <register name="4" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="5" type="2">
        <text encoding="base64">ICAgIC8vIGRlc2NyaWJlKCdUZXN0IHB1YmxpYyBjKQo=</text>
      </register>
      <register name="6" type="4">
        <text encoding="base64">aGFubmVscyBhcGknLCBmdW5jdGlvbiAoKSB7CiAgICAvLwogICAgLy8gICBpdCgnT3duZXIgc2hvdWxkIGJlIGFibGUgdG8gZ2V0IGNoYW5uZWwgcHJvcGVydGllcycsIGFzeW5jIGZ1bmN0aW9uKCl7CiAgICAvLyAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGNoYWkKICAgIC8vICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAgICAgLmdldChgL2NoYW5uZWxzLyR7bWFpblVzZXJQdWJsaXNoQ2hhbm5lbC5pZH1gKQogICAgLy8gICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgICAgICAuc2VuZCgpOwogICAgLy8KICAgIC8vICAgICByZXN1bHQuc3RhdHVzQ29kZS5zaG91bGQuYmUuZXEoMjAwKTsKICAgIC8vICAgICByZXN1bHQuYm9keS5jaGFubmVsLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8KICAgIC8vICAgICBsZXQgY2hhbm5lbCA9IHJlc3VsdC5ib2R5LmNoYW5uZWw7CiAgICAvLyAgICAgY2hhbm5lbC5pZC5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgICBjaGFubmVsLnVzZXJJZC5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgICBjaGFubmVsLmlzUHVibGljLnNob3VsZC5iZS5lcSh0cnVlKTsKICAgIC8vICAgICBjaGFubmVsLnRpdGxlLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAgIGNoYW5uZWwuZGVzY3JpcHRpb24uc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgICAgY2hhbm5lbC5jb21tZW50c0Rpc2FibGVkLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAgIGNoYW5uZWwubGFzdFVwZGF0ZURhdGUuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgICAgY2hhbm5lbC5jcmVhdGlvbkRhdGUuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIH0pOwogICAgLy8KICAgIC8vICAgaXQoJ093bmVyIHNob3VsZCBiZSBhYmxlIHRvIHVwZGF0ZSBjaGFubmVsIHByb3BlcnRpZXMnLCBhc3luYyBmdW5jdGlvbigpewogICAgLy8gICAgIGxldCBjaGFubmVsQmVmb3JlU2F2ZSA9IG1haW5Vc2VyUHVibGlzaENoYW5uZWw7CiAgICAvLyAgICAgbGV0IG5ld1Byb3BzID0gewogICAgLy8gICAgICAgY2hhbm5lbElkOiBtYWluVXNlclB1Ymxpc2hDaGFubmVsLmlkLAogICAgLy8gICAgICAgdGl0bGU6IE1hdGgucmFuZG9tKCkrJycsCiAgICAvLyAgICAgICBkZXNjcmlwdGlvbjogTWF0aC5yYW5kb20oKSsnJywKICAgIC8vICAgICAgIGNvbW1lbnRzRGlzYWJsZWQ6ICFtYWluVXNlclB1Ymxpc2hDaGFubmVsLmNvbW1lbnRzRGlzYWJsZWQsCiAgICAvLyAgICAgICAvLyBpc1B1YmxpYzogdHJ1ZQogICAgLy8gICAgIH07CiAgICAvLwogICAgLy8gICAgIGxldCByZXN1bHQgPSBhd2FpdCBjaGFpCiAgICAvLyAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgICAgIC5wYXRjaChgL2NoYW5uZWxzYCkKICAgIC8vICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAgICAgLnNlbmQobmV3UHJvcHMpOwogICAgLy8KICAgIC8vICAgICByZXN1bHQuc3RhdHVzQ29kZS5zaG91bGQuYmUuZXEoMjAwKTsKICAgIC8vICAgICByZXN1bHQuYm9keS51cGRhdGVkLnNob3VsZC5iZS5lcSh0cnVlKTsKICAgIC8vICAgICByZXN1bHQuYm9keS5jaGFubmVsLnVzZXJJZC5zaG91bGQuYmUuZXEobWFpblVzZXJQdWJsaXNoQ2hhbm5lbC51c2VySWQpOwogICAgLy8gICAgIHJlc3VsdC5ib2R5LmNoYW5uZWwuaWQuc2hvdWxkLmJlLmVxKG1haW5Vc2VyUHVibGlzaENoYW5uZWwuaWQpOwogICAgLy8gICAgIHJlc3VsdC5ib2R5LmNoYW5uZWwudGl0bGUuc2hvdWxkLmJlLm5vdC5lcShtYWluVXNlclB1Ymxpc2hDaGFubmVsLnRpdGxlKTsKICAgIC8vICAgICByZXN1bHQuYm9keS5jaGFubmVsLnRpdGxlLnNob3VsZC5iZS5lcShuZXdQcm9wcy50aXRsZSk7CiAgICAvLyAgICAgcmVzdWx0LmJvZHkuY2hhbm5lbC5kZXNjcmlwdGlvbi5zaG91bGQuYmUubm90LmVxKG1haW5Vc2VyUHVibGlzaENoYW5uZWwuZGVzY3JpcHRpb24pOwogICAgLy8gICAgIHJlc3VsdC5ib2R5LmNoYW5uZWwuZGVzY3JpcHRpb24uc2hvdWxkLmJlLmVxKG5ld1Byb3BzLmRlc2NyaXB0aW9uKTsKICAgIC8vICAgICByZXN1bHQuYm9keS5jaGFubmVsLmNvbW1lbnRzRGlzYWJsZWQuc2hvdWxkLmJlLm5vdC5lcShtYWluVXNlclB1Ymxpc2hDaGFubmVsLmNvbW1lbnRzRGlzYWJsZWQpOwogICAgLy8gICAgIHJlc3VsdC5ib2R5LmNoYW5uZWwuY29tbWVudHNEaXNhYmxlZC5zaG91bGQuYmUuZXEobmV3UHJvcHMuY29tbWVudHNEaXNhYmxlZCk7CiAgICAvLyAgICAgcmVzdWx0LmJvZHkuY2hhbm5lbC5pc1B1YmxpYy5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgICByZXN1bHQuYm9keS5jaGFubmVsLmxhc3RVcGRhdGVEYXRlLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAgIHJlc3VsdC5ib2R5LmNoYW5uZWwuY3JlYXRpb25EYXRlLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8KICAgIC8vCiAgICAvLyAgICAgcmVzdWx0ID0gYXdhaXQgY2hhaQogICAgLy8gICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgICAgICAuZ2V0KGAvY2hhbm5lbHMvJHttYWluVXNlclB1Ymxpc2hDaGFubmVsLmlkfWApCiAgICAvLyAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgICAgIC5zZW5kKCk7CiAgICAvLwogICAgLy8gICAgIHJlc3VsdC5ib2R5LmNoYW5uZWwudXNlcklkLnNob3VsZC5iZS5lcShtYWluVXNlclB1Ymxpc2hDaGFubmVsLnVzZXJJZCk7CiAgICAvLyAgICAgcmVzdWx0LmJvZHkuY2hhbm5lbC5pZC5zaG91bGQuYmUuZXEobWFpblVzZXJQdWJsaXNoQ2hhbm5lbC5pZCk7CiAgICAvLyAgICAgcmVzdWx0LmJvZHkuY2hhbm5lbC50aXRsZS5zaG91bGQuYmUubm90LmVxKG1haW5Vc2VyUHVibGlzaENoYW5uZWwudGl0bGUpOwogICAgLy8gICAgIHJlc3VsdC5ib2R5LmNoYW5uZWwudGl0bGUuc2hvdWxkLmJlLmVxKG5ld1Byb3BzLnRpdGxlKTsKICAgIC8vICAgICByZXN1bHQuYm9keS5jaGFubmVsLmRlc2NyaXB0aW9uLnNob3VsZC5iZS5ub3QuZXEobWFpblVzZXJQdWJsaXNoQ2hhbm5lbC5kZXNjcmlwdGlvbik7CiAgICAvLyAgICAgcmVzdWx0LmJvZHkuY2hhbm5lbC5kZXNjcmlwdGlvbi5zaG91bGQuYmUuZXEobmV3UHJvcHMuZGVzY3JpcHRpb24pOwogICAgLy8gICAgIHJlc3VsdC5ib2R5LmNoYW5uZWwuY29tbWVudHNEaXNhYmxlZC5zaG91bGQuYmUubm90LmVxKG1haW5Vc2VyUHVibGlzaENoYW5uZWwuY29tbWVudHNEaXNhYmxlZCk7CiAgICAvLyAgICAgcmVzdWx0LmJvZHkuY2hhbm5lbC5jb21tZW50c0Rpc2FibGVkLnNob3VsZC5iZS5lcShuZXdQcm9wcy5jb21tZW50c0Rpc2FibGVkKTsKICAgIC8vICAgICByZXN1bHQuYm9keS5jaGFubmVsLmlzUHVibGljLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAgIHJlc3VsdC5ib2R5LmNoYW5uZWwubGFzdFVwZGF0ZURhdGUuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgICAgcmVzdWx0LmJvZHkuY2hhbm5lbC5jcmVhdGlvbkRhdGUuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLwogICAgLy8gICAgIC8vIFJldmVydCBwcm9wZXJ0aWVzIGJhY2sKICAgIC8vICAgICBuZXdQcm9wcy50aXRsZSAgICAgICAgICAgID0gJ1Rlc3QgdXNlciAobWFpbikgcHVibGljIGNoYW5uZWwnOwogICAgLy8gICAgIG5ld1Byb3BzLmRlc2NyaXB0aW9uICAgICAgPSAnVGhpcyBpcyBjaGFubmVsIGZvciB0ZXN0cyc7CiAgICAvLyAgICAgbmV3UHJvcHMuY29tbWVudHNEaXNhYmxlZCA9IGZhbHNlOwogICAgLy8gICAgIGF3YWl0IGNoYWkKICAgIC8vICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAgICAgLnBhdGNoKGAvY2hhbm5lbHNgKQogICAgLy8gICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgICAgICAuc2VuZChuZXdQcm9wcyk7CiAgICAvLyAgIH0pOwogICAgLy8KICAgIC8vICAgaXQoJ05vdCBhdXRob3JpemVkIHVzZXJzIENBTk5PVCB1cGRhdGUgcHJvcGVydGllcycsIGFzeW5jIGZ1bmN0aW9uKCl7CiAgICAvLyAgICAgbGV0IGNoYW5uZWxCZWZvcmVTYXZlID0gbWFpblVzZXJQdWJsaXNoQ2hhbm5lbDsKICAgIC8vICAgICBsZXQgbmV3UHJvcHMgPSB7CiAgICAvLyAgICAgICBjaGFubmVsSWQ6IG1haW5Vc2VyUHVibGlzaENoYW5uZWwuaWQsCiAgICAvLyAgICAgICB0aXRsZTogTWF0aC5yYW5kb20oKSsnJywKICAgIC8vICAgICAgIGRlc2NyaXB0aW9uOiBNYXRoLnJhbmRvbSgpKycnLAogICAgLy8gICAgICAgY29tbWVudHNEaXNhYmxlZDogIW1haW5Vc2VyUHVibGlzaENoYW5uZWwuY29tbWVudHNEaXNhYmxlZCwKICAgIC8vICAgICAgIC8vIGlzUHVibGljOiB0cnVlCiAgICAvLyAgICAgfTsKICAgIC8vCiAgICAvLyAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGNoYWkKICAgIC8vICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAgICAgLnBhdGNoKGAvY2hhbm5lbHNgKQogICAgLy8gICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAgICAgLnNlbmQobmV3UHJvcHMpOwogICAgLy8KICAgIC8vICAgICByZXN1bHQuc3RhdHVzQ29kZS5zaG91bGQuYmUuZXEoNDAxKTsKICAgIC8vCiAgICAvLyAgICAgcmVzdWx0ID0gYXdhaXQgY2hhaQogICAgLy8gICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgICAgICAucGF0Y2goYC9jaGFubmVsc2ApCiAgICAvLyAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgc2Vjb25kVXNlclRva2VuKQogICAgLy8gICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAgICAgLnNlbmQobmV3UHJvcHMpOwogICAgLy8KICAgIC8vICAgICByZXN1bHQuc3RhdHVzQ29kZS5zaG91bGQuYmUuZXEoNDAzKTsKICAgIC8vCiAgICAvLwogICAgLy8gICAgIC8vIHZlcmlmeSB0aGF0IHByb3BlcnRpZXMgaGF2ZW4ndCBiZWVuIGNoYW5nZWQKICAgIC8vICAgICByZXN1bHQgPSBhd2FpdCBjaGFpCiAgICAvLyAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgICAgIC5nZXQoYC9jaGFubmVscy8ke21haW5Vc2VyUHVibGlzaENoYW5uZWwuaWR9YCkKICAgIC8vICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAgICAgLnNlbmQoKTsKICAgIC8vCiAgICAvLyAgICAgcmVzdWx0LmJvZHkuY2hhbm5lbC51c2VySWQuc2hvdWxkLmJlLmVxKG1haW5Vc2VyUHVibGlzaENoYW5uZWwudXNlcklkKTsKICAgIC8vICAgICByZXN1bHQuYm9keS5jaGFubmVsLmlkLnNob3VsZC5iZS5lcShtYWluVXNlclB1Ymxpc2hDaGFubmVsLmlkKTsKICAgIC8vICAgICByZXN1bHQuYm9keS5jaGFubmVsLnRpdGxlLnNob3VsZC5iZS5lcShtYWluVXNlclB1Ymxpc2hDaGFubmVsLnRpdGxlKTsKICAgIC8vICAgICByZXN1bHQuYm9keS5jaGFubmVsLmRlc2NyaXB0aW9uLnNob3VsZC5iZS5lcShtYWluVXNlclB1Ymxpc2hDaGFubmVsLmRlc2NyaXB0aW9uKTsKICAgIC8vICAgICByZXN1bHQuYm9keS5jaGFubmVsLmNvbW1lbnRzRGlzYWJsZWQuc2hvdWxkLmJlLmVxKG1haW5Vc2VyUHVibGlzaENoYW5uZWwuY29tbWVudHNEaXNhYmxlZCk7CiAgICAvLyAgICAgcmVzdWx0LmJvZHkuY2hhbm5lbC5pc1B1YmxpYy5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgICByZXN1bHQuYm9keS5jaGFubmVsLmxhc3RVcGRhdGVEYXRlLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAgIHJlc3VsdC5ib2R5LmNoYW5uZWwuY3JlYXRpb25EYXRlLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8KICAgIC8vICAgfSk7CiAgICAvLwogICAgLy8gICBkZXNjcmliZSgnVGVzdCBjaGFubmVsIHByb2ZpbGUgcGljdHVyZScsIGZ1bmN0aW9uICgpIHsKICAgIC8vCiAgICAvLyAgICAgZGVzY3JpYmUoJ1NpZ25lZCB1cmwnLCBmdW5jdGlvbiAoKSB7CiAgICAvLyAgICAgICBsZXQgdXBsb2FkaW5nVXJsOwogICAgLy8gICAgICAgaXQoJ1Nob3VsZCBnZXQgYSB1cGxvYWRpbmcgbGluayBmaXJzdCcsIGFzeW5jICgpID0+IHsKICAgIC8vICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgICAgICAgICAucHV0KGAvY2hhbm5lbHMvJHttYWluVXNlclB1Ymxpc2hDaGFubmVsLmlkfS91cGxvYWQ/Y2hhbm5lbFBpY3R1cmU9dHJ1ZWApCiAgICAvLyAgICAgICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAgICAgICAgIC5zZW5kKCkpOwogICAgLy8KICAgIC8vICAgICAgICAgcmVzdWx0LmJvZHkudXBsb2FkaW5nVXJsLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAgICAgICB1cGxvYWRpbmdVcmwgPSByZXN1bHQuYm9keS51cGxvYWRpbmdVcmw7CiAgICAvLyAgICAgICB9KTsKICAgIC8vCiAgICAvLyAgICAgICBpdCgnVXBsb2FkIGZpbGUnLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgICAgICAgIGxldCBib2R5ID0gZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vbW9jay9pbWFnZXMvN0tiLmpwZycpOyAvLyB1cGxvYWQgaW1hZ2Ugd2l0aCDiiYg3S2Igc2l6ZQogICAgLy8gICAgICAgICBhd2FpdChycCh7CiAgICAvLyAgICAgICAgICAgbWV0aG9kOiAiUFVUIiwKICAgIC8vICAgICAgICAgICB1cmw6IHVwbG9hZGluZ1VybCwKICAgIC8vICAgICAgICAgICBib2R5OiBib2R5LAogICAgLy8gICAgICAgICB9KSk7CiAgICAvLyAgICAgICB9KTsKICAgIC8vCiAgICAvLyAgICAgICBpdCgnVmVyaWZ5IGl0IGlzIHVwbG9hZGVkJywgYXN5bmMgKCkgPT4gewogICAgLy8gICAgICAgICBsZXQgcGljdHVyZVVybCA9IChhd2FpdCBjaGFpCiAgICAvLyAgICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgICAgICAgICAgLmdldChgL2NoYW5uZWxzLyR7bWFpblVzZXJQdWJsaXNoQ2hhbm5lbC5pZH1gKQogICAgLy8gICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAgICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgICAgICAgICAuc2VuZCgpKQogICAgLy8gICAgICAgICAgIC5ib2R5LmNoYW5uZWwucGljdHVyZVVybDsKICAgIC8vCiAgICAvLyAgICAgICAgIGxldCByZXFSZXN1bHQKICAgIC8vICAgICAgICAgICAsIHJlcU9wdGlvbnMKICAgIC8vCiAgICAvLyAgICAgICAgIHJlcU9wdGlvbnMgPSB7CiAgICAvLyAgICAgICAgICAgdXJpICAgICAgICAgICAgICAgICAgICA6IHBpY3R1cmVVcmwsCiAgICAvLyAgICAgICAgICAgZm9sbG93UmVkaXJlY3QgICAgICAgICA6IHRydWUsCiAgICAvLyAgICAgICAgICAgcmVzb2x2ZVdpdGhGdWxsUmVzcG9uc2U6IHRydWUsCiAgICAvLyAgICAgICAgICAganNvbiAgICAgICAgICAgICAgICAgICA6IHRydWUsCiAgICAvLyAgICAgICAgICAgZW5jb2RpbmcgICAgICAgICAgICAgICA6IG51bGwsCiAgICAvLyAgICAgICAgICAgaGVhZGVycyAgICAgICAgICAgICAgICA6IHsKICAgIC8vICAgICAgICAgICB9CiAgICAvLyAgICAgICAgIH07CiAgICAvLyAgICAgICAgIHRyeSB7CiAgICAvLyAgICAgICAgICAgcmVxUmVzdWx0ID0gYXdhaXQgcnAocmVxT3B0aW9ucyk7CiAgICAvLyAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgIC8vICAgICAgICAgICByZXFSZXN1bHQgPSBlOwogICAgLy8gICAgICAgICB9CiAgICAvLwogICAgLy8gICAgICAgICBpZiAocmVxUmVzdWx0LnN0YXR1c0NvZGUgPT09IDMwNykgeyAvL2FtYXpvbiBtYWtlcyBpbnRlcm5hbCByZWRpcmVjdCBpdCBvY2N1cnMgdW5wcmVkaWN0YWJseQogICAgLy8gICAgICAgICAgIGNvbnNvbGUubG9nKCczMDcgcmVkaXJlY3Qgb24gInNpZ25lZCB1cmwiIGRvd25sb2FkJykKICAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgICAocmVxUmVzdWx0LmhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gLSAwKS5zaG91bGQuYmUubGVzc1RoYW4oODAwMCk7CiAgICAvLyAgICAgICAgICAgKHJlcVJlc3VsdC5oZWFkZXJzWydjb250ZW50LWxlbmd0aCddIC0gMCkuc2hvdWxkLmJlLmdyZWF0ZXJUaGFuKDYwMDApOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9KTsKICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vICAgICAgIGl0KCdPbGQgaW1hZ2Ugc2hvdWxkIG5vdCBiZSBjYWNoZWQgd2hlbiBuZXcgaXMgdXBsb2FkZWQnLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgICAgICAgICAgLnB1dChgL2NoYW5uZWxzLyR7bWFpblVzZXJQdWJsaXNoQ2hhbm5lbC5pZH0vdXBsb2FkP2NoYW5uZWxQaWN0dXJlPXRydWVgKQogICAgLy8gICAgICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgICAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgICAgICAgcmVzdWx0LmJvZHkudXBsb2FkaW5nVXJsLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAgICAgICB1cGxvYWRpbmdVcmwgPSByZXN1bHQuYm9keS51cGxvYWRpbmdVcmw7CiAgICAvLwogICAgLy8gICAgICAgICBsZXQgYm9keSA9IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL21vY2svaW1hZ2VzLzEyM0tiLmpwZycpOyAvL3VwbG9hZCBhIGJpZ2dlciBpbWFnZSB0aGUgcHJldmlvdXMgKDEyMyBLYiBzaXplKQogICAgLy8gICAgICAgICBhd2FpdChycCh7CiAgICAvLyAgICAgICAgICAgbWV0aG9kOiAiUFVUIiwKICAgIC8vICAgICAgICAgICB1cmw6IHVwbG9hZGluZ1VybCwKICAgIC8vICAgICAgICAgICBib2R5OiBib2R5LAogICAgLy8gICAgICAgICB9KSk7CiAgICAvLwogICAgLy8gICAgICAgICBsZXQgcGljdHVyZVVybCA9IChhd2FpdCBjaGFpCiAgICAvLyAgICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgICAgICAgICAgLmdldChgL2NoYW5uZWxzLyR7bWFpblVzZXJQdWJsaXNoQ2hhbm5lbC5pZH1gKQogICAgLy8gICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAgICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgICAgICAgICAuc2VuZCgpKQogICAgLy8gICAgICAgICAgIC5ib2R5LmNoYW5uZWwucGljdHVyZVVybDsKICAgIC8vCiAgICAvLyAgICAgICAgIGxldCByZXFSZXN1bHQKICAgIC8vICAgICAgICAgICAsIHJlcU9wdGlvbnMKICAgIC8vCiAgICAvLyAgICAgICAgIHJlcU9wdGlvbnMgPSB7CiAgICAvLyAgICAgICAgICAgdXJpICAgICAgICAgICAgICAgICAgICA6IHBpY3R1cmVVcmwsCiAgICAvLyAgICAgICAgICAgZm9sbG93UmVkaXJlY3QgICAgICAgICA6IHRydWUsCiAgICAvLyAgICAgICAgICAgcmVzb2x2ZVdpdGhGdWxsUmVzcG9uc2U6IHRydWUsCiAgICAvLyAgICAgICAgICAganNvbiAgICAgICAgICAgICAgICAgICA6IHRydWUsCiAgICAvLyAgICAgICAgICAgZW5jb2RpbmcgICAgICAgICAgICAgICA6IG51bGwsCiAgICAvLyAgICAgICAgICAgaGVhZGVycyAgICAgICAgICAgICAgICA6IHsKICAgIC8vICAgICAgICAgICB9CiAgICAvLyAgICAgICAgIH07CiAgICAvLyAgICAgICAgIHRyeSB7CiAgICAvLyAgICAgICAgICAgcmVxUmVzdWx0ID0gYXdhaXQgcnAocmVxT3B0aW9ucyk7CiAgICAvLyAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgIC8vICAgICAgICAgICByZXFSZXN1bHQgPSBlOwogICAgLy8gICAgICAgICB9CiAgICAvLwogICAgLy8gICAgICAgICBpZiAocmVxUmVzdWx0LnN0YXR1c0NvZGUgPT09IDMwNykgeyAvL2FtYXpvbiBtYWtlcyBpbnRlcm5hbCByZWRpcmVjdCBpdCBvY2N1cnMgdW5wcmVkaWN0YWJseQogICAgLy8gICAgICAgICAgIGNvbnNvbGUubG9nKCczMDcgcmVkaXJlY3Qgb24gInNpZ25lZCB1cmwiIGRvd25sb2FkJykKICAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgICAocmVxUmVzdWx0LmhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gLSAwKS5zaG91bGQuYmUuZ3JlYXRlclRoYW4oMTIwMDAwKTsKICAgIC8vICAgICAgICAgICAocmVxUmVzdWx0LmhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gLSAwKS5zaG91bGQuYmUubGVzc1RoYW4oMTMwMDAwKTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfSk7CiAgICAvLwogICAgLy8gICAgIH0pOwogICAgLy8gICB9KTsKICAgIC8vCiAgICAvLyAgIC8vIGl0KCdQdWJsaWMnLCBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAvLyAgIC8vICAgbGV0IGZpZWxkcyA9IG1vY2tzLnZpZGVvLmdldEZpZWxkcyhmaXJzdFZpZGVvUHJvcHMpOwogICAgLy8gICAvLyAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgIC5wb3N0KCcvdmlkZW9zJykKICAgIC8vICAgLy8gICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAvLyAgICAgLnNlbmQoZmllbGRzKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgcmVzdWx0LmJvZHkuc3VjY2Vzcy5zaG91bGQuYmUuZXEodHJ1ZSk7CiAgICAvLyAgIC8vICAgZmlyc3RWaWRlbyA9IHJlc3VsdC5ib2R5LnZpZGVvOwogICAgLy8gICAvLyAgIGZpcnN0VmlkZW8uc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgZmlyc3RWaWRlby5pZC5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICBmaXJzdFZpZGVvLmlzUHVibGljLnNob3VsZC5iZS5lcShmYWxzZSk7CiAgICAvLyAgIC8vICAgZmlyc3RWaWRlby50aXRsZS5zaG91bGQuYmUuZXEoZmllbGRzLnRpdGxlKTsKICAgIC8vICAgLy8gICBmaXJzdFZpZGVvLmRlc2NyaXB0aW9uLnNob3VsZC5iZS5lcShmaWVsZHMuZGVzY3JpcHRpb24pOwogICAgLy8gICAvLyAgIGZpcnN0VmlkZW8udHlwZS5zaG91bGQuYmUuZXEoJ2JhY2t1cCcpOwogICAgLy8gICAvLyAgIGZpcnN0VmlkZW8uZm9sZGVySWQuc2hvdWxkLmJlLm5vdC5udWxsOwogICAgLy8gICAvLyAgIGZpcnN0VmlkZW8uY29tbWVudHNEaXNhYmxlZC5zaG91bGQuYmUuZXEodHJ1ZSk7CiAgICAvLyAgIC8vICAgZmlyc3RWaWRlby5jcmVhdGlvbkRhdGUuc2hvdWxkLmJlLm5vdC5udWxsOwogICAgLy8gICAvLyAgIGZpcnN0VmlkZW8uY3JlYXRpb25EYXRlLnNob3VsZC5iZS5ub3QubnVsbDsKICAgIC8vICAgLy8gICBmaXJzdFZpZGVvLmNoYW5uZWxJZC5zaG91bGQuYmUuZXEobWFpblVzZXJCYWNrdXBzQ2hhbm5lbC5pZCk7CiAgICAvLyAgIC8vIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyBpdCgnU2Vjb25kJywgYXN5bmMgZnVuY3Rpb24gKCkgewogICAgLy8gICAvLyAgIGxldCBmaWVsZHMgPSBtb2Nrcy52aWRlby5nZXRGaWVsZHMoc2Vjb25kVmlkZW9Qcm9wcyk7CiAgICAvLyAgIC8vICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgLnBvc3QoJy92aWRlb3MnKQogICAgLy8gICAvLyAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAuc2VuZChmaWVsZHMpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICBzZWNvbmRWaWRlbyA9IHJlc3VsdC5ib2R5LnZpZGVvOwogICAgLy8gICAvLyAgIHNlY29uZFZpZGVvLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgIHNlY29uZFZpZGVvLmlkLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgIHNlY29uZFZpZGVvLmlzUHVibGljLnNob3VsZC5iZS5lcShmYWxzZSk7CiAgICAvLyAgIC8vICAgc2Vjb25kVmlkZW8udGl0bGUuc2hvdWxkLmJlLmVxKGZpZWxkcy50aXRsZSk7CiAgICAvLyAgIC8vICAgc2Vjb25kVmlkZW8uZGVzY3JpcHRpb24uc2hvdWxkLmJlLmVxKGZpZWxkcy5kZXNjcmlwdGlvbik7CiAgICAvLyAgIC8vICAgc2Vjb25kVmlkZW8udHlwZS5zaG91bGQuYmUuZXEoJ2JhY2t1cCcpOwogICAgLy8gICAvLyAgIHNlY29uZFZpZGVvLmZvbGRlcklkLnNob3VsZC5iZS5ub3QubnVsbDsKICAgIC8vICAgLy8gICBzZWNvbmRWaWRlby5jb21tZW50c0Rpc2FibGVkLnNob3VsZC5iZS5lcSh0cnVlKTsKICAgIC8vICAgLy8gICBzZWNvbmRWaWRlby5jcmVhdGlvbkRhdGUuc2hvdWxkLmJlLm5vdC5udWxsOwogICAgLy8gICAvLyAgIHNlY29uZFZpZGVvLmNyZWF0aW9uRGF0ZS5zaG91bGQuYmUubm90Lm51bGw7CiAgICAvLyAgIC8vICAgc2Vjb25kVmlkZW8uY2hhbm5lbElkLnNob3VsZC5iZS5lcShtYWluVXNlckJhY2t1cHNDaGFubmVsLmlkKTsKICAgIC8vICAgLy8gfSkKICAgIC8vICAgLy8KICAgIC8vICAgLy8KICAgIC8vICAgLy8gZGVzY3JpYmUoJ0ZvbGRlcnMgY3JlYXRlL2dldC91cGRhdGUgYXBpJywgZnVuY3Rpb24oKXsKICAgIC8vICAgLy8gICBsZXQgdGVzdEZvbGRlclBhdGggPSAnL1Jvb3Qvc29tZXdoZXJlL3NvbXdoZXJlIGFnYWluJwogICAgLy8gICAvLyAgICAgLCB0ZXN0Rm9sZGVyOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgIGl0KCdGb2xkZXJzIHNob3VsZCBiZSBjcmVhdGVkJywgYXN5bmMgZnVuY3Rpb24oKXsKICAgIC8vICAgLy8gICAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAuZ2V0KCcvY2hhbm5lbHMvZm9sZGVycycpCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgbGV0IGZvbGRlcnMgPSByZXN1bHQuYm9keS5mb2xkZXJzOwogICAgLy8gICAvLyAgICAgZm9sZGVycy5sZW5ndGguc2hvdWxkLmJlLmVxKDIpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgZmlyc3RWaWRlb0ZvbGRlciA9IGZvbGRlcnMuZmluZChmPT5mLmxvY2FsUGF0aCA9PT0gZmlyc3RWaWRlb1Byb3BzLmxvY2FsUGF0aCk7CiAgICAvLyAgIC8vICAgICBmaXJzdFZpZGVvRm9sZGVyLnNob3VsZC5ub3QuYmUubnVsbDsKICAgIC8vICAgLy8gICAgIGZpcnN0VmlkZW9Gb2xkZXIuaWQuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICBmaXJzdFZpZGVvRm9sZGVyLmNyZWF0aW9uRGF0ZS5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIGZpcnN0VmlkZW9Gb2xkZXIubGFzdFVwZGF0ZURhdGUuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICBzZWNvbmRWaWRlb0ZvbGRlciA9IGZvbGRlcnMuZmluZChmPT5mLmxvY2FsUGF0aCA9PT0gc2Vjb25kVmlkZW9Qcm9wcy5sb2NhbFBhdGgpOwogICAgLy8gICAvLyAgICAgc2Vjb25kVmlkZW9Gb2xkZXIuc2hvdWxkLm5vdC5iZS5udWxsOwogICAgLy8gICAvLyAgICAgc2Vjb25kVmlkZW9Gb2xkZXIuaWQuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICBzZWNvbmRWaWRlb0ZvbGRlci5jcmVhdGlvbkRhdGUuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICBzZWNvbmRWaWRlb0ZvbGRlci5sYXN0VXBkYXRlRGF0ZS5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIHBhcmVudEZvbGRlciA9IGZvbGRlcnMuZmluZChmPT5mLmxvY2FsUGF0aCA9PT0gcGFyZW50Rm9sZGVyUGF0aCk7CiAgICAvLyAgIC8vICAgICBwYXJlbnRGb2xkZXIuc2hvdWxkLm5vdC5iZS5udWxsOwogICAgLy8gICAvLyAgICAgcGFyZW50Rm9sZGVyLmlkLnNob3VsZC5ub3QuYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgcGFyZW50Rm9sZGVyLmNyZWF0aW9uRGF0ZS5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIHBhcmVudEZvbGRlci5sYXN0VXBkYXRlRGF0ZS5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICBpdCgnU2hvdWxkIGJlIGFibGUgdG8gZ2V0IGZvbGRlciBieSBJRCcsIGFzeW5jIGZ1bmN0aW9uKCl7CiAgICAvLyAgIC8vICAgICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgLmdldChgL3ZpZGVvcy9mb2xkZXJzP2ZvbGRlcklkPSR7Zmlyc3RWaWRlb0ZvbGRlci5pZH1gKQogICAgLy8gICAvLyAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAvLyAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIHJlc3VsdC5ib2R5LmZvbGRlci5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIHJlc3VsdC5ib2R5LmZvbGRlci5pZC5zaG91bGQuYmUuZXEoZmlyc3RWaWRlb0ZvbGRlci5pZCk7CiAgICAvLyAgIC8vICAgICByZXN1bHQuYm9keS5mb2xkZXIuY2hhbm5lbElkLnNob3VsZC5iZS5lcShmaXJzdFZpZGVvRm9sZGVyLmNoYW5uZWxJZCk7CiAgICAvLyAgIC8vICAgICByZXN1bHQuYm9keS5mb2xkZXIubG9jYWxQYXRoLnNob3VsZC5iZS5lcShmaXJzdFZpZGVvRm9sZGVyLmxvY2FsUGF0aCk7CiAgICAvLyAgIC8vICAgICByZXN1bHQuYm9keS5mb2xkZXIuY3JlYXRpb25EYXRlLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgcmVzdWx0LmJvZHkuZm9sZGVyLmxhc3RVcGRhdGVEYXRlLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgIGl0KCdTaG91bGQgYmUgYWJsZSB0byBnZXQgZm9sZGVyIGJ5IGxvY2FsUGF0aCcsIGFzeW5jIGZ1bmN0aW9uKCl7CiAgICAvLyAgIC8vICAgICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgLmdldChgL3ZpZGVvcy9mb2xkZXJzP2xvY2FsUGF0aD0ke2ZpcnN0VmlkZW9Gb2xkZXIubG9jYWxQYXRofWApCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgcmVzdWx0LmJvZHkuZm9sZGVyLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgcmVzdWx0LmJvZHkuZm9sZGVyLmlkLnNob3VsZC5iZS5lcShmaXJzdFZpZGVvRm9sZGVyLmlkKTsKICAgIC8vICAgLy8gICAgIHJlc3VsdC5ib2R5LmZvbGRlci5jaGFubmVsSWQuc2hvdWxkLmJlLmVxKGZpcnN0VmlkZW9Gb2xkZXIuY2hhbm5lbElkKTsKICAgIC8vICAgLy8gICAgIHJlc3VsdC5ib2R5LmZvbGRlci5sb2NhbFBhdGguc2hvdWxkLmJlLmVxKGZpcnN0VmlkZW9Gb2xkZXIubG9jYWxQYXRoKTsKICAgIC8vICAgLy8gICAgIHJlc3VsdC5ib2R5LmZvbGRlci5jcmVhdGlvbkRhdGUuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICByZXN1bHQuYm9keS5mb2xkZXIubGFzdFVwZGF0ZURhdGUuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgaXQoJ1Nob3VsZCBiZSBhYmxlIHRvIGdldCBjb250ZW50IG9mIGZvbGRlciBjb3JyZWN0bHknLCBhc3luYyBmdW5jdGlvbigpewogICAgLy8gICAvLyAgICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgIC5nZXQoYC9jaGFubmVscy9mb2xkZXJzL2NvbnRlbnQ/bG9jYWxQYXRoPSR7Zmlyc3RWaWRlb0ZvbGRlci5sb2NhbFBhdGh9YCkKICAgIC8vICAgLy8gICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgLy8gICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBsZXQgZm9sZGVycywgdmlkZW9zOwogICAgLy8gICAvLyAgICAgZm9sZGVycyA9IHJlc3VsdC5ib2R5LmZvbGRlcnM7CiAgICAvLyAgIC8vICAgICB2aWRlb3MgID0gcmVzdWx0LmJvZHkudmlkZW9zOwogICAgLy8gICAvLyAgICAgZm9sZGVycy5sZW5ndGguc2hvdWxkLmJlLmVxKDApOwogICAgLy8gICAvLyAgICAgdmlkZW9zLmxlbmd0aC5zaG91bGQuYmUuZXEoMSk7CiAgICAvLyAgIC8vICAgICB2aWRlb3NbMF0uaWQuc2hvdWxkLmJlLmVxKGZpcnN0VmlkZW8uaWQpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgLmdldChgL2NoYW5uZWxzL2ZvbGRlcnMvY29udGVudD9sb2NhbFBhdGg9JHtzZWNvbmRWaWRlb0ZvbGRlci5sb2NhbFBhdGh9YCkKICAgIC8vICAgLy8gICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgLy8gICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBmb2xkZXJzID0gcmVzdWx0LmJvZHkuZm9sZGVyczsKICAgIC8vICAgLy8gICAgIHZpZGVvcyAgPSByZXN1bHQuYm9keS52aWRlb3M7CiAgICAvLyAgIC8vICAgICBmb2xkZXJzLmxlbmd0aC5zaG91bGQuYmUuZXEoMSk7CiAgICAvLyAgIC8vICAgICB2aWRlb3MubGVuZ3RoLnNob3VsZC5iZS5lcSgxKTsKICAgIC8vICAgLy8gICAgIGZvbGRlcnNbMF0uaWQuc2hvdWxkLmJlLmVxKGZpcnN0VmlkZW9Gb2xkZXIuaWQpOwogICAgLy8gICAvLyAgICAgdmlkZW9zWzBdLmlkLnNob3VsZC5iZS5lcShzZWNvbmRWaWRlby5pZCk7CiAgICAvLyAgIC8vICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgaXQoJ1Nob3VsZCBiZSBhYmxlIHRvIHVwZGF0ZSBmb2xkZXIgbmFtZScsIGFzeW5jIGZ1bmN0aW9uKCl7CiAgICAvLyAgIC8vICAgICBsZXQgbmV3TG9jYWxQYXRoID0gcGFyZW50Rm9sZGVyUGF0aCArICcvbmV3Rm9sZGVyL2tlayc7CiAgICAvLyAgIC8vICAgICBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAucGF0Y2goYC92aWRlb3MvZm9sZGVyc2ApCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAgIC5zZW5kKHsKICAgIC8vICAgLy8gICAgICAgICAibmV3TG9jYWxQYXRoIjogbmV3TG9jYWxQYXRoLAogICAgLy8gICAvLyAgICAgICAgICJvbGRMb2NhbFBhdGgiOiBmaXJzdFZpZGVvRm9sZGVyLmxvY2FsUGF0aAogICAgLy8gICAvLyAgICAgICB9KSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgLmdldCgnL2NoYW5uZWxzL2ZvbGRlcnMnKQogICAgLy8gICAvLyAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAvLyAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGxldCBmb2xkZXJzID0gcmVzdWx0LmJvZHkuZm9sZGVycwogICAgLy8gICAvLyAgICAgICAsIHVwZGF0ZWRGb2xkZXIgPSBmb2xkZXJzLmZpbmQoZiA9PiBmLmlkID09PSBmaXJzdFZpZGVvRm9sZGVyLmlkKQogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgdXBkYXRlZEZvbGRlci5pZC5zaG91bGQuYmUuZXEoZmlyc3RWaWRlby5mb2xkZXJJZCk7CiAgICAvLyAgIC8vICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgaXQoJ1Nob3VsZCBiZSBhYmxlIGNyZWF0ZSBmb2xkZXIgdXNpbmcgbG9jYWxQYXRoJywgYXN5bmMgZnVuY3Rpb24oKXsKICAgIC8vICAgLy8gICAgIGxldCBmb2xkZXJQYXJhbXMgPSB7CiAgICAvLyAgIC8vICAgICAgIGxvY2FsUGF0aDogdGVzdEZvbGRlclBhdGgKICAgIC8vICAgLy8gICAgIH07CiAgICAvLyAgIC8vICAgICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgLnBvc3QoJy92aWRlb3MvZm9sZGVycycpCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAgIC5zZW5kKGZvbGRlclBhcmFtcykpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgcmVzdWx0LnN0YXR1c0NvZGUuc2hvdWxkLmJlLmVxKDIwMCk7CiAgICAvLyAgIC8vICAgICByZXN1bHQuYm9keS5zdWNjZXNzLnNob3VsZC5iZS5lcSh0cnVlKTsKICAgIC8vICAgLy8gICAgIHJlc3VsdC5ib2R5LmZvbGRlci5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIHRlc3RGb2xkZXIgPSByZXN1bHQuYm9keS5mb2xkZXI7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICB0ZXN0Rm9sZGVyLmlkLnNob3VsZC5ub3QuYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgdGVzdEZvbGRlci5jcmVhdGlvbkRhdGUuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICB0ZXN0Rm9sZGVyLmxhc3RVcGRhdGVEYXRlLnNob3VsZC5ub3QuYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgdGVzdEZvbGRlci5sb2NhbFBhdGguc2hvdWxkLmJlLmVxKGZvbGRlclBhcmFtcy5sb2NhbFBhdGgpOwogICAgLy8gICAvLyAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgIGl0KCdDcmVhdGlvbiBmb2xkZXIgd2l0aCBleGlzdGluZyBwYXRoIHdpbGwgcmV0dXJuIGV4aXN0aW5nIGZvbGRlcicsIGFzeW5jIGZ1bmN0aW9uKCl7CiAgICAvLyAgIC8vICAgICBsZXQgZm9sZGVyUGFyYW1zID0gewogICAgLy8gICAvLyAgICAgICBsb2NhbFBhdGg6IHRlc3RGb2xkZXJQYXRoCiAgICAvLyAgIC8vICAgICB9OwogICAgLy8gICAvLyAgICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgIC5wb3N0KCcvdmlkZW9zL2ZvbGRlcnMnKQogICAgLy8gICAvLyAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAvLyAgICAgICAuc2VuZChmb2xkZXJQYXJhbXMpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIHJlc3VsdC5zdGF0dXNDb2RlLnNob3VsZC5iZS5lcSgyMDApOwogICAgLy8gICAvLyAgICAgcmVzdWx0LmJvZHkuc3VjY2Vzcy5zaG91bGQuYmUuZXEodHJ1ZSk7CiAgICAvLyAgIC8vICAgICByZXN1bHQuYm9keS5mb2xkZXIuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBsZXQgZXhpc3RpbmdGb2xkZXIgPSByZXN1bHQuYm9keS5mb2xkZXI7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBleGlzdGluZ0ZvbGRlci5pZC5zaG91bGQuYmUuZXEodGVzdEZvbGRlci5pZCk7CiAgICAvLyAgIC8vICAgICBleGlzdGluZ0ZvbGRlci5jcmVhdGlvbkRhdGUuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICBleGlzdGluZ0ZvbGRlci5sYXN0VXBkYXRlRGF0ZS5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIGV4aXN0aW5nRm9sZGVyLmxvY2FsUGF0aC5zaG91bGQuYmUuZXEoZm9sZGVyUGFyYW1zLmxvY2FsUGF0aCk7CiAgICAvLyAgIC8vICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgZGVzY3JpYmUoJ1Rlc3QgaW5uZXIgZm9sZGVycycsIGZ1bmN0aW9uKCl7CiAgICAvLyAgIC8vICAgICBsZXQgaW5uZXJGb2xkZXJQYXRoMSA9ICcvaW5uZXIxJwogICAgLy8gICAvLyAgICAgICAsIGlubmVyRm9sZGVyUGF0aDIgPSAnL2lubmVyMicKICAgIC8vICAgLy8gICAgICAgLCBpbm5lckZvbGRlclBhdGgzID0gJy9pbm5lcjMnCiAgICAvLyAgIC8vICAgICAgICwgdGFyZ2V0Rm9sZGVyUGF0aCA9ICcvaW5uZXJWaWRlb3MnCiAgICAvLyAgIC8vICAgICAgICwgaW5uZXJGb2xkZXIxCiAgICAvLyAgIC8vICAgICAgICwgaW5uZXJGb2xkZXIyCiAgICAvLyAgIC8vICAgICAgICwgaW5uZXJGb2xkZXIzCiAgICAvLyAgIC8vICAgICAgICwgdGFyZ2V0Rm9sZGVyCiAgICAvLyAgIC8vICAgICBsZXQgZmllbGRzID0gewogICAgLy8gICAvLyAgICAgICB0aXRsZSAgICAgIDogIklubmVyIHZpZGVvIiwKICAgIC8vICAgLy8gICAgICAgZGVzY3JpcHRpb246ICJJbm5lciB2aWRlbyIsCiAgICAvLyAgIC8vICAgICAgIGlzUHVibGljICAgOiBmYWxzZSwKICAgIC8vICAgLy8gICAgICAgdHlwZSAgICAgICA6ICJiYWNrdXAiLAogICAgLy8gICAvLyAgICAgICBsb2NhbFBhdGggIDogcGFyZW50Rm9sZGVyUGF0aCArIGlubmVyRm9sZGVyUGF0aDEgKyBpbm5lckZvbGRlclBhdGgyICsgaW5uZXJGb2xkZXJQYXRoMyArIHRhcmdldEZvbGRlclBhdGgKICAgIC8vICAgLy8gICAgIH07CiAgICAvLyAgIC8vICAgICBiZWZvcmUoYXN5bmMgZnVuY3Rpb24oKXsKICAgIC8vICAgLy8gICAgICAgYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAgIC5wb3N0KCcvdmlkZW9zJykKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoZmllbGRzKSk7CiAgICAvLyAgIC8vICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGl0KCdTaG91bGQgYXV0b21hdGljYWxseSBjcmVhdGUgaW5uZXIgZm9sZGVycycsIGFzeW5jIGZ1bmN0aW9uKCl7CiAgICAvLyAgIC8vICAgICAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLmdldCgnL2NoYW5uZWxzL2ZvbGRlcnMnKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgLy8gICAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgbGV0IGZvbGRlcnMgPSByZXN1bHQuYm9keS5mb2xkZXJzOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjEgPSBmb2xkZXJzLmZpbmQoZiA9PiBmLmxvY2FsUGF0aCA9PT0gcGFyZW50Rm9sZGVyUGF0aCArIGlubmVyRm9sZGVyUGF0aDEpOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjEuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMiA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSArIGlubmVyRm9sZGVyUGF0aDIpOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjIuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMyA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSArIGlubmVyRm9sZGVyUGF0aDIgKyBpbm5lckZvbGRlclBhdGgzKTsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIzLnNob3VsZC5ub3QuYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICB0YXJnZXRGb2xkZXIgPSBmb2xkZXJzLmZpbmQoZiA9PiBmLmxvY2FsUGF0aCA9PT0gcGFyZW50Rm9sZGVyUGF0aCArIGlubmVyRm9sZGVyUGF0aDEgKyBpbm5lckZvbGRlclBhdGgyICsgaW5uZXJGb2xkZXJQYXRoMyArIHRhcmdldEZvbGRlclBhdGgpOwogICAgLy8gICAvLyAgICAgICB0YXJnZXRGb2xkZXIuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGl0KCdJZiBmb2xkZXIgY2hhbmdlcyBuYW1lIC0gYWxsIGlubmVyIGZvbGRlciB3aWxsIGNoYW5nZSB0aGVpciBuYW1lcyBhcyB3ZWxsJywgYXN5bmMgZnVuY3Rpb24oKXsKICAgIC8vICAgLy8gICAgICAgbGV0IG5ld0lubmVyRm9sZGVyUGF0aDEgPSAnL2lubmVyUmVuYW1lZCcKICAgIC8vICAgLy8gICAgICAgICAsIG5ld0xvY2FsUGF0aCA9IHBhcmVudEZvbGRlclBhdGggKyBuZXdJbm5lckZvbGRlclBhdGgxCiAgICAvLyAgIC8vICAgICAgICAgLCBvbGRMb2NhbFBhdGggPSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAgIC5wYXRjaChgL3ZpZGVvcy9mb2xkZXJzYCkKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoewogICAgLy8gICAvLyAgICAgICAgICAgIm5ld0xvY2FsUGF0aCI6IG5ld0xvY2FsUGF0aCwKICAgIC8vICAgLy8gICAgICAgICAgICJvbGRMb2NhbFBhdGgiOiBvbGRMb2NhbFBhdGgKICAgIC8vICAgLy8gICAgICAgICB9KSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLmdldCgnL2NoYW5uZWxzL2ZvbGRlcnMnKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgLy8gICAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgbGV0IGZvbGRlcnMgPSByZXN1bHQuYm9keS5mb2xkZXJzOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjEgPSBmb2xkZXJzLmZpbmQoZiA9PiBmLmxvY2FsUGF0aCA9PT0gcGFyZW50Rm9sZGVyUGF0aCArIGlubmVyRm9sZGVyUGF0aDEpOwogICAgLy8gICAvLyAgICAgICBleHBlY3QoaW5uZXJGb2xkZXIxKS50by5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMiA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSArIGlubmVyRm9sZGVyUGF0aDIpOwogICAgLy8gICAvLyAgICAgICBleHBlY3QoaW5uZXJGb2xkZXIyKS50by5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMyA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSArIGlubmVyRm9sZGVyUGF0aDIgKyBpbm5lckZvbGRlclBhdGgzKTsKICAgIC8vICAgLy8gICAgICAgZXhwZWN0KGlubmVyRm9sZGVyMykudG8uYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICB0YXJnZXRGb2xkZXIgPSBmb2xkZXJzLmZpbmQoZiA9PiBmLmxvY2FsUGF0aCA9PT0gcGFyZW50Rm9sZGVyUGF0aCArIGlubmVyRm9sZGVyUGF0aDEgKyBpbm5lckZvbGRlclBhdGgyICsgaW5uZXJGb2xkZXJQYXRoMyArIHRhcmdldEZvbGRlclBhdGgpOwogICAgLy8gICAvLyAgICAgICBleHBlY3QodGFyZ2V0Rm9sZGVyKS50by5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyUGF0aDEgPSBuZXdJbm5lckZvbGRlclBhdGgxOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjEgPSBmb2xkZXJzLmZpbmQoZiA9PiBmLmxvY2FsUGF0aCA9PT0gcGFyZW50Rm9sZGVyUGF0aCArIGlubmVyRm9sZGVyUGF0aDEpOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjEuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMiA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSArIGlubmVyRm9sZGVyUGF0aDIpOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjIuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMyA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSArIGlubmVyRm9sZGVyUGF0aDIgKyBpbm5lckZvbGRlclBhdGgzKTsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIzLnNob3VsZC5ub3QuYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICB0YXJnZXRGb2xkZXIgPSBmb2xkZXJzLmZpbmQoZiA9PiBmLmxvY2FsUGF0aCA9PT0gcGFyZW50Rm9sZGVyUGF0aCArIGlubmVyRm9sZGVyUGF0aDEgKyBpbm5lckZvbGRlclBhdGgyICsgaW5uZXJGb2xkZXJQYXRoMyArIHRhcmdldEZvbGRlclBhdGgpOwogICAgLy8gICAvLyAgICAgICB0YXJnZXRGb2xkZXIuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICB9KQogICAgLy8gICAvLwogICAgLy8gICAvLyAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gZGVzY3JpYmUoJ1VwbG9hZCcsIGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgIC8vICAgLy8gICBkZXNjcmliZSgnU2lnbmVkIHVybCcsIGFzeW5jICgpID0+IHsKICAgIC8vICAgLy8gICAgIGxldCB1cGxvYWRpbmdVcmw7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBpdCgnU2hvdWxkIGdldCBhIHVwbG9hZGluZyBsaW5rIGZpcnN0JywgYXN5bmMgKCkgPT4gewogICAgLy8gICAvLyAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAgIC5wdXQoYC92aWRlb3MvJHtmaXJzdFZpZGVvLmlkfS91cGxvYWRgKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICByZXN1bHQuYm9keS51cGxvYWRpbmdVcmwuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIHVwbG9hZGluZ1VybCA9IHJlc3VsdC5ib2R5LnVwbG9hZGluZ1VybDsKICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgaXQoJ1VwbG9hZCBmaWxlJywgYXN5bmMgKCkgPT4gewogICAgLy8gICAvLyAgICAgICBsZXQgYm9keSA9IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL21vY2svdmlkZW9zL2JhY2t1cF92aWRlby5mdnAnKTsKICAgIC8vICAgLy8gICAgICAgYXdhaXQocnAoewogICAgLy8gICAvLyAgICAgICAgIG1ldGhvZDogIlBVVCIsCiAgICAvLyAgIC8vICAgICAgICAgdXJsOiB1cGxvYWRpbmdVcmwsCiAgICAvLyAgIC8vICAgICAgICAgLy8gYm9keTogbmV3IEJ1ZmZlcihmaXJzdFZpZGVvQnVmZmVyU3RyaW5nKSwKICAgIC8vICAgLy8gICAgICAgICBib2R5OiBib2R5LAogICAgLy8gICAvLyAgICAgICB9KSk7CiAgICAvLyAgIC8vICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGl0KCdpc1VwbG9hZGVkIGZsYWcgc2hvdWxkIGJlIHNldCB0byAidHJ1ZSInLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICAgIC8vIHdhaXQgczMgdHJpZ2dlcgogICAgLy8gICAvLyAgICAgICBhd2FpdChtb2Nrcy5oZWxwZXIud2FpdEFzeW5jKDcwMDApKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAuZ2V0KGAvdmlkZW9zLyR7Zmlyc3RWaWRlby5pZH0/c2hhcmVMaW5rPXRydWVgKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBleHBlY3QocmVzdWx0LmJvZHkuc2hhcmVMaW5rKS5ub3QudG8uYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICBleHBlY3QocmVzdWx0LmJvZHkudmlkZW8pLm5vdC50by5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIHJlc3VsdC5ib2R5LnZpZGVvLnZ1bGNhbUlkLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICBleHBlY3QocmVzdWx0LmJvZHkudmlkZW8uaXNVcGxvYWRlZCkudG8uYmUudHJ1ZTsKICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgaXQoJ1Nob3VsZCBiZSBhYmxlIHRvIHVwbG9hZCBmaWxlIG9ubHkgb25jZScsIGFzeW5jICgpID0+IHsKICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAucHV0KGAvdmlkZW9zLyR7Zmlyc3RWaWRlby5pZH0vdXBsb2FkYCkKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAuc2VuZCgpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICByZXN1bHQuYm9keS5zdGF0dXNDb2RlID0gNDAwOy8vdXBsb2FkaW5nVXJsLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBpdCgnU2hvdWxkIGFwcGVhciBpbiB2aWRlbyBzZWFyY2gnLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICAgIC8vIHdhaXQgczMgdHJpZ2dlcgogICAgLy8gICAvLyAgICAgICBhd2FpdChtb2Nrcy5oZWxwZXIud2FpdEFzeW5jKDMwMDApKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAuZ2V0KGAvdmlkZW9zL3NlYXJjaD9zZWFyY2hUeXBlPWludGVybmFsJmNsb3VkSWQ9JHtmaXJzdFZpZGVvLmlkfSZvcmRlclswXVtjb2x1bW5dPTAmb3JkZXJbMF1bZGlyXT1kZXNjJnN0YXJ0PTAmbGVuZ3RoPTEwJmNvbHVtbnNbMF1bZGF0YV09aWRgKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLyAgICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQuYm9keSkKICAgIC8vICAgLy8gICAgICAgZXhwZWN0KHJlc3VsdC5ib2R5LnZpZGVvcykubm90LnRvLmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgcmVzdWx0LmJvZHkudmlkZW9zLnNob3VsZC5iZS5hbi5pbnN0YW5jZU9mKEFycmF5KTsKICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLyAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgIGRlc2NyaWJlKCdNdWx0aXBhcnQgdXBsb2FkJywgYXN5bmMgKCkgPT4gewogICAgLy8gICAvLyAgICAgbGV0IG1wVTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGl0KCdTaG91bGQgZ2V0IGEgbXVsdGlwYXJ0IHVwbG9hZCBjcmVkZW50aWFscyBmaXJzdCcsIGFzeW5jICgpID0+IHsKICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAucHV0KGAvdmlkZW9zLyR7c2Vjb25kVmlkZW8uaWR9L3VwbG9hZD9tdWx0aXBhcnQ9dHJ1ZWApCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIHJlc3VsdC5ib2R5Lm11bHRpcGFydFVwbG9hZC5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgcmVzdWx0LmJvZHkubXVsdGlwYXJ0VXBsb2FkLmNyZWRlbnRpYWxzLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICByZXN1bHQuYm9keS5tdWx0aXBhcnRVcGxvYWQuczMuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIG1wVSA9IHJlc3VsdC5ib2R5Lm11bHRpcGFydFVwbG9hZDsKICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgaXQoJ1VwbG9hZCBmaWxlJywgYXN5bmMgZnVuY3Rpb24gKCkgewogICAgLy8gICAvLyAgICAgICBsZXQgYnVmZmVyID0gZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vbW9jay92aWRlb3MvYmFja3VwX3ZpZGVvLmZ2cCcpOwogICAgLy8gICAvLyAgICAgICBhd2FpdCh1cGxvYWRNdWx0aXBhcnQobXBVLmNyZWRlbnRpYWxzLCBtcFUuczMsIGJ1ZmZlcikpOwogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBpdCgnaXNVcGxvYWRlZCBmbGFnIHNob3VsZCBiZSBzZXQgdG8gInRydWUiJywgYXN5bmMgKCkgPT4gewogICAgLy8gICAvLyAgICAgICAvLyB3YWl0IHMzIHRyaWdnZXIKICAgIC8vICAgLy8gICAgICAgYXdhaXQobW9ja3MuaGVscGVyLndhaXRBc3luYyg3MDAwKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLmdldChgL3ZpZGVvcy8ke3NlY29uZFZpZGVvLmlkfT9zaGFyZUxpbms9dHJ1ZWApCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIGV4cGVjdChyZXN1bHQuYm9keS5zaGFyZUxpbmspLm5vdC50by5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIGV4cGVjdChyZXN1bHQuYm9keS52aWRlbykubm90LnRvLmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgcmVzdWx0LmJvZHkudmlkZW8udnVsY2FtSWQuc2hvdWxkLmJlLm5vdC51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIGV4cGVjdChyZXN1bHQuYm9keS52aWRlby5pc1VwbG9hZGVkKS50by5iZS50cnVlOwogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyBkZXNjcmliZSgnRG93bmxvYWQnLCBmdW5jdGlvbigpIHsKICAgIC8vICAgLy8gICBkZXNjcmliZSgnVXBsb2FkZWQgdXNpbmcgc2lnbmVkIHVybCcsIGFzeW5jICgpPT57CiAgICAvLyAgIC8vICAgICBsZXQgc2hhcmVMaW5rLCBjbG91ZEZyb250VXJsOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgYmVmb3JlKGFzeW5jICgpPT57CiAgICAvLyAgIC8vICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLmdldChgL3ZpZGVvcy8ke2ZpcnN0VmlkZW8uaWR9P3NoYXJlTGluaz10cnVlYCkKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAuc2VuZCgpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBzaGFyZUxpbmsgPSByZXN1bHQuYm9keS5zaGFyZUxpbms7CiAgICAvLyAgIC8vICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGl0KCdHZXQgaHRtbCBwYWdlIGZvciBkb3dubG9hZGluZycsIGFzeW5jICgpPT57CiAgICAvLyAgIC8vICAgICAgIGxldCByZXN1bHQKICAgIC8vICAgLy8gICAgICAgICAsIHJlcU9wdGlvbnMKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgcmVxT3B0aW9ucyA9IHsKICAgIC8vICAgLy8gICAgICAgICB1cmk6IHNoYXJlTGluaywKICAgIC8vICAgLy8gICAgICAgICBmb2xsb3dSZWRpcmVjdDogZmFsc2UsCiAgICAvLyAgIC8vICAgICAgICAgcmVzb2x2ZVdpdGhGdWxsUmVzcG9uc2U6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAganNvbjogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICBlbmNvZGluZzogbnVsbCwKICAgIC8vICAgLy8gICAgICAgfTsKICAgIC8vICAgLy8gICAgICAgdHJ5IHsKICAgIC8vICAgLy8gICAgICAgICByZXN1bHQgPSBhd2FpdChycChyZXFPcHRpb25zKSk7CiAgICAvLyAgIC8vICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgIC8vICAgLy8gICAgICAgICByZXN1bHQgPSBlOwogICAgLy8gICAvLyAgICAgICB9CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIHJlc3VsdC5zdGF0dXNDb2RlLnNob3VsZC5iZS5lcSgyMDApOwogICAgLy8gICAvLyAgICAgICByZXN1bHQuaGVhZGVycy5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgcmVzdWx0LmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddLnNob3VsZC5iZS5lcSgndGV4dC9odG1sJyk7CiAgICAvLyAgIC8vICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGRlc2NyaWJlKCdTaG91bGQgYmUgYWJsZSB0byBkb3dubG9hZCB2aWRlbyBmaWxlcycsIGZ1bmN0aW9uICgpIHsKICAgIC8vICAgLy8gICAgICAgdGhpcy50aW1lb3V0KDIwMDAwKTsKICAgIC8vICAgLy8gICAgICAgbGV0IGhscywgY3JlZGVudGlhbHMsIG1ldGFkYXRhOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBpdCgnU2hvdWxkIGJlIGFibGUgdG8gZG93bmxvYWQgdmlkZW8nLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICAgICAgbGV0IHJlc3VsdAogICAgLy8gICAvLyAgICAgICAgICAgLCByZXFPcHRpb25zCiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICAgLy8gZG93bmxvYWQgdmlkZW8KICAgIC8vICAgLy8gICAgICAgICByZXFPcHRpb25zID0gewogICAgLy8gICAvLyAgICAgICAgICAgdXJpICAgICAgICAgICAgICAgICAgICA6IG1vY2tzLmdldFNlcnZlclVybCgpICsgYC92aWRlb3MvJHtmaXJzdFZpZGVvLmlkfS9kb3dubG9hZGAsCiAgICAvLyAgIC8vICAgICAgICAgICBmb2xsb3dSZWRpcmVjdCAgICAgICAgIDogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgIHJlc29sdmVXaXRoRnVsbFJlc3BvbnNlOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAganNvbiAgICAgICAgICAgICAgICAgICA6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICBlbmNvZGluZyAgICAgICAgICAgICAgIDogbnVsbCwKICAgIC8vICAgLy8gICAgICAgICAgIGhlYWRlcnMgICAgICAgICAgICAgICAgOiB7CiAgICAvLyAgIC8vICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogbWFpblVzZXJUb2tlbgogICAgLy8gICAvLyAgICAgICAgICAgfQogICAgLy8gICAvLyAgICAgICAgIH07CiAgICAvLyAgIC8vICAgICAgICAgdHJ5IHsKICAgIC8vICAgLy8gICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHJwKHJlcU9wdGlvbnMpOwogICAgLy8gICAvLyAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgIC8vICAgLy8gICAgICAgICAgIHJlc3VsdCA9IGU7CiAgICAvLyAgIC8vICAgICAgICAgfQogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzQ29kZSA9PT0gMzA3KSB7IC8vYW1hem9uIG1ha2VzIGludGVybmFsIHJlZGlyZWN0IGl0IG9jY3VycyB1bnByZWRpY3RhYmx5CiAgICAvLyAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZygnMzA3IHJlZGlyZWN0IG9uICJzaWduZWQgdXJsIiBkb3dubG9hZCcpCiAgICAvLyAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgLy8gICAgICAgICAgIHJlc3VsdC5oZWFkZXJzWydjb250ZW50LWRpc3Bvc2l0aW9uJ10uc2hvdWxkLmJlLmVxKGBhdHRhY2htZW50OyBmaWxlbmFtZT0ke2ZpcnN0VmlkZW8udGl0bGV9LmZ2cGApOwogICAgLy8gICAvLyAgICAgICAgICAgKHJlc3VsdC5oZWFkZXJzWydjb250ZW50LWxlbmd0aCddIC0gMCkuc2hvdWxkLmJlLmd0ZSgxKTsKICAgIC8vICAgLy8gICAgICAgICB9CiAgICAvLyAgIC8vICAgICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBpdCgnU2hvdWxkIGJlIGFibGUgdG8gZG93bmxvYWQgdGh1bWJuYWlsIChpdCBpcyBhdXRvbWF0aWNhbGx5IHJldHJpZXZlZCknLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICAgICAgbGV0IHJlcVJlc3VsdAogICAgLy8gICAvLyAgICAgICAgICAgLCByZXFPcHRpb25zCiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICAgcmVxT3B0aW9ucyA9IHsKICAgIC8vICAgLy8gICAgICAgICAgIHVyaSAgICAgICAgICAgICAgICAgICAgOiBtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSArIGAvdmlkZW9zLyR7Zmlyc3RWaWRlby5pZH0vZG93bmxvYWQ/dGh1bWJuYWlsPXRydWVgLAogICAgLy8gICAvLyAgICAgICAgICAgZm9sbG93UmVkaXJlY3QgICAgICAgICA6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICByZXNvbHZlV2l0aEZ1bGxSZXNwb25zZTogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgIGpzb24gICAgICAgICAgICAgICAgICAgOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAgZW5jb2RpbmcgICAgICAgICAgICAgICA6IG51bGwsCiAgICAvLyAgIC8vICAgICAgICAgICBoZWFkZXJzICAgICAgICAgICAgICAgIDogewogICAgLy8gICAvLyAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IG1haW5Vc2VyVG9rZW4KICAgIC8vICAgLy8gICAgICAgICAgIH0KICAgIC8vICAgLy8gICAgICAgICB9OwogICAgLy8gICAvLyAgICAgICAgIHRyeSB7CiAgICAvLyAgIC8vICAgICAgICAgICByZXFSZXN1bHQgPSBhd2FpdCBycChyZXFPcHRpb25zKTsKICAgIC8vICAgLy8gICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAvLyAgIC8vICAgICAgICAgICByZXFSZXN1bHQgPSBlOwogICAgLy8gICAvLyAgICAgICAgIH0KICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgICBpZiAocmVxUmVzdWx0LnN0YXR1c0NvZGUgPT09IDMwNykgeyAvL2FtYXpvbiBtYWtlcyBpbnRlcm5hbCByZWRpcmVjdCBpdCBvY2N1cnMgdW5wcmVkaWN0YWJseQogICAgLy8gICAvLyAgICAgICAgICAgY29uc29sZS5sb2coJzMwNyByZWRpcmVjdCBvbiAic2lnbmVkIHVybCIgZG93bmxvYWQnKQogICAgLy8gICAvLyAgICAgICAgIH0gZWxzZSB7CiAgICAvLyAgIC8vICAgICAgICAgICAocmVxUmVzdWx0LmhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gLSAwKS5zaG91bGQuYmUuZXEoNTYxODM5KTsKICAgIC8vICAgLy8gICAgICAgICB9CiAgICAvLyAgIC8vICAgICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICAvLyBpdCgnU2hvdWxkIGJlIGFibGUgdG8gdXBkYXRlIGEgbmV3IHRodW1ibmFpbCBpbWFnZScsIGFzeW5jICgpID0+IHsKICAgIC8vICAgLy8gICAgICAgLy8gICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAvLyAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgIC8vICAgICAucHV0KGAvdmlkZW9zLyR7Zmlyc3RWaWRlby5pZH0vdXBsb2FkP3RodW1ibmFpbD10cnVlYCkKICAgIC8vICAgLy8gICAgICAgLy8gICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAvLyAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vICAgICAgIC8vCiAgICAvLyAgIC8vICAgICAgIC8vICAgcmVzdWx0LmJvZHkudXBsb2FkaW5nVXJsLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICAvLyAgIGxldCB1cGxvYWRpbmdVcmwgPSByZXN1bHQuYm9keS51cGxvYWRpbmdVcmw7CiAgICAvLyAgIC8vICAgICAgIC8vICAgbGV0IGJvZHkgPSBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9tb2NrL2ltYWdlcy83S2IuanBnJyk7CiAgICAvLyAgIC8vICAgICAgIC8vICAgYXdhaXQocnAoewogICAgLy8gICAvLyAgICAgICAvLyAgICAgbWV0aG9kOiAiUFVUIiwKICAgIC8vICAgLy8gICAgICAgLy8gICAgIHVybDogdXBsb2FkaW5nVXJsLAogICAgLy8gICAvLyAgICAgICAvLyAgICAgYm9keTogYm9keSwKICAgIC8vICAgLy8gICAgICAgLy8gICB9KSk7CiAgICAvLyAgIC8vICAgICAgIC8vCiAgICAvLyAgIC8vICAgICAgIC8vICAgbGV0IHJlcVJlc3VsdAogICAgLy8gICAvLyAgICAgICAvLyAgICAgLCByZXFPcHRpb25zCiAgICAvLyAgIC8vICAgICAgIC8vCiAgICAvLyAgIC8vICAgICAgIC8vICAgcmVxT3B0aW9ucyA9IHsKICAgIC8vICAgLy8gICAgICAgLy8gICAgIHVyaSAgICAgICAgICAgICAgICAgICAgOiBtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSArIGAvdmlkZW9zLyR7Zmlyc3RWaWRlby5pZH0vZG93bmxvYWQ/dGh1bWJuYWlsPXRydWVgLAogICAgLy8gICAvLyAgICAgICAvLyAgICAgZm9sbG93UmVkaXJlY3QgICAgICAgICA6IHRydWUsCiAgICAvLyAgIC8vICAgICAgIC8vICAgICByZXNvbHZlV2l0aEZ1bGxSZXNwb25zZTogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgLy8gICAgIGpzb24gICAgICAgICAgICAgICAgICAgOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAvLyAgICAgZW5jb2RpbmcgICAgICAgICAgICAgICA6IG51bGwsCiAgICAvLyAgIC8vICAgICAgIC8vICAgICBoZWFkZXJzICAgICAgICAgICAgICAgIDogewogICAgLy8gICAvLyAgICAgICAvLyAgICAgICAnQXV0aG9yaXphdGlvbic6IG1haW5Vc2VyVG9rZW4KICAgIC8vICAgLy8gICAgICAgLy8gICAgIH0KICAgIC8vICAgLy8gICAgICAgLy8gICB9OwogICAgLy8gICAvLyAgICAgICAvLyAgIHRyeSB7CiAgICAvLyAgIC8vICAgICAgIC8vICAgICByZXFSZXN1bHQgPSBhd2FpdCBycChyZXFPcHRpb25zKTsKICAgIC8vICAgLy8gICAgICAgLy8gICB9IGNhdGNoIChlKSB7CiAgICAvLyAgIC8vICAgICAgIC8vICAgICByZXFSZXN1bHQgPSBlOwogICAgLy8gICAvLyAgICAgICAvLyAgIH0KICAgIC8vICAgLy8gICAgICAgLy8KICAgIC8vICAgLy8gICAgICAgLy8KICAgIC8vICAgLy8gICAgICAgLy8KICAgIC8vICAgLy8gICAgICAgLy8gICBpZiAocmVxUmVzdWx0LnN0YXR1c0NvZGUgPT09IDMwNykgeyAvL2FtYXpvbiBtYWtlcyBpbnRlcm5hbCByZWRpcmVjdCBpdCBvY2N1cnMgdW5wcmVkaWN0YWJseQogICAgLy8gICAvLyAgICAgICAvLyAgICAgY29uc29sZS5sb2coJzMwNyByZWRpcmVjdCBvbiAic2lnbmVkIHVybCIgZG93bmxvYWQnKQogICAgLy8gICAvLyAgICAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgIC8vICAgICAgIC8vICAgICAocmVxUmVzdWx0LmhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gLSAwKS5zaG91bGQuYmUuZXEoNTYxODM5KTsKICAgIC8vICAgLy8gICAgICAgLy8gICB9CiAgICAvLyAgIC8vICAgICAgIC8vIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBpdCgnU2hvdWxkIGJlIGFibGUgdG8gZ2V0IGhscyBwcm9wZXJ0aWVzJywgYXN5bmMgKCkgPT4gewogICAgLy8gICAvLyAgICAgICAgIGxldCByZXFSZXN1bHQKICAgIC8vICAgLy8gICAgICAgICAgICwgcmVxT3B0aW9ucwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICAgIHJlcU9wdGlvbnMgPSB7CiAgICAvLyAgIC8vICAgICAgICAgICB1cmkgICAgICAgICAgICAgICAgICAgIDogbW9ja3MuZ2V0U2VydmVyVXJsKCkgKyBgL3BsYXkvJHtmaXJzdFZpZGVvLmlkfWAsCiAgICAvLyAgIC8vICAgICAgICAgICBmb2xsb3dSZWRpcmVjdCAgICAgICAgIDogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgIHJlc29sdmVXaXRoRnVsbFJlc3BvbnNlOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAganNvbiAgICAgICAgICAgICAgICAgICA6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICBlbmNvZGluZyAgICAgICAgICAgICAgIDogbnVsbCwKICAgIC8vICAgLy8gICAgICAgICAgIGhlYWRlcnMgICAgICAgICAgICAgICAgOiB7CiAgICAvLyAgIC8vICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogbWFpblVzZXJUb2tlbgogICAgLy8gICAvLyAgICAgICAgICAgfQogICAgLy8gICAvLyAgICAgICAgIH07CiAgICAvLyAgIC8vICAgICAgICAgdHJ5IHsKICAgIC8vICAgLy8gICAgICAgICAgIHJlcVJlc3VsdCA9IGF3YWl0IHJwKHJlcU9wdGlvbnMpOwogICAgLy8gICAvLyAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgIC8vICAgLy8gICAgICAgICAgIHJlcVJlc3VsdCA9IGU7CiAgICAvLyAgIC8vICAgICAgICAgfQogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICAgIGV4cGVjdChyZXFSZXN1bHQuYm9keSkudG8uaGF2ZS5wcm9wZXJ0eSgnbWV0YWRhdGEnKTsKICAgIC8vICAgLy8gICAgICAgICBleHBlY3QocmVxUmVzdWx0LmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ2hscycpOwogICAgLy8gICAvLyAgICAgICAgIGV4cGVjdChyZXFSZXN1bHQuYm9keSkudG8uaGF2ZS5wcm9wZXJ0eSgnY3JlZGVudGlhbHMnKTsKICAgIC8vICAgLy8gICAgICAgICBtZXRhZGF0YSAgICA9IHJlcVJlc3VsdC5ib2R5Lm1ldGFkYXRhOwogICAgLy8gICAvLyAgICAgICAgIGhscyAgICAgICAgID0gcmVxUmVzdWx0LmJvZHkuaGxzOwogICAgLy8gICAvLyAgICAgICAgIGNyZWRlbnRpYWxzID0gcmVxUmVzdWx0LmJvZHkuY3JlZGVudGlhbHM7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICAgbWV0YWRhdGEuc2hvdWxkLmhhdmUucHJvcGVydHkoJ2NhbWVyYXMnKTsKICAgIC8vICAgLy8gICAgICAgICBPYmplY3Qua2V5cyhtZXRhZGF0YS5jYW1lcmFzKS5tYXAobiA9PiB7CiAgICAvLyAgIC8vICAgICAgICAgICBobHNbbl0uc2hvdWxkLmJlLm5vdC5udWxsOwogICAgLy8gICAvLyAgICAgICAgIH0pOwogICAgLy8gICAvLyAgICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgaXQoJ1Nob3VsZCBiZSBhYmxlIHRvIHBsYXkgaGxzIGZyb20gQ0ROJywgYXN5bmMgKCkgPT4gewogICAgLy8gICAvLyAgICAgICAgIGxldCByZXFSZXN1bHQKICAgIC8vICAgLy8gICAgICAgICAgICwgcmVxT3B0aW9ucwogICAgLy8gICAvLyAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKE9iamVjdC5rZXlzKGhscykubWFwKGFzeW5jIG4gPT4gewogICAgLy8gICAvLyAgICAgICAgICAgbGV0IGNvb2tpZSA9ICcnOwogICAgLy8gICAvLyAgICAgICAgICAgT2JqZWN0LmtleXMoY3JlZGVudGlhbHMuY29va2llcykuZm9yRWFjaChrZXkgPT4gewogICAgLy8gICAvLyAgICAgICAgICAgICBjb29raWUgKz0gYCR7a2V5fT0ke2NyZWRlbnRpYWxzLmNvb2tpZXNba2V5XX07YAogICAgLy8gICAvLyAgICAgICAgICAgfSk7CiAgICAvLyAgIC8vICAgICAgICAgICByZXFPcHRpb25zID0gewogICAgLy8gICAvLyAgICAgICAgICAgICB1cmkgICAgICAgICAgICAgICAgICAgIDogaGxzW25dLAogICAgLy8gICAvLyAgICAgICAgICAgICBmb2xsb3dSZWRpcmVjdCAgICAgICAgIDogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgICAgcmVzb2x2ZVdpdGhGdWxsUmVzcG9uc2U6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICAgIGpzb24gICAgICAgICAgICAgICAgICAgOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAgICBlbmNvZGluZyAgICAgICAgICAgICAgIDogbnVsbCwKICAgIC8vICAgLy8gICAgICAgICAgICAgaGVhZGVycyAgICAgICAgICAgICAgICA6IHsKICAgIC8vICAgLy8gICAgICAgICAgICAgICAnQ29va2llJyAgICAgICA6IGNvb2tpZSwKICAgIC8vICAgLy8gICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IG1haW5Vc2VyVG9rZW4KICAgIC8vICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAvLyAgICAgICAgICAgfTsKICAgIC8vICAgLy8gICAgICAgICAgIHJlcVJlc3VsdCAgPSBhd2FpdCBycChyZXFPcHRpb25zKTsKICAgIC8vICAgLy8gICAgICAgICAgIGlmIChyZXFSZXN1bHQuc3RhdHVzQ29kZSA9PT0gMzA3KSB7IC8vYW1hem9uIG1ha2VzIGludGVybmFsIHJlZGlyZWN0IGl0IG9jY3VycyB1bnByZWRpY3RhYmx5CiAgICAvLyAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKCczMDcgcmVkaXJlY3Qgb24gInNpZ25lZCB1cmwiIGRvd25sb2FkJykKICAgIC8vICAgLy8gICAgICAgICAgIH0gZWxzZSB7CiAgICAvLyAgIC8vICAgICAgICAgICAgIChyZXFSZXN1bHQuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSAtIDApLnNob3VsZC5iZS5ndGUoMSk7CiAgICAvLyAgIC8vICAgICAgICAgICB9CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICAgfSkpOwogICAgLy8gICAvLyAgICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgaXQoJ0Rvd25sb2FkIGZpbGUgZnJvbSBwcml2YXRlIGxpbmsgc2hhcmluZyBwYWdlICh3aXRob3V0IGFueSBhdXRoZW50aWNhdGlvbiknLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICAgIGxldCByZXN1bHQKICAgIC8vICAgLy8gICAgICAgICAsIHJlcU9wdGlvbnMKICAgIC8vICAgLy8gICAgICAgICAsIGRvd25sb2FkTGluayA9IHNoYXJlTGluayArICc/ZGlyZWN0PXRydWUnOwogICAgLy8gICAvLyAgICAgICByZXFPcHRpb25zID0gewogICAgLy8gICAvLyAgICAgICAgIHVyaTogZG93bmxvYWRMaW5rLAogICAgLy8gICAvLyAgICAgICAgIGZvbGxvd1JlZGlyZWN0OiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgIHJlc29sdmVXaXRoRnVsbFJlc3BvbnNlOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgIGpzb246IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgZW5jb2Rpbmc6IG51bGwsCiAgICAvLyAgIC8vICAgICAgIH07CiAgICAvLyAgIC8vICAgICAgIHRyeSB7CiAgICAvLyAgIC8vICAgICAgICAgcmVzdWx0ID0gYXdhaXQocnAocmVxT3B0aW9ucykpOwogICAgLy8gICAvLyAgICAgICB9IGNhdGNoIChlKSB7CiAgICAvLyAgIC8vICAgICAgICAgcmVzdWx0ID0gZTsKICAgIC8vICAgLy8gICAgICAgfQogICAgLy8gICAvLyAgICAgICBpZiAocmVzdWx0LnN0YXR1c0NvZGUgPT09IDMwNykgeyAvL2FtYXpvbiBtYWtlcyBpbnRlcm5hbCByZWRpcmVjdCBpdCBvY2N1cnMgdW5wcmVkaWN0YWJseQogICAgLy8gICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCczMDcgcmVkaXJlY3Qgb24gInNpZ25lZCB1cmwiIGRvd25sb2FkJykKICAgIC8vICAgLy8gICAgICAgfSBlbHNlIHsKICAgIC8vICAgLy8gICAgICAgICByZXN1bHQuaGVhZGVyc1snY29udGVudC1kaXNwb3NpdGlvbiddLnNob3VsZC5iZS5lcShgYXR0YWNobWVudDsgZmlsZW5hbWU9JHtmaXJzdFZpZGVvLnRpdGxlfS5mdnBgKTsKICAgIC8vICAgLy8gICAgICAgICAocmVzdWx0LmhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gLSAwKS5zaG91bGQuYmUuZ3RlKDEpOwogICAgLy8gICAvLyAgICAgICB9CiAgICAvLyAgIC8vICAgICB9KTsKICAgIC8vICAgLy8gICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8KICAgIC8vICAgLy8gICBkZXNjcmliZSgnVXBsb2FkZWQgdXNpbmcgbXVsdGlwYXJ0IHVwbG9hZCcsICgpPT57CiAgICAvLyAgIC8vICAgICBsZXQgc2hhcmVMaW5rOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgYmVmb3JlKGFzeW5jICgpPT57CiAgICAvLyAgIC8vICAgICAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLmdldChgL3ZpZGVvcy8ke3NlY29uZFZpZGVvLmlkfT9zaGFyZUxpbms9dHJ1ZWApCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIHNoYXJlTGluayA9IHJlc3VsdC5ib2R5LnNoYXJlTGluazsKICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgaXQoJ0dldCBodG1sIHBhZ2UgZm9yIGRvd25sb2FkaW5nJywgYXN5bmMgKCk9PnsKICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdAogICAgLy8gICAvLyAgICAgICAgICwgcmVxT3B0aW9ucwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICByZXFPcHRpb25zID0gewogICAgLy8gICAvLyAgICAgICAgIHVyaTogc2hhcmVMaW5rLAogICAgLy8gICAvLyAgICAgICAgIGZvbGxvd1JlZGlyZWN0OiBmYWxzZSwKICAgIC8vICAgLy8gICAgICAgICByZXNvbHZlV2l0aEZ1bGxSZXNwb25zZTogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICBqc29uOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgIGVuY29kaW5nOiBudWxsLAogICAgLy8gICAvLyAgICAgICB9OwogICAgLy8gICAvLyAgICAgICB0cnkgewogICAgLy8gICAvLyAgICAgICAgIHJlc3VsdCA9IGF3YWl0KHJwKHJlcU9wdGlvbnMpKTsKICAgIC8vICAgLy8gICAgICAgfSBjYXRjaCAoZSkgewogICAgLy8gICAvLyAgICAgICAgIHJlc3VsdCA9IGU7CiAgICAvLyAgIC8vICAgICAgIH0KICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgcmVzdWx0LnN0YXR1c0NvZGUuc2hvdWxkLmJlLmVxKDIwMCk7CiAgICAvLyAgIC8vICAgICAgIHJlc3VsdC5oZWFkZXJzLnNob3VsZC5iZS5ub3QudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICByZXN1bHQuaGVhZGVyc1snY29udGVudC10eXBlJ10uc2hvdWxkLmJlLmVxKCd0ZXh0L2h0bWwnKTsKICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgZGVzY3JpYmUoJ1Nob3VsZCBiZSBhYmxlIHRvIGRvd25sb2FkIHZpZGVvIGZpbGVzJywgZnVuY3Rpb24gKCkgewogICAgLy8gICAvLyAgICAgICB0aGlzLnRpbWVvdXQoMjAwMDApOwogICAgLy8gICAvLyAgICAgICBsZXQgaGxzLCBjcmVkZW50aWFscywgbWV0YWRhdGE7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIGl0KCdTaG91bGQgYmUgYWJsZSB0byBkb3dubG9hZCB2aWRlbycsIGFzeW5jICgpID0+IHsKICAgIC8vICAgLy8gICAgICAgICBsZXQgcmVzdWx0CiAgICAvLyAgIC8vICAgICAgICAgICAsIHJlcU9wdGlvbnMKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgICAvLyBkb3dubG9hZCB2aWRlbwogICAgLy8gICAvLyAgICAgICAgIHJlcU9wdGlvbnMgPSB7CiAgICAvLyAgIC8vICAgICAgICAgICB1cmkgICAgICAgICAgICAgICAgICAgIDogbW9ja3MuZ2V0U2VydmVyVXJsKCkgKyBgL3ZpZGVvcy8ke3NlY29uZFZpZGVvLmlkfS9kb3dubG9hZGAsCiAgICAvLyAgIC8vICAgICAgICAgICBmb2xsb3dSZWRpcmVjdCAgICAgICAgIDogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgIHJlc29sdmVXaXRoRnVsbFJlc3BvbnNlOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAganNvbiAgICAgICAgICAgICAgICAgICA6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICBlbmNvZGluZyAgICAgICAgICAgICAgIDogbnVsbCwKICAgIC8vICAgLy8gICAgICAgICAgIGhlYWRlcnMgICAgICAgICAgICAgICAgOiB7CiAgICAvLyAgIC8vICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogbWFpblVzZXJUb2tlbgogICAgLy8gICAvLyAgICAgICAgICAgfQogICAgLy8gICAvLyAgICAgICAgIH07CiAgICAvLyAgIC8vICAgICAgICAgdHJ5IHsKICAgIC8vICAgLy8gICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHJwKHJlcU9wdGlvbnMpOwogICAgLy8gICAvLyAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgIC8vICAgLy8gICAgICAgICAgIHJlc3VsdCA9IGU7CiAgICAvLyAgIC8vICAgICAgICAgfQogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzQ29kZSA9PT0gMzA3KSB7IC8vYW1hem9uIG1ha2VzIGludGVybmFsIHJlZGlyZWN0IGl0IG9jY3VycyB1bnByZWRpY3RhYmx5CiAgICAvLyAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZygnMzA3IHJlZGlyZWN0IG9uICJzaWduZWQgdXJsIiBkb3dubG9hZCcpCiAgICAvLyAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgLy8gICAgICAgICAgIHJlc3VsdC5oZWFkZXJzWydjb250ZW50LWRpc3Bvc2l0aW9uJ10uc2hvdWxkLmJlLmVxKGBhdHRhY2htZW50OyBmaWxlbmFtZT0ke3NlY29uZFZpZGVvLnRpdGxlfS5mdnBgKTsKICAgIC8vICAgLy8gICAgICAgICAgIChyZXN1bHQuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSAtIDApLnNob3VsZC5iZS5ndGUoMSk7CiAgICAvLyAgIC8vICAgICAgICAgfQogICAgLy8gICAvLyAgICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgaXQoJ1Nob3VsZCBiZSBhYmxlIHRvIGRvd25sb2FkIHRodW1ibmFpbCAoaXQgaXMgYXV0b21hdGljYWxseSByZXRyaWV2ZWQpJywgYXN5bmMgKCkgPT4gewogICAgLy8gICAvLyAgICAgICAgIGxldCByZXFSZXN1bHQKICAgIC8vICAgLy8gICAgICAgICAgICwgcmVxT3B0aW9ucwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICAgIHJlcU9wdGlvbnMgPSB7CiAgICAvLyAgIC8vICAgICAgICAgICB1cmkgICAgICAgICAgICAgICAgICAgIDogbW9ja3MuZ2V0U2VydmVyVXJsKCkgKyBgL3ZpZGVvcy8ke3NlY29uZFZpZGVvLmlkfS9kb3dubG9hZD90aHVtYm5haWw9dHJ1ZWAsCiAgICAvLyAgIC8vICAgICAgICAgICBmb2xsb3dSZWRpcmVjdCAgICAgICAgIDogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgIHJlc29sdmVXaXRoRnVsbFJlc3BvbnNlOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAganNvbiAgICAgICAgICAgICAgICAgICA6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICBlbmNvZGluZyAgICAgICAgICAgICAgIDogbnVsbCwKICAgIC8vICAgLy8gICAgICAgICAgIGhlYWRlcnMgICAgICAgICAgICAgICAgOiB7CiAgICAvLyAgIC8vICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogbWFpblVzZXJUb2tlbgogICAgLy8gICAvLyAgICAgICAgICAgfQogICAgLy8gICAvLyAgICAgICAgIH07CiAgICAvLyAgIC8vICAgICAgICAgdHJ5IHsKICAgIC8vICAgLy8gICAgICAgICAgIHJlcVJlc3VsdCA9IGF3YWl0IHJwKHJlcU9wdGlvbnMpOwogICAgLy8gICAvLyAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgIC8vICAgLy8gICAgICAgICAgIHJlcVJlc3VsdCA9IGU7CiAgICAvLyAgIC8vICAgICAgICAgfQogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICAgIGlmIChyZXFSZXN1bHQuc3RhdHVzQ29kZSA9PT0gMzA3KSB7IC8vYW1hem9uIG1ha2VzIGludGVybmFsIHJlZGlyZWN0IGl0IG9jY3VycyB1bnByZWRpY3RhYmx5CiAgICAvLyAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZygnMzA3IHJlZGlyZWN0IG9uICJzaWduZWQgdXJsIiBkb3dubG9hZCcpCiAgICAvLyAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgLy8gICAgICAgICAgIChyZXFSZXN1bHQuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSAtIDApLnNob3VsZC5iZS5lcSg1NjE4MzkpOwogICAgLy8gICAvLyAgICAgICAgIH0KICAgIC8vICAgLy8gICAgICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIGl0KCdTaG91bGQgYmUgYWJsZSB0byBnZXQgaGxzIHByb3BlcnRpZXMnLCBhc3luYyAoKSA9PiB7CiAgICAvLyAgIC8vICAgICAgICAgbGV0IHJlcVJlc3VsdAogICAgLy8gICAvLyAgICAgICAgICAgLCByZXFPcHRpb25zCiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICAgcmVxT3B0aW9ucyA9IHsKICAgIC8vICAgLy8gICAgICAgICAgIHVyaSAgICAgICAgICAgICAgICAgICAgOiBtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSArIGAvcGxheS8ke3NlY29uZFZpZGVvLmlkfWAsCiAgICAvLyAgIC8vICAgICAgICAgICBmb2xsb3dSZWRpcmVjdCAgICAgICAgIDogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgIHJlc29sdmVXaXRoRnVsbFJlc3BvbnNlOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAganNvbiAgICAgICAgICAgICAgICAgICA6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICBlbmNvZGluZyAgICAgICAgICAgICAgIDogbnVsbCwKICAgIC8vICAgLy8gICAgICAgICAgIGhlYWRlcnMgICAgICAgICAgICAgICAgOiB7CiAgICAvLyAgIC8vICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogbWFpblVzZXJUb2tlbgogICAgLy8gICAvLyAgICAgICAgICAgfQogICAgLy8gICAvLyAgICAgICAgIH07CiAgICAvLyAgIC8vICAgICAgICAgdHJ5IHsKICAgIC8vICAgLy8gICAgICAgICAgIHJlcVJlc3VsdCA9IGF3YWl0IHJwKHJlcU9wdGlvbnMpOwogICAgLy8gICAvLyAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgIC8vICAgLy8gICAgICAgICAgIHJlcVJlc3VsdCA9IGU7CiAgICAvLyAgIC8vICAgICAgICAgfQogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICAgIGV4cGVjdChyZXFSZXN1bHQuYm9keSkudG8uaGF2ZS5wcm9wZXJ0eSgnbWV0YWRhdGEnKTsKICAgIC8vICAgLy8gICAgICAgICBleHBlY3QocmVxUmVzdWx0LmJvZHkpLnRvLmhhdmUucHJvcGVydHkoJ2hscycpOwogICAgLy8gICAvLyAgICAgICAgIGV4cGVjdChyZXFSZXN1bHQuYm9keSkudG8uaGF2ZS5wcm9wZXJ0eSgnY3JlZGVudGlhbHMnKTsKICAgIC8vICAgLy8gICAgICAgICBtZXRhZGF0YSAgICA9IHJlcVJlc3VsdC5ib2R5Lm1ldGFkYXRhOwogICAgLy8gICAvLyAgICAgICAgIGhscyAgICAgICAgID0gcmVxUmVzdWx0LmJvZHkuaGxzOwogICAgLy8gICAvLyAgICAgICAgIGNyZWRlbnRpYWxzID0gcmVxUmVzdWx0LmJvZHkuY3JlZGVudGlhbHM7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICAgbWV0YWRhdGEuc2hvdWxkLmhhdmUucHJvcGVydHkoJ2NhbWVyYXMnKTsKICAgIC8vICAgLy8gICAgICAgICBPYmplY3Qua2V5cyhtZXRhZGF0YS5jYW1lcmFzKS5tYXAobiA9PiB7CiAgICAvLyAgIC8vICAgICAgICAgICBobHNbbl0uc2hvdWxkLmJlLm5vdC5udWxsOwogICAgLy8gICAvLyAgICAgICAgIH0pOwogICAgLy8gICAvLyAgICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgaXQoJ1Nob3VsZCBiZSBhYmxlIHRvIHBsYXkgaGxzIGZyb20gQ0ROJywgYXN5bmMgKCkgPT4gewogICAgLy8gICAvLyAgICAgICAgIGxldCByZXFSZXN1bHQKICAgIC8vICAgLy8gICAgICAgICAgICwgcmVxT3B0aW9ucwogICAgLy8gICAvLyAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKE9iamVjdC5rZXlzKGhscykubWFwKGFzeW5jIG4gPT4gewogICAgLy8gICAvLyAgICAgICAgICAgbGV0IGNvb2tpZSA9ICcnOwogICAgLy8gICAvLyAgICAgICAgICAgT2JqZWN0LmtleXMoY3JlZGVudGlhbHMuY29va2llcykuZm9yRWFjaChrZXkgPT4gewogICAgLy8gICAvLyAgICAgICAgICAgICBjb29raWUgKz0gYCR7a2V5fT0ke2NyZWRlbnRpYWxzLmNvb2tpZXNba2V5XX07YAogICAgLy8gICAvLyAgICAgICAgICAgfSk7CiAgICAvLyAgIC8vICAgICAgICAgICByZXFPcHRpb25zID0gewogICAgLy8gICAvLyAgICAgICAgICAgICB1cmkgICAgICAgICAgICAgICAgICAgIDogaGxzW25dLAogICAgLy8gICAvLyAgICAgICAgICAgICBmb2xsb3dSZWRpcmVjdCAgICAgICAgIDogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICAgICAgcmVzb2x2ZVdpdGhGdWxsUmVzcG9uc2U6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAgICAgIGpzb24gICAgICAgICAgICAgICAgICAgOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgICAgICBlbmNvZGluZyAgICAgICAgICAgICAgIDogbnVsbCwKICAgIC8vICAgLy8gICAgICAgICAgICAgaGVhZGVycyAgICAgICAgICAgICAgICA6IHsKICAgIC8vICAgLy8gICAgICAgICAgICAgICAnQ29va2llJyAgICAgICA6IGNvb2tpZSwKICAgIC8vICAgLy8gICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IG1haW5Vc2VyVG9rZW4KICAgIC8vICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAvLyAgICAgICAgICAgfTsKICAgIC8vICAgLy8gICAgICAgICAgIHJlcVJlc3VsdCAgPSBhd2FpdCBycChyZXFPcHRpb25zKTsKICAgIC8vICAgLy8gICAgICAgICAgIGlmIChyZXFSZXN1bHQuc3RhdHVzQ29kZSA9PT0gMzA3KSB7IC8vYW1hem9uIG1ha2VzIGludGVybmFsIHJlZGlyZWN0IGl0IG9jY3VycyB1bnByZWRpY3RhYmx5CiAgICAvLyAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKCczMDcgcmVkaXJlY3Qgb24gInNpZ25lZCB1cmwiIGRvd25sb2FkJykKICAgIC8vICAgLy8gICAgICAgICAgIH0gZWxzZSB7CiAgICAvLyAgIC8vICAgICAgICAgICAgIChyZXFSZXN1bHQuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSAtIDApLnNob3VsZC5iZS5ndGUoMSk7CiAgICAvLyAgIC8vICAgICAgICAgICB9CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICAgfSkpOwogICAgLy8gICAvLyAgICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLyAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgIGl0KCdPd25lciBjYW4gZ2V0IGxhc3QgdHdvIGNyZWF0ZWQgdmlkZW9zJywgYXN5bmMgKCkgPT4gewogICAgLy8gICAvLyAgICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgIC5nZXQoYC92aWRlb3M/Y2hhbm5lbElkPSR7bWFpblVzZXJCYWNrdXBzQ2hhbm5lbC5pZH0mZnVsZmlsbEZvbGRlcnM9dHJ1ZSZsaW1pdD0xMGApCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGxldCB2aWRlb3MgPSByZXN1bHQuYm9keS52aWRlb3M7CiAgICAvLyAgIC8vICAgICB2aWRlb3MuZmluZCh2PT52LmlkID09PSBmaXJzdFZpZGVvLmlkKS5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgIHZpZGVvcy5maW5kKHY9PnYuaWQgPT09IHNlY29uZFZpZGVvLmlkKS5zaG91bGQuYmUubm90LnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICB9KTsKICAgIC8vICAgLy8gfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vIGRlc2NyaWJlKCdEZWxldGUnLCBhc3luYyAoKT0+ewogICAgLy8gICAvLyAgIGl0KCdTaG91bGQgYmUgYWJsZSB0byBkZWxldGUgdmlkZW8nLCBhc3luYyAoKT0+ewogICAgLy8gICAvLyAgICAgbGV0IHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgIC5kZWxldGUoYC92aWRlb3MvJHtmaXJzdFZpZGVvLmlkfWApCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIHJlc3VsdC5ib2R5LnN1Y2Nlc3Muc2hvdWxkLmJlLmVxKHRydWUpOwogICAgLy8gICAvLyAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgIGl0KCdOb3QgcGVybWl0dGVkIHVzZXIgc2hvdWxkIE5PVCBiZSBhYmxlIHRvIGRlbGV0ZSB2aWRlbycsIGFzeW5jICgpPT57CiAgICAvLyAgIC8vICAgICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgLmRlbGV0ZShgL3ZpZGVvcy8ke3NlY29uZFZpZGVvLmlkfWApCiAgICAvLyAgIC8vICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBzZWNvbmRVc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgcmVzdWx0LmJvZHkuc3VjY2Vzcy5zaG91bGQuYmUuZXEoZmFsc2UpOwogICAgLy8gICAvLyAgICAgcmVzdWx0LmJvZHkuZXJyb3IuY29kZS5zaG91bGQuYmUuZXEoNDAzKTsKICAgIC8vICAgLy8gICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICBkZXNjcmliZSgnU2hvdWxkIGdldHRpbmcgZXJyb3JzIHdoZW4gdHJ5aW5nIHRvIGFjY2VzcycsICgpPT57CiAgICAvLyAgIC8vICAgICBsZXQgc2hhcmVMaW5rOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgYmVmb3JlKGFzeW5jICgpPT57CiAgICAvLyAgIC8vICAgICAgIGxldCByZXN1bHQgPSBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLmdldChgL3ZpZGVvcy8ke3NlY29uZFZpZGVvLmlkfT9zaGFyZUxpbms9dHJ1ZWApCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vICAgICAgICghIXJlc3VsdC5ib2R5LmVycm9yKS5zaG91bGQuYmUuZXEoZmFsc2UpOwogICAgLy8gICAvLyAgICAgICAoISFyZXN1bHQuYm9keS52aWRlbykuc2hvdWxkLmJlLmVxKHRydWUpOwogICAgLy8gICAvLyAgICAgICBzaGFyZUxpbmsgPSByZXN1bHQuYm9keS5zaGFyZUxpbms7CiAgICAvLyAgIC8vICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGl0KCdHZXQgZXJyb3Igb24gR0VUIHZpZGVvIHJlcXVlc3QnLCBhc3luYyAoKT0+ewogICAgLy8gICAvLyAgICAgICBhd2FpdChjaGFpIC8vIGRlbGV0ZSB2aWRlbwogICAgLy8gICAvLyAgICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAgIC5kZWxldGUoYC92aWRlb3MvJHtzZWNvbmRWaWRlby5pZH1gKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBsZXQgcmVzdWx0ID0ge30KICAgIC8vICAgLy8gICAgICAgdHJ5IHsKICAgIC8vICAgLy8gICAgICAgICByZXN1bHQgPSBhd2FpdChjaGFpIC8vZ2V0IHZpZGVvCiAgICAvLyAgIC8vICAgICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAgIC5nZXQoYC92aWRlb3MvJHtmaXJzdFZpZGVvLmlkfT9zaGFyZUxpbms9dHJ1ZWApCiAgICAvLyAgIC8vICAgICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLyAgICAgICB9IGNhdGNoKGUpewogICAgLy8gICAvLyAgICAgICAgIHJlc3VsdC5ib2R5ID0gZS5yZXNwb25zZS5ib2R5OwogICAgLy8gICAvLyAgICAgICB9CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgICghIXJlc3VsdC5ib2R5LmVycm9yKS5zaG91bGQuYmUuZXEodHJ1ZSk7CiAgICAvLyAgIC8vICAgICAgICghIXJlc3VsdC5ib2R5LnZpZGVvKS5zaG91bGQuYmUuZXEoZmFsc2UpOwogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBpdCgnR2V0IGVycm9yIGluc3RlYWQgb2YgcGFnZSBmb3IgZG93bmxvYWRpbmcnLCBhc3luYyAoKT0+ewogICAgLy8gICAvLyAgICAgICAvLyBnZXQgcmVkaXJlY3QgdXJsIHRvIHZpZGVvCiAgICAvLyAgIC8vICAgICAgIGxldCByZXFPcHRpb25zID0gewogICAgLy8gICAvLyAgICAgICAgIHVyaTogc2hhcmVMaW5rLAogICAgLy8gICAvLyAgICAgICAgIGZvbGxvd1JlZGlyZWN0OiBmYWxzZSwKICAgIC8vICAgLy8gICAgICAgICByZXNvbHZlV2l0aEZ1bGxSZXNwb25zZTogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICBqc29uOiB0cnVlLAogICAgLy8gICAvLyAgICAgICAgIGVuY29kaW5nOiBudWxsLAogICAgLy8gICAvLyAgICAgICB9OwogICAgLy8gICAvLyAgICAgICBsZXQgcmVzdWx0OwogICAgLy8gICAvLyAgICAgICB0cnkgewogICAgLy8gICAvLyAgICAgICAgIHJlc3VsdCA9IGF3YWl0KHJwKHJlcU9wdGlvbnMpKTsKICAgIC8vICAgLy8gICAgICAgfSBjYXRjaCAoZSkgewogICAgLy8gICAvLyAgICAgICAgIHJlc3VsdCA9IGU7CiAgICAvLyAgIC8vICAgICAgIH0KICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgcmVzdWx0LmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddLnNob3VsZC5iZS5lcSgnYXBwbGljYXRpb24vanNvbicpOwogICAgLy8gICAvLyAgICAgICByZXN1bHQuYm9keS5lcnJvci5jb2RlLnNob3VsZC5iZS5lcSg2MTMpOwogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICBpdCgnR2V0IGVycm9yIGluc3RlYWQgb2YgcmVkaXJlY3QgdG8gY2xvdWRmcm9udCcsIGFzeW5jICgpPT57CiAgICAvLyAgIC8vICAgICAgIC8vIGdldCByZWRpcmVjdCB1cmwgdG8gdmlkZW8KICAgIC8vICAgLy8gICAgICAgbGV0IHJlcU9wdGlvbnMgPSB7CiAgICAvLyAgIC8vICAgICAgICAgdXJpOiBzaGFyZUxpbmsgKyAnP2RpcmVjdD10cnVlJywKICAgIC8vICAgLy8gICAgICAgICBmb2xsb3dSZWRpcmVjdDogZmFsc2UsCiAgICAvLyAgIC8vICAgICAgICAgcmVzb2x2ZVdpdGhGdWxsUmVzcG9uc2U6IHRydWUsCiAgICAvLyAgIC8vICAgICAgICAganNvbjogdHJ1ZSwKICAgIC8vICAgLy8gICAgICAgICBlbmNvZGluZzogbnVsbCwKICAgIC8vICAgLy8gICAgICAgfTsKICAgIC8vICAgLy8gICAgICAgbGV0IHJlc3VsdDsKICAgIC8vICAgLy8gICAgICAgdHJ5IHsKICAgIC8vICAgLy8gICAgICAgICByZXN1bHQgPSBhd2FpdChycChyZXFPcHRpb25zKSk7CiAgICAvLyAgIC8vICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgIC8vICAgLy8gICAgICAgICByZXN1bHQgPSBlOwogICAgLy8gICAvLyAgICAgICB9CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIHJlc3VsdC5zdGF0dXNDb2RlLnNob3VsZC5iZS5ub3QuZXEoMzAyKTsKICAgIC8vICAgLy8gICAgICAgcmVzdWx0LmJvZHkuZXJyb3IuY29kZS5zaG91bGQuYmUuZXEoNjEzKTsKICAgIC8vICAgLy8gICAgIH0pOwogICAgLy8gICAvLyAgIH0pOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgIGRlc2NyaWJlKCdUZXN0IGlubmVyIGZvbGRlcnMnLCBmdW5jdGlvbigpewogICAgLy8gICAvLyAgICAgbGV0IGlubmVyRm9sZGVyUGF0aDEgPSAnL2lubmVyMScKICAgIC8vICAgLy8gICAgICAgLCBpbm5lckZvbGRlclBhdGgyID0gJy9pbm5lcjInCiAgICAvLyAgIC8vICAgICAgICwgaW5uZXJGb2xkZXJQYXRoMyA9ICcvaW5uZXIzJwogICAgLy8gICAvLyAgICAgICAsIHRhcmdldEZvbGRlclBhdGggPSAnL2lubmVyVmlkZW9zJwogICAgLy8gICAvLyAgICAgICAsIGlubmVyRm9sZGVyMQogICAgLy8gICAvLyAgICAgICAsIGlubmVyRm9sZGVyMgogICAgLy8gICAvLyAgICAgICAsIGlubmVyRm9sZGVyMwogICAgLy8gICAvLyAgICAgICAsIHRhcmdldEZvbGRlcgogICAgLy8gICAvLyAgICAgICAsIGlubmVyVmlkZW8KICAgIC8vICAgLy8gICAgIGxldCBmaWVsZHMgPSB7CiAgICAvLyAgIC8vICAgICAgIHRpdGxlICAgICAgOiAiSW5uZXIgdmlkZW8iLAogICAgLy8gICAvLyAgICAgICBkZXNjcmlwdGlvbjogIklubmVyIHZpZGVvIiwKICAgIC8vICAgLy8gICAgICAgaXNQdWJsaWMgICA6IGZhbHNlLAogICAgLy8gICAvLyAgICAgICB0eXBlICAgICAgIDogImJhY2t1cCIsCiAgICAvLyAgIC8vICAgICAgIGxvY2FsUGF0aCAgOiBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSArIGlubmVyRm9sZGVyUGF0aDIgKyBpbm5lckZvbGRlclBhdGgzICsgdGFyZ2V0Rm9sZGVyUGF0aAogICAgLy8gICAvLyAgICAgfTsKICAgIC8vICAgLy8gICAgIGJlZm9yZShhc3luYyBmdW5jdGlvbigpewogICAgLy8gICAvLyAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAgIC5wb3N0KCcvdmlkZW9zJykKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoZmllbGRzKSk7CiAgICAvLyAgIC8vICAgICAgIGlubmVyVmlkZW8gPSByZXN1bHQuYm9keS52aWRlbzsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgcmVzdWx0ID0gYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAgIC5wdXQoYC92aWRlb3MvJHtpbm5lclZpZGVvLmlkfS91cGxvYWRgKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLyAgICAgICBsZXQgdXBsb2FkaW5nVXJsID0gcmVzdWx0LmJvZHkudXBsb2FkaW5nVXJsOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICBsZXQgYm9keSA9IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL21vY2svdmlkZW9zL2JhY2t1cF92aWRlby5mdnAnKTsKICAgIC8vICAgLy8gICAgICAgYXdhaXQocnAoewogICAgLy8gICAvLyAgICAgICAgIG1ldGhvZDogIlBVVCIsCiAgICAvLyAgIC8vICAgICAgICAgdXJsOiB1cGxvYWRpbmdVcmwsCiAgICAvLyAgIC8vICAgICAgICAgYm9keTogYm9keSwKICAgIC8vICAgLy8gICAgICAgfSkpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICAvLyBhd2FpdChtb2Nrcy5oZWxwZXIud2FpdEFzeW5jKDEwMDApKTsgLy8gbGV0IGR5bmFtb2RiIHRyaWdnZXIgZXZlbnRzCiAgICAvLyAgIC8vICAgICB9KTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgIGl0KCdTaG91bGQgYXV0b21hdGljYWxseSByZW1vdmUgaW5uZXIgZm9sZGVycyBhbmQgdmlkZW9zJywgYXN5bmMgZnVuY3Rpb24oKXsKICAgIC8vICAgLy8gICAgICAgYXdhaXQoY2hhaQogICAgLy8gICAvLyAgICAgICAgIC5yZXF1ZXN0KG1vY2tzLmdldFNlcnZlclVybCgpKQogICAgLy8gICAvLyAgICAgICAgIC5nZXQoJy9jaGFubmVscy9mb2xkZXJzJykKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAvLyAgIC8vICAgICAgICAgLnNlbmQoKSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLmdldChgL3ZpZGVvcy8ke2lubmVyVmlkZW8uaWR9P3NoYXJlTGluaz10cnVlYCkKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAuc2VuZCgpOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICByZXN1bHQuYm9keS52aWRlby5pZC5zaG91bGQuYmUuZXEoaW5uZXJWaWRlby5pZCk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgICAgIHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAuZ2V0KCcvY2hhbm5lbHMvZm9sZGVycycpCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAvLyAgICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLyAgICAgICBsZXQgZm9sZGVycyA9IHJlc3VsdC5ib2R5LmZvbGRlcnM7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMSA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSk7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMS5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIyID0gZm9sZGVycy5maW5kKGYgPT4gZi5sb2NhbFBhdGggPT09IHBhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxICsgaW5uZXJGb2xkZXJQYXRoMik7CiAgICAvLyAgIC8vICAgICAgIGlubmVyRm9sZGVyMi5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIzID0gZm9sZGVycy5maW5kKGYgPT4gZi5sb2NhbFBhdGggPT09IHBhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxICsgaW5uZXJGb2xkZXJQYXRoMiArIGlubmVyRm9sZGVyUGF0aDMpOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjMuc2hvdWxkLm5vdC5iZS51bmRlZmluZWQ7CiAgICAvLyAgIC8vICAgICAgIHRhcmdldEZvbGRlciA9IGZvbGRlcnMuZmluZChmID0+IGYubG9jYWxQYXRoID09PSBwYXJlbnRGb2xkZXJQYXRoICsgaW5uZXJGb2xkZXJQYXRoMSArIGlubmVyRm9sZGVyUGF0aDIgKyBpbm5lckZvbGRlclBhdGgzICsgdGFyZ2V0Rm9sZGVyUGF0aCk7CiAgICAvLyAgIC8vICAgICAgIHRhcmdldEZvbGRlci5zaG91bGQubm90LmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgLy8gZGVsZXRlIGZvbGRlcgogICAgLy8gICAvLyAgICAgICBhd2FpdChjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLmRlbGV0ZShgL3ZpZGVvcy9mb2xkZXJzLzAvP2xvY2FsUGF0aD0ke3BhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxICsgaW5uZXJGb2xkZXJQYXRoMn1gKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBtYWluVXNlclRva2VuKQogICAgLy8gICAvLyAgICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC8vICAgLy8gICAgICAgICAuc2VuZCgpKTsKICAgIC8vICAgLy8KICAgIC8vICAgLy8gICAgICAgYXdhaXQobW9ja3MuaGVscGVyLndhaXRBc3luYygzMDAwKSk7IC8vIGxldCBkeW5hbW9kYiB0cmlnZ2VyIGV2ZW50cwogICAgLy8gICAvLyAgICAgICAvLyBzaG91bGQgbm90IHJldHVybiBkZWxldGVkIGZvbGRlciBhbmQgaXRzIGNoaWxkcmVuCiAgICAvLyAgIC8vICAgICAgIHJlc3VsdCA9IGF3YWl0KGNoYWkKICAgIC8vICAgLy8gICAgICAgICAucmVxdWVzdChtb2Nrcy5nZXRTZXJ2ZXJVcmwoKSkKICAgIC8vICAgLy8gICAgICAgICAuZ2V0KCcvY2hhbm5lbHMvZm9sZGVycycpCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIG1haW5Vc2VyVG9rZW4pCiAgICAvLyAgIC8vICAgICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLy8gICAvLyAgICAgICAgIC5zZW5kKCkpOwogICAgLy8gICAvLyAgICAgICBmb2xkZXJzID0gcmVzdWx0LmJvZHkuZm9sZGVyczsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIxID0gZm9sZGVycy5maW5kKGYgPT4gZi5sb2NhbFBhdGggPT09IHBhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxKTsKICAgIC8vICAgLy8gICAgICAgaW5uZXJGb2xkZXIxLnNob3VsZC5ub3QuYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjIgPSBmb2xkZXJzLmZpbmQoZiA9PiBmLmxvY2FsUGF0aCA9PT0gcGFyZW50Rm9sZGVyUGF0aCArIGlubmVyRm9sZGVyUGF0aDEgKyBpbm5lckZvbGRlclBhdGgyKTsKICAgIC8vICAgLy8gICAgICAgZXhwZWN0KGlubmVyRm9sZGVyMikudG8uYmUudW5kZWZpbmVkOwogICAgLy8gICAvLyAgICAgICBpbm5lckZvbGRlcjMgPSBmb2xkZXJzLmZpbmQoZiA9PiBmLmxvY2FsUGF0aCA9PT0gcGFyZW50Rm9sZGVyUGF0aCArIGlubmVyRm9sZGVyUGF0aDEgKyBpbm5lckZvbGRlclBhdGgyICsgaW5uZXJGb2xkZXJQYXRoMyk7CiAgICAvLyAgIC8vICAgICAgIGV4cGVjdChpbm5lckZvbGRlcjMpLnRvLmJlLnVuZGVmaW5lZDsKICAgIC8vICAgLy8gICAgICAgdGFyZ2V0Rm9sZGVyID0gZm9sZGVycy5maW5kKGYgPT4gZi5sb2NhbFBhdGggPT09IHBhcmVudEZvbGRlclBhdGggKyBpbm5lckZvbGRlclBhdGgxICsgaW5uZXJGb2xkZXJQYXRoMiArIGlubmVyRm9sZGVyUGF0aDMgKyB0YXJnZXRGb2xkZXJQYXRoKTsKICAgIC8vICAgLy8gICAgICAgZXhwZWN0KHRhcmdldEZvbGRlcikudG8uYmUudW5kZWZpbmVkOwogICAgLy8gICAvLwogICAgLy8gICAvLyAgICAgICAvLyBzaG91bGQgbm90IGhhdmUgYWNjZXNzIHRvIHZpZGVvcyBpbnNpZGUgdGhlIGZvbGRlcgogICAgLy8gICAvLyAgICAgICByZXN1bHQgPSBhd2FpdCBjaGFpCiAgICAvLyAgIC8vICAgICAgICAgLnJlcXVlc3QobW9ja3MuZ2V0U2VydmVyVXJsKCkpCiAgICAvLyAgIC8vICAgICAgICAgLmdldChgL3ZpZGVvcy8ke2lubmVyVmlkZW8uaWR9P3NoYXJlTGluaz10cnVlYCkKICAgIC8vICAgLy8gICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgbWFpblVzZXJUb2tlbikKICAgIC8vICAgLy8gICAgICAgICAuc2VuZCgpOwogICAgLy8gICAvLyAgICAgICByZXN1bHQuc3RhdHVzQ29kZS5zaG91bGQuYmUuZXEoNDAwKTsKICAgIC8vICAgLy8gICAgICAgcmVzdWx0LmJvZHkuZXJyb3IuY29kZS5zaG91bGQuYmUuZXEoNjEwKQogICAgLy8gICAvLyAgICAgfSk7CiAgICAvLyAgIC8vCiAgICAvLyAgIC8vICAgfSkKICAgIC8vICAgLy8gfSkKICAgIC8vIH0=</text>
      </register>
      <register name="v" type="4">
        <text>^f.hpj</text>
      </register>
      <register name="7" type="2">
        <text encoding="base64">ICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQuYm9keSkK</text>
      </register>
      <register name="8" type="2">
        <text encoding="base64">ICAgICAgICAgICAgY29uc29sZS5sb2cocmVxUmVzdWx0LmhlYWRlcnMpOwo=</text>
      </register>
      <register name="9" type="2">
        <text encoding="base64">ICAgICAgICAgICAgICAuZ2V0KCcvdXNlci9pbmZvJykK</text>
      </register>
      <register name=":" type="4">
        <text>q!</text>
      </register>
    </registers>
    <search>
      <last-search encoding="base64">XDxyb290XD4=</last-search>
      <last-offset />
      <last-pattern encoding="base64">XDxyb290XD4=</last-pattern>
      <last-replace encoding="base64">bGV0IA==</last-replace>
      <last-substitute encoding="base64">XDxWVUxDQU1cPg==</last-substitute>
      <last-dir>-1</last-dir>
      <show-last>false</show-last>
    </search>
    <history>
      <history-search>
        <entry>delete(`</entry>
        <entry>sharingBody</entry>
        <entry>console.log(</entry>
        <entry encoding="base64">XDxjb25zb2xlXD4=</entry>
        <entry>adblocker.website</entry>
        <entry>, returnedVideo</entry>
        <entry>save?</entry>
        <entry>await</entry>
        <entry>needMoreOffer</entry>
        <entry>offersCounter</entry>
        <entry>setT</entry>
        <entry>timeo</entry>
        <entry encoding="base64">XDxnZXRTaWduZWRVcmxcPg==</entry>
        <entry encoding="base64">XDxhd2FpdFw+</entry>
        <entry encoding="base64">XDxjaGFubmVsSWRcPg==</entry>
        <entry encoding="base64">XDxSZXF1ZXN0XD4=</entry>
        <entry encoding="base64">XDx2dWxjYW52aXNpb25cPg==</entry>
        <entry encoding="base64">XDwyNVw+</entry>
        <entry encoding="base64">XDxtb2Nrc1w+</entry>
        <entry encoding="base64">XDxyb290XD4=</entry>
      </history-search>
      <history-cmd>
        <entry>19</entry>
        <entry>e</entry>
        <entry>14</entry>
        <entry>50</entry>
        <entry>8</entry>
        <entry>23</entry>
        <entry>4</entry>
        <entry>29</entry>
        <entry>33</entry>
        <entry>wq</entry>
        <entry>499,502s/object/initialObject/g</entry>
        <entry>%s/removeOffersFunc/Offer/g</entry>
        <entry>68,85s/getHost(domain)/domainHost</entry>
        <entry>%e/ayankousky/keks/g</entry>
        <entry>%s/ayankousky/950372854860.dkr.ecr.eu-west-2.amazonaws.com/g</entry>
        <entry>%s/eu-west/us-west/g</entry>
        <entry>%s/var /let /g</entry>
        <entry>. kek</entry>
        <entry>w</entry>
        <entry>q!</entry>
      </history-cmd>
      <history-expr />
      <history-input />
    </history>
    <shortcut-conflicts>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed N</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed D</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed O</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed P</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed G</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed A</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed R</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed E</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed T</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed I</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed W</text>
      </shortcut-conflict>
    </shortcut-conflicts>
    <editor>
      <key-repeat enabled="false" />
    </editor>
  </component>
</application>